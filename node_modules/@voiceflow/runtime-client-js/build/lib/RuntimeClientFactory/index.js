"use strict";
var __importDefault = (this && this.__importDefault) || function (mod) {
    return (mod && mod.__esModule) ? mod : { "default": mod };
};
Object.defineProperty(exports, "__esModule", { value: true });
exports.RuntimeClientFactory = void 0;
const Client_1 = __importDefault(require("../Client"));
const RuntimeClient_1 = __importDefault(require("../RuntimeClient"));
const utils_1 = require("../Variables/utils");
const constants_1 = require("./constants");
class RuntimeClientFactory {
    constructor({ versionID, endpoint = constants_1.DEFAULT_ENDPOINT, apiKey, dataConfig, variables, axiosConfig }) {
        if (variables) {
            utils_1.validateVarMerge(variables);
        }
        this.client = new Client_1.default({ variables, endpoint, versionID, apiKey, axiosConfig });
        this.defaultState = { stack: [], storage: {}, variables: Object.assign({}, variables) };
        this.dataConfig = Object.assign({ tts: false, stripSSML: true }, dataConfig);
    }
    createClient(state = this.defaultState) {
        return new RuntimeClient_1.default(state, { client: this.client, dataConfig: this.dataConfig });
    }
}
exports.RuntimeClientFactory = RuntimeClientFactory;
exports.default = RuntimeClientFactory;
//# sourceMappingURL=index.js.map