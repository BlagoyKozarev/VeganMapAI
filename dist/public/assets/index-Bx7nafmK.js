var $p=e=>{throw TypeError(e)};var Ku=(e,t,n)=>t.has(e)||$p("Cannot "+n);var M=(e,t,n)=>(Ku(e,t,"read from private field"),n?n.call(e):t.get(e)),pe=(e,t,n)=>t.has(e)?$p("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),se=(e,t,n,r)=>(Ku(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),ke=(e,t,n)=>(Ku(e,t,"access private method"),n);var cl=(e,t,n,r)=>({set _(a){se(e,t,a,n)},get _(){return M(e,t,r)}});function aN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const o=Object.getOwnPropertyDescriptor(r,a);o&&Object.defineProperty(e,a,o.get?o:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const o of a)if(o.type==="childList")for(const c of o.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const o={};return a.integrity&&(o.integrity=a.integrity),a.referrerPolicy&&(o.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?o.credentials="include":a.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function r(a){if(a.ep)return;a.ep=!0;const o=n(a);fetch(a.href,o)}})();var lx=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function cf(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var cx={exports:{}},Oc={},ux={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ta=Symbol.for("react.element"),lN=Symbol.for("react.portal"),cN=Symbol.for("react.fragment"),uN=Symbol.for("react.strict_mode"),dN=Symbol.for("react.profiler"),hN=Symbol.for("react.provider"),fN=Symbol.for("react.context"),mN=Symbol.for("react.forward_ref"),pN=Symbol.for("react.suspense"),gN=Symbol.for("react.memo"),vN=Symbol.for("react.lazy"),Zp=Symbol.iterator;function xN(e){return e===null||typeof e!="object"?null:(e=Zp&&e[Zp]||e["@@iterator"],typeof e=="function"?e:null)}var dx={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},hx=Object.assign,fx={};function lo(e,t,n){this.props=e,this.context=t,this.refs=fx,this.updater=n||dx}lo.prototype.isReactComponent={};lo.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};lo.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mx(){}mx.prototype=lo.prototype;function uf(e,t,n){this.props=e,this.context=t,this.refs=fx,this.updater=n||dx}var df=uf.prototype=new mx;df.constructor=uf;hx(df,lo.prototype);df.isPureReactComponent=!0;var Wp=Array.isArray,px=Object.prototype.hasOwnProperty,hf={current:null},gx={key:!0,ref:!0,__self:!0,__source:!0};function vx(e,t,n){var r,a={},o=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(o=""+t.key),t)px.call(t,r)&&!gx.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(u===1)a.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];a.children=h}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)a[r]===void 0&&(a[r]=u[r]);return{$$typeof:Ta,type:e,key:o,ref:c,props:a,_owner:hf.current}}function yN(e,t){return{$$typeof:Ta,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function ff(e){return typeof e=="object"&&e!==null&&e.$$typeof===Ta}function _N(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Gp=/\/+/g;function qu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?_N(""+e.key):t.toString(36)}function Il(e,t,n,r,a){var o=typeof e;(o==="undefined"||o==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(o){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case Ta:case lN:c=!0}}if(c)return c=e,a=a(c),e=r===""?"."+qu(c,0):r,Wp(a)?(n="",e!=null&&(n=e.replace(Gp,"$&/")+"/"),Il(a,t,n,"",function(f){return f})):a!=null&&(ff(a)&&(a=yN(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(Gp,"$&/")+"/")+e)),t.push(a)),1;if(c=0,r=r===""?".":r+":",Wp(e))for(var u=0;u<e.length;u++){o=e[u];var h=r+qu(o,u);c+=Il(o,t,n,h,a)}else if(h=xN(e),typeof h=="function")for(e=h.call(e),u=0;!(o=e.next()).done;)o=o.value,h=r+qu(o,u++),c+=Il(o,t,n,h,a);else if(o==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function ul(e,t,n){if(e==null)return e;var r=[],a=0;return Il(e,r,"","",function(o){return t.call(n,o,a++)}),r}function wN(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Rt={current:null},Ol={transition:null},bN={ReactCurrentDispatcher:Rt,ReactCurrentBatchConfig:Ol,ReactCurrentOwner:hf};function xx(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:ul,forEach:function(e,t,n){ul(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return ul(e,function(){t++}),t},toArray:function(e){return ul(e,function(t){return t})||[]},only:function(e){if(!ff(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Ee.Component=lo;Ee.Fragment=cN;Ee.Profiler=dN;Ee.PureComponent=uf;Ee.StrictMode=uN;Ee.Suspense=pN;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bN;Ee.act=xx;Ee.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=hx({},e.props),a=e.key,o=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(o=t.ref,c=hf.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(h in t)px.call(t,h)&&!gx.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&u!==void 0?u[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:Ta,type:e.type,key:a,ref:o,props:r,_owner:c}};Ee.createContext=function(e){return e={$$typeof:fN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:hN,_context:e},e.Consumer=e};Ee.createElement=vx;Ee.createFactory=function(e){var t=vx.bind(null,e);return t.type=e,t};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(e){return{$$typeof:mN,render:e}};Ee.isValidElement=ff;Ee.lazy=function(e){return{$$typeof:vN,_payload:{_status:-1,_result:e},_init:wN}};Ee.memo=function(e,t){return{$$typeof:gN,type:e,compare:t===void 0?null:t}};Ee.startTransition=function(e){var t=Ol.transition;Ol.transition={};try{e()}finally{Ol.transition=t}};Ee.unstable_act=xx;Ee.useCallback=function(e,t){return Rt.current.useCallback(e,t)};Ee.useContext=function(e){return Rt.current.useContext(e)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(e){return Rt.current.useDeferredValue(e)};Ee.useEffect=function(e,t){return Rt.current.useEffect(e,t)};Ee.useId=function(){return Rt.current.useId()};Ee.useImperativeHandle=function(e,t,n){return Rt.current.useImperativeHandle(e,t,n)};Ee.useInsertionEffect=function(e,t){return Rt.current.useInsertionEffect(e,t)};Ee.useLayoutEffect=function(e,t){return Rt.current.useLayoutEffect(e,t)};Ee.useMemo=function(e,t){return Rt.current.useMemo(e,t)};Ee.useReducer=function(e,t,n){return Rt.current.useReducer(e,t,n)};Ee.useRef=function(e){return Rt.current.useRef(e)};Ee.useState=function(e){return Rt.current.useState(e)};Ee.useSyncExternalStore=function(e,t,n){return Rt.current.useSyncExternalStore(e,t,n)};Ee.useTransition=function(){return Rt.current.useTransition()};Ee.version="18.3.1";ux.exports=Ee;var y=ux.exports;const ai=cf(y),yx=aN({__proto__:null,default:ai},[y]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jN=y,NN=Symbol.for("react.element"),SN=Symbol.for("react.fragment"),CN=Object.prototype.hasOwnProperty,kN=jN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,PN={key:!0,ref:!0,__self:!0,__source:!0};function _x(e,t,n){var r,a={},o=null,c=null;n!==void 0&&(o=""+n),t.key!==void 0&&(o=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)CN.call(t,r)&&!PN.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:NN,type:e,key:o,ref:c,props:a,_owner:kN.current}}Oc.Fragment=SN;Oc.jsx=_x;Oc.jsxs=_x;cx.exports=Oc;var s=cx.exports,wx={exports:{}},Xt={},bx={exports:{}},jx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,$){var F=A.length;A.push($);e:for(;0<F;){var J=F-1>>>1,fe=A[J];if(0<a(fe,$))A[J]=$,A[F]=fe,F=J;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var $=A[0],F=A.pop();if(F!==$){A[0]=F;e:for(var J=0,fe=A.length,V=fe>>>1;J<V;){var ee=2*(J+1)-1,te=A[ee],oe=ee+1,ne=A[oe];if(0>a(te,F))oe<fe&&0>a(ne,te)?(A[J]=ne,A[oe]=F,J=oe):(A[J]=te,A[ee]=F,J=ee);else if(oe<fe&&0>a(ne,F))A[J]=ne,A[oe]=F,J=oe;else break e}}return $}function a(A,$){var F=A.sortIndex-$.sortIndex;return F!==0?F:A.id-$.id}if(typeof performance=="object"&&typeof performance.now=="function"){var o=performance;e.unstable_now=function(){return o.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],f=[],g=1,p=null,x=3,b=!1,C=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,j=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function N(A){for(var $=n(f);$!==null;){if($.callback===null)r(f);else if($.startTime<=A)r(f),$.sortIndex=$.expirationTime,t(h,$);else break;$=n(f)}}function P(A){if(v=!1,N(A),!C)if(n(h)!==null)C=!0,K(E);else{var $=n(f);$!==null&&ie(P,$.startTime-A)}}function E(A,$){C=!1,v&&(v=!1,j(z),z=-1),b=!0;var F=x;try{for(N($),p=n(h);p!==null&&(!(p.expirationTime>$)||A&&!H());){var J=p.callback;if(typeof J=="function"){p.callback=null,x=p.priorityLevel;var fe=J(p.expirationTime<=$);$=e.unstable_now(),typeof fe=="function"?p.callback=fe:p===n(h)&&r(h),N($)}else r(h);p=n(h)}if(p!==null)var V=!0;else{var ee=n(f);ee!==null&&ie(P,ee.startTime-$),V=!1}return V}finally{p=null,x=F,b=!1}}var R=!1,I=null,z=-1,U=5,G=-1;function H(){return!(e.unstable_now()-G<U)}function B(){if(I!==null){var A=e.unstable_now();G=A;var $=!0;try{$=I(!0,A)}finally{$?X():(R=!1,I=null)}}else R=!1}var X;if(typeof w=="function")X=function(){w(B)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ce=Z.port2;Z.port1.onmessage=B,X=function(){ce.postMessage(null)}}else X=function(){S(B,0)};function K(A){I=A,R||(R=!0,X())}function ie(A,$){z=S(function(){A(e.unstable_now())},$)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){C||b||(C=!0,K(E))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return x},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(A){switch(x){case 1:case 2:case 3:var $=3;break;default:$=x}var F=x;x=$;try{return A()}finally{x=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,$){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var F=x;x=A;try{return $()}finally{x=F}},e.unstable_scheduleCallback=function(A,$,F){var J=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?J+F:J):F=J,A){case 1:var fe=-1;break;case 2:fe=250;break;case 5:fe=1073741823;break;case 4:fe=1e4;break;default:fe=5e3}return fe=F+fe,A={id:g++,callback:$,priorityLevel:A,startTime:F,expirationTime:fe,sortIndex:-1},F>J?(A.sortIndex=F,t(f,A),n(h)===null&&A===n(f)&&(v?(j(z),z=-1):v=!0,ie(P,F-J))):(A.sortIndex=fe,t(h,A),C||b||(C=!0,K(E))),A},e.unstable_shouldYield=H,e.unstable_wrapCallback=function(A){var $=x;return function(){var F=x;x=$;try{return A.apply(this,arguments)}finally{x=F}}}})(jx);bx.exports=jx;var LN=bx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var EN=y,Yt=LN;function q(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Nx=new Set,aa={};function qr(e,t){Ys(e,t),Ys(e+"Capture",t)}function Ys(e,t){for(aa[e]=t,e=0;e<t.length;e++)Nx.add(t[e])}var pi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),zd=Object.prototype.hasOwnProperty,TN=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Kp={},qp={};function MN(e){return zd.call(qp,e)?!0:zd.call(Kp,e)?!1:TN.test(e)?qp[e]=!0:(Kp[e]=!0,!1)}function RN(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function AN(e,t,n,r){if(t===null||typeof t>"u"||RN(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function At(e,t,n,r,a,o,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=o,this.removeEmptyString=c}var xt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){xt[e]=new At(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];xt[t]=new At(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){xt[e]=new At(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){xt[e]=new At(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){xt[e]=new At(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){xt[e]=new At(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){xt[e]=new At(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){xt[e]=new At(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){xt[e]=new At(e,5,!1,e.toLowerCase(),null,!1,!1)});var mf=/[\-:]([a-z])/g;function pf(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(mf,pf);xt[t]=new At(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(mf,pf);xt[t]=new At(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(mf,pf);xt[t]=new At(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){xt[e]=new At(e,1,!1,e.toLowerCase(),null,!1,!1)});xt.xlinkHref=new At("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){xt[e]=new At(e,1,!1,e.toLowerCase(),null,!0,!0)});function gf(e,t,n,r){var a=xt.hasOwnProperty(t)?xt[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(AN(t,n,a,r)&&(n=null),r||a===null?MN(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var bi=EN.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,dl=Symbol.for("react.element"),ms=Symbol.for("react.portal"),ps=Symbol.for("react.fragment"),vf=Symbol.for("react.strict_mode"),Dd=Symbol.for("react.profiler"),Sx=Symbol.for("react.provider"),Cx=Symbol.for("react.context"),xf=Symbol.for("react.forward_ref"),Fd=Symbol.for("react.suspense"),Bd=Symbol.for("react.suspense_list"),yf=Symbol.for("react.memo"),Ai=Symbol.for("react.lazy"),kx=Symbol.for("react.offscreen"),Qp=Symbol.iterator;function Ao(e){return e===null||typeof e!="object"?null:(e=Qp&&e[Qp]||e["@@iterator"],typeof e=="function"?e:null)}var Xe=Object.assign,Qu;function Zo(e){if(Qu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Qu=t&&t[1]||""}return`
`+Qu+e}var Yu=!1;function Xu(e,t){if(!e||Yu)return"";Yu=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var a=f.stack.split(`
`),o=r.stack.split(`
`),c=a.length-1,u=o.length-1;1<=c&&0<=u&&a[c]!==o[u];)u--;for(;1<=c&&0<=u;c--,u--)if(a[c]!==o[u]){if(c!==1||u!==1)do if(c--,u--,0>u||a[c]!==o[u]){var h=`
`+a[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=c&&0<=u);break}}}finally{Yu=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Zo(e):""}function IN(e){switch(e.tag){case 5:return Zo(e.type);case 16:return Zo("Lazy");case 13:return Zo("Suspense");case 19:return Zo("SuspenseList");case 0:case 2:case 15:return e=Xu(e.type,!1),e;case 11:return e=Xu(e.type.render,!1),e;case 1:return e=Xu(e.type,!0),e;default:return""}}function Vd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case ps:return"Fragment";case ms:return"Portal";case Dd:return"Profiler";case vf:return"StrictMode";case Fd:return"Suspense";case Bd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case Cx:return(e.displayName||"Context")+".Consumer";case Sx:return(e._context.displayName||"Context")+".Provider";case xf:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case yf:return t=e.displayName||null,t!==null?t:Vd(e.type)||"Memo";case Ai:t=e._payload,e=e._init;try{return Vd(e(t))}catch{}}return null}function ON(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Vd(t);case 8:return t===vf?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function ar(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Px(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function zN(e){var t=Px(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,o=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(c){r=""+c,o.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function hl(e){e._valueTracker||(e._valueTracker=zN(e))}function Lx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Px(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ec(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Hd(e,t){var n=t.checked;return Xe({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function Yp(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=ar(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Ex(e,t){t=t.checked,t!=null&&gf(e,"checked",t,!1)}function Ud(e,t){Ex(e,t);var n=ar(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?$d(e,t.type,n):t.hasOwnProperty("defaultValue")&&$d(e,t.type,ar(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Xp(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function $d(e,t,n){(t!=="number"||ec(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var Wo=Array.isArray;function Cs(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+ar(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Zd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(q(91));return Xe({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Jp(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(q(92));if(Wo(n)){if(1<n.length)throw Error(q(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:ar(n)}}function Tx(e,t){var n=ar(t.value),r=ar(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function eg(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Mx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Wd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Mx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var fl,Rx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(fl=fl||document.createElement("div"),fl.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=fl.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function la(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Yo={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},DN=["Webkit","ms","Moz","O"];Object.keys(Yo).forEach(function(e){DN.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Yo[t]=Yo[e]})});function Ax(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Yo.hasOwnProperty(e)&&Yo[e]?(""+t).trim():t+"px"}function Ix(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=Ax(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var FN=Xe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Gd(e,t){if(t){if(FN[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(q(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(q(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(q(61))}if(t.style!=null&&typeof t.style!="object")throw Error(q(62))}}function Kd(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var qd=null;function _f(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Qd=null,ks=null,Ps=null;function tg(e){if(e=Aa(e)){if(typeof Qd!="function")throw Error(q(280));var t=e.stateNode;t&&(t=Vc(t),Qd(e.stateNode,e.type,t))}}function Ox(e){ks?Ps?Ps.push(e):Ps=[e]:ks=e}function zx(){if(ks){var e=ks,t=Ps;if(Ps=ks=null,tg(e),t)for(e=0;e<t.length;e++)tg(t[e])}}function Dx(e,t){return e(t)}function Fx(){}var Ju=!1;function Bx(e,t,n){if(Ju)return e(t,n);Ju=!0;try{return Dx(e,t,n)}finally{Ju=!1,(ks!==null||Ps!==null)&&(Fx(),zx())}}function ca(e,t){var n=e.stateNode;if(n===null)return null;var r=Vc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(q(231,t,typeof n));return n}var Yd=!1;if(pi)try{var Io={};Object.defineProperty(Io,"passive",{get:function(){Yd=!0}}),window.addEventListener("test",Io,Io),window.removeEventListener("test",Io,Io)}catch{Yd=!1}function BN(e,t,n,r,a,o,c,u,h){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(g){this.onError(g)}}var Xo=!1,tc=null,nc=!1,Xd=null,VN={onError:function(e){Xo=!0,tc=e}};function HN(e,t,n,r,a,o,c,u,h){Xo=!1,tc=null,BN.apply(VN,arguments)}function UN(e,t,n,r,a,o,c,u,h){if(HN.apply(this,arguments),Xo){if(Xo){var f=tc;Xo=!1,tc=null}else throw Error(q(198));nc||(nc=!0,Xd=f)}}function Qr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Vx(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function ng(e){if(Qr(e)!==e)throw Error(q(188))}function $N(e){var t=e.alternate;if(!t){if(t=Qr(e),t===null)throw Error(q(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var o=a.alternate;if(o===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===o.child){for(o=a.child;o;){if(o===n)return ng(a),e;if(o===r)return ng(a),t;o=o.sibling}throw Error(q(188))}if(n.return!==r.return)n=a,r=o;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=o;break}if(u===r){c=!0,r=a,n=o;break}u=u.sibling}if(!c){for(u=o.child;u;){if(u===n){c=!0,n=o,r=a;break}if(u===r){c=!0,r=o,n=a;break}u=u.sibling}if(!c)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?e:t}function Hx(e){return e=$N(e),e!==null?Ux(e):null}function Ux(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Ux(e);if(t!==null)return t;e=e.sibling}return null}var $x=Yt.unstable_scheduleCallback,ig=Yt.unstable_cancelCallback,ZN=Yt.unstable_shouldYield,WN=Yt.unstable_requestPaint,nt=Yt.unstable_now,GN=Yt.unstable_getCurrentPriorityLevel,wf=Yt.unstable_ImmediatePriority,Zx=Yt.unstable_UserBlockingPriority,ic=Yt.unstable_NormalPriority,KN=Yt.unstable_LowPriority,Wx=Yt.unstable_IdlePriority,zc=null,Qn=null;function qN(e){if(Qn&&typeof Qn.onCommitFiberRoot=="function")try{Qn.onCommitFiberRoot(zc,e,void 0,(e.current.flags&128)===128)}catch{}}var kn=Math.clz32?Math.clz32:XN,QN=Math.log,YN=Math.LN2;function XN(e){return e>>>=0,e===0?32:31-(QN(e)/YN|0)|0}var ml=64,pl=4194304;function Go(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function rc(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,o=e.pingedLanes,c=n&268435455;if(c!==0){var u=c&~a;u!==0?r=Go(u):(o&=c,o!==0&&(r=Go(o)))}else c=n&~a,c!==0?r=Go(c):o!==0&&(r=Go(o));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,o=t&-t,a>=o||a===16&&(o&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-kn(t),a=1<<n,r|=e[n],t&=~a;return r}function JN(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function eS(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,o=e.pendingLanes;0<o;){var c=31-kn(o),u=1<<c,h=a[c];h===-1?(!(u&n)||u&r)&&(a[c]=JN(u,t)):h<=t&&(e.expiredLanes|=u),o&=~u}}function Jd(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Gx(){var e=ml;return ml<<=1,!(ml&4194240)&&(ml=64),e}function ed(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function Ma(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-kn(t),e[t]=n}function tS(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-kn(n),o=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~o}}function bf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-kn(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var He=0;function Kx(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var qx,jf,Qx,Yx,Xx,eh=!1,gl=[],Qi=null,Yi=null,Xi=null,ua=new Map,da=new Map,zi=[],nS="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rg(e,t){switch(e){case"focusin":case"focusout":Qi=null;break;case"dragenter":case"dragleave":Yi=null;break;case"mouseover":case"mouseout":Xi=null;break;case"pointerover":case"pointerout":ua.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":da.delete(t.pointerId)}}function Oo(e,t,n,r,a,o){return e===null||e.nativeEvent!==o?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:o,targetContainers:[a]},t!==null&&(t=Aa(t),t!==null&&jf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function iS(e,t,n,r,a){switch(t){case"focusin":return Qi=Oo(Qi,e,t,n,r,a),!0;case"dragenter":return Yi=Oo(Yi,e,t,n,r,a),!0;case"mouseover":return Xi=Oo(Xi,e,t,n,r,a),!0;case"pointerover":var o=a.pointerId;return ua.set(o,Oo(ua.get(o)||null,e,t,n,r,a)),!0;case"gotpointercapture":return o=a.pointerId,da.set(o,Oo(da.get(o)||null,e,t,n,r,a)),!0}return!1}function Jx(e){var t=Nr(e.target);if(t!==null){var n=Qr(t);if(n!==null){if(t=n.tag,t===13){if(t=Vx(n),t!==null){e.blockedOn=t,Xx(e.priority,function(){Qx(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function zl(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=th(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);qd=r,n.target.dispatchEvent(r),qd=null}else return t=Aa(n),t!==null&&jf(t),e.blockedOn=n,!1;t.shift()}return!0}function sg(e,t,n){zl(e)&&n.delete(t)}function rS(){eh=!1,Qi!==null&&zl(Qi)&&(Qi=null),Yi!==null&&zl(Yi)&&(Yi=null),Xi!==null&&zl(Xi)&&(Xi=null),ua.forEach(sg),da.forEach(sg)}function zo(e,t){e.blockedOn===t&&(e.blockedOn=null,eh||(eh=!0,Yt.unstable_scheduleCallback(Yt.unstable_NormalPriority,rS)))}function ha(e){function t(a){return zo(a,e)}if(0<gl.length){zo(gl[0],e);for(var n=1;n<gl.length;n++){var r=gl[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Qi!==null&&zo(Qi,e),Yi!==null&&zo(Yi,e),Xi!==null&&zo(Xi,e),ua.forEach(t),da.forEach(t),n=0;n<zi.length;n++)r=zi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<zi.length&&(n=zi[0],n.blockedOn===null);)Jx(n),n.blockedOn===null&&zi.shift()}var Ls=bi.ReactCurrentBatchConfig,sc=!0;function sS(e,t,n,r){var a=He,o=Ls.transition;Ls.transition=null;try{He=1,Nf(e,t,n,r)}finally{He=a,Ls.transition=o}}function oS(e,t,n,r){var a=He,o=Ls.transition;Ls.transition=null;try{He=4,Nf(e,t,n,r)}finally{He=a,Ls.transition=o}}function Nf(e,t,n,r){if(sc){var a=th(e,t,n,r);if(a===null)ud(e,t,r,oc,n),rg(e,r);else if(iS(a,e,t,n,r))r.stopPropagation();else if(rg(e,r),t&4&&-1<nS.indexOf(e)){for(;a!==null;){var o=Aa(a);if(o!==null&&qx(o),o=th(e,t,n,r),o===null&&ud(e,t,r,oc,n),o===a)break;a=o}a!==null&&r.stopPropagation()}else ud(e,t,r,null,n)}}var oc=null;function th(e,t,n,r){if(oc=null,e=_f(r),e=Nr(e),e!==null)if(t=Qr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Vx(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return oc=e,null}function ey(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(GN()){case wf:return 1;case Zx:return 4;case ic:case KN:return 16;case Wx:return 536870912;default:return 16}default:return 16}}var Ki=null,Sf=null,Dl=null;function ty(){if(Dl)return Dl;var e,t=Sf,n=t.length,r,a="value"in Ki?Ki.value:Ki.textContent,o=a.length;for(e=0;e<n&&t[e]===a[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===a[o-r];r++);return Dl=a.slice(e,1<r?1-r:void 0)}function Fl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function vl(){return!0}function og(){return!1}function Jt(e){function t(n,r,a,o,c){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=o,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(o):o[u]);return this.isDefaultPrevented=(o.defaultPrevented!=null?o.defaultPrevented:o.returnValue===!1)?vl:og,this.isPropagationStopped=og,this}return Xe(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=vl)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=vl)},persist:function(){},isPersistent:vl}),t}var co={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Cf=Jt(co),Ra=Xe({},co,{view:0,detail:0}),aS=Jt(Ra),td,nd,Do,Dc=Xe({},Ra,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==Do&&(Do&&e.type==="mousemove"?(td=e.screenX-Do.screenX,nd=e.screenY-Do.screenY):nd=td=0,Do=e),td)},movementY:function(e){return"movementY"in e?e.movementY:nd}}),ag=Jt(Dc),lS=Xe({},Dc,{dataTransfer:0}),cS=Jt(lS),uS=Xe({},Ra,{relatedTarget:0}),id=Jt(uS),dS=Xe({},co,{animationName:0,elapsedTime:0,pseudoElement:0}),hS=Jt(dS),fS=Xe({},co,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),mS=Jt(fS),pS=Xe({},co,{data:0}),lg=Jt(pS),gS={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},vS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},xS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function yS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=xS[e])?!!t[e]:!1}function kf(){return yS}var _S=Xe({},Ra,{key:function(e){if(e.key){var t=gS[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Fl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?vS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kf,charCode:function(e){return e.type==="keypress"?Fl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Fl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),wS=Jt(_S),bS=Xe({},Dc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),cg=Jt(bS),jS=Xe({},Ra,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kf}),NS=Jt(jS),SS=Xe({},co,{propertyName:0,elapsedTime:0,pseudoElement:0}),CS=Jt(SS),kS=Xe({},Dc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),PS=Jt(kS),LS=[9,13,27,32],Pf=pi&&"CompositionEvent"in window,Jo=null;pi&&"documentMode"in document&&(Jo=document.documentMode);var ES=pi&&"TextEvent"in window&&!Jo,ny=pi&&(!Pf||Jo&&8<Jo&&11>=Jo),ug=" ",dg=!1;function iy(e,t){switch(e){case"keyup":return LS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function ry(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var gs=!1;function TS(e,t){switch(e){case"compositionend":return ry(t);case"keypress":return t.which!==32?null:(dg=!0,ug);case"textInput":return e=t.data,e===ug&&dg?null:e;default:return null}}function MS(e,t){if(gs)return e==="compositionend"||!Pf&&iy(e,t)?(e=ty(),Dl=Sf=Ki=null,gs=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return ny&&t.locale!=="ko"?null:t.data;default:return null}}var RS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hg(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!RS[e.type]:t==="textarea"}function sy(e,t,n,r){Ox(r),t=ac(t,"onChange"),0<t.length&&(n=new Cf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var ea=null,fa=null;function AS(e){gy(e,0)}function Fc(e){var t=ys(e);if(Lx(t))return e}function IS(e,t){if(e==="change")return t}var oy=!1;if(pi){var rd;if(pi){var sd="oninput"in document;if(!sd){var fg=document.createElement("div");fg.setAttribute("oninput","return;"),sd=typeof fg.oninput=="function"}rd=sd}else rd=!1;oy=rd&&(!document.documentMode||9<document.documentMode)}function mg(){ea&&(ea.detachEvent("onpropertychange",ay),fa=ea=null)}function ay(e){if(e.propertyName==="value"&&Fc(fa)){var t=[];sy(t,fa,e,_f(e)),Bx(AS,t)}}function OS(e,t,n){e==="focusin"?(mg(),ea=t,fa=n,ea.attachEvent("onpropertychange",ay)):e==="focusout"&&mg()}function zS(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return Fc(fa)}function DS(e,t){if(e==="click")return Fc(t)}function FS(e,t){if(e==="input"||e==="change")return Fc(t)}function BS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Ln=typeof Object.is=="function"?Object.is:BS;function ma(e,t){if(Ln(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!zd.call(t,a)||!Ln(e[a],t[a]))return!1}return!0}function pg(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function gg(e,t){var n=pg(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=pg(n)}}function ly(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?ly(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function cy(){for(var e=window,t=ec();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ec(e.document)}return t}function Lf(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function VS(e){var t=cy(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&ly(n.ownerDocument.documentElement,n)){if(r!==null&&Lf(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,o=Math.min(r.start,a);r=r.end===void 0?o:Math.min(r.end,a),!e.extend&&o>r&&(a=r,r=o,o=a),a=gg(n,o);var c=gg(n,r);a&&c&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),o>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var HS=pi&&"documentMode"in document&&11>=document.documentMode,vs=null,nh=null,ta=null,ih=!1;function vg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;ih||vs==null||vs!==ec(r)||(r=vs,"selectionStart"in r&&Lf(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),ta&&ma(ta,r)||(ta=r,r=ac(nh,"onSelect"),0<r.length&&(t=new Cf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=vs)))}function xl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var xs={animationend:xl("Animation","AnimationEnd"),animationiteration:xl("Animation","AnimationIteration"),animationstart:xl("Animation","AnimationStart"),transitionend:xl("Transition","TransitionEnd")},od={},uy={};pi&&(uy=document.createElement("div").style,"AnimationEvent"in window||(delete xs.animationend.animation,delete xs.animationiteration.animation,delete xs.animationstart.animation),"TransitionEvent"in window||delete xs.transitionend.transition);function Bc(e){if(od[e])return od[e];if(!xs[e])return e;var t=xs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in uy)return od[e]=t[n];return e}var dy=Bc("animationend"),hy=Bc("animationiteration"),fy=Bc("animationstart"),my=Bc("transitionend"),py=new Map,xg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function hr(e,t){py.set(e,t),qr(t,[e])}for(var ad=0;ad<xg.length;ad++){var ld=xg[ad],US=ld.toLowerCase(),$S=ld[0].toUpperCase()+ld.slice(1);hr(US,"on"+$S)}hr(dy,"onAnimationEnd");hr(hy,"onAnimationIteration");hr(fy,"onAnimationStart");hr("dblclick","onDoubleClick");hr("focusin","onFocus");hr("focusout","onBlur");hr(my,"onTransitionEnd");Ys("onMouseEnter",["mouseout","mouseover"]);Ys("onMouseLeave",["mouseout","mouseover"]);Ys("onPointerEnter",["pointerout","pointerover"]);Ys("onPointerLeave",["pointerout","pointerover"]);qr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));qr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));qr("onBeforeInput",["compositionend","keypress","textInput","paste"]);qr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));qr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ko="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),ZS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ko));function yg(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,UN(r,t,void 0,e),e.currentTarget=null}function gy(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var o=void 0;if(t)for(var c=r.length-1;0<=c;c--){var u=r[c],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==o&&a.isPropagationStopped())break e;yg(a,u,f),o=h}else for(c=0;c<r.length;c++){if(u=r[c],h=u.instance,f=u.currentTarget,u=u.listener,h!==o&&a.isPropagationStopped())break e;yg(a,u,f),o=h}}}if(nc)throw e=Xd,nc=!1,Xd=null,e}function We(e,t){var n=t[lh];n===void 0&&(n=t[lh]=new Set);var r=e+"__bubble";n.has(r)||(vy(t,e,2,!1),n.add(r))}function cd(e,t,n){var r=0;t&&(r|=4),vy(n,e,r,t)}var yl="_reactListening"+Math.random().toString(36).slice(2);function pa(e){if(!e[yl]){e[yl]=!0,Nx.forEach(function(n){n!=="selectionchange"&&(ZS.has(n)||cd(n,!1,e),cd(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[yl]||(t[yl]=!0,cd("selectionchange",!1,t))}}function vy(e,t,n,r){switch(ey(t)){case 1:var a=sS;break;case 4:a=oS;break;default:a=Nf}n=a.bind(null,t,n,e),a=void 0,!Yd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function ud(e,t,n,r,a){var o=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var u=r.stateNode.containerInfo;if(u===a||u.nodeType===8&&u.parentNode===a)break;if(c===4)for(c=r.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===a||h.nodeType===8&&h.parentNode===a))return;c=c.return}for(;u!==null;){if(c=Nr(u),c===null)return;if(h=c.tag,h===5||h===6){r=o=c;continue e}u=u.parentNode}}r=r.return}Bx(function(){var f=o,g=_f(n),p=[];e:{var x=py.get(e);if(x!==void 0){var b=Cf,C=e;switch(e){case"keypress":if(Fl(n)===0)break e;case"keydown":case"keyup":b=wS;break;case"focusin":C="focus",b=id;break;case"focusout":C="blur",b=id;break;case"beforeblur":case"afterblur":b=id;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=ag;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=cS;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=NS;break;case dy:case hy:case fy:b=hS;break;case my:b=CS;break;case"scroll":b=aS;break;case"wheel":b=PS;break;case"copy":case"cut":case"paste":b=mS;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=cg}var v=(t&4)!==0,S=!v&&e==="scroll",j=v?x!==null?x+"Capture":null:x;v=[];for(var w=f,N;w!==null;){N=w;var P=N.stateNode;if(N.tag===5&&P!==null&&(N=P,j!==null&&(P=ca(w,j),P!=null&&v.push(ga(w,P,N)))),S)break;w=w.return}0<v.length&&(x=new b(x,C,null,n,g),p.push({event:x,listeners:v}))}}if(!(t&7)){e:{if(x=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",x&&n!==qd&&(C=n.relatedTarget||n.fromElement)&&(Nr(C)||C[gi]))break e;if((b||x)&&(x=g.window===g?g:(x=g.ownerDocument)?x.defaultView||x.parentWindow:window,b?(C=n.relatedTarget||n.toElement,b=f,C=C?Nr(C):null,C!==null&&(S=Qr(C),C!==S||C.tag!==5&&C.tag!==6)&&(C=null)):(b=null,C=f),b!==C)){if(v=ag,P="onMouseLeave",j="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=cg,P="onPointerLeave",j="onPointerEnter",w="pointer"),S=b==null?x:ys(b),N=C==null?x:ys(C),x=new v(P,w+"leave",b,n,g),x.target=S,x.relatedTarget=N,P=null,Nr(g)===f&&(v=new v(j,w+"enter",C,n,g),v.target=N,v.relatedTarget=S,P=v),S=P,b&&C)t:{for(v=b,j=C,w=0,N=v;N;N=ls(N))w++;for(N=0,P=j;P;P=ls(P))N++;for(;0<w-N;)v=ls(v),w--;for(;0<N-w;)j=ls(j),N--;for(;w--;){if(v===j||j!==null&&v===j.alternate)break t;v=ls(v),j=ls(j)}v=null}else v=null;b!==null&&_g(p,x,b,v,!1),C!==null&&S!==null&&_g(p,S,C,v,!0)}}e:{if(x=f?ys(f):window,b=x.nodeName&&x.nodeName.toLowerCase(),b==="select"||b==="input"&&x.type==="file")var E=IS;else if(hg(x))if(oy)E=FS;else{E=zS;var R=OS}else(b=x.nodeName)&&b.toLowerCase()==="input"&&(x.type==="checkbox"||x.type==="radio")&&(E=DS);if(E&&(E=E(e,f))){sy(p,E,n,g);break e}R&&R(e,x,f),e==="focusout"&&(R=x._wrapperState)&&R.controlled&&x.type==="number"&&$d(x,"number",x.value)}switch(R=f?ys(f):window,e){case"focusin":(hg(R)||R.contentEditable==="true")&&(vs=R,nh=f,ta=null);break;case"focusout":ta=nh=vs=null;break;case"mousedown":ih=!0;break;case"contextmenu":case"mouseup":case"dragend":ih=!1,vg(p,n,g);break;case"selectionchange":if(HS)break;case"keydown":case"keyup":vg(p,n,g)}var I;if(Pf)e:{switch(e){case"compositionstart":var z="onCompositionStart";break e;case"compositionend":z="onCompositionEnd";break e;case"compositionupdate":z="onCompositionUpdate";break e}z=void 0}else gs?iy(e,n)&&(z="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(z="onCompositionStart");z&&(ny&&n.locale!=="ko"&&(gs||z!=="onCompositionStart"?z==="onCompositionEnd"&&gs&&(I=ty()):(Ki=g,Sf="value"in Ki?Ki.value:Ki.textContent,gs=!0)),R=ac(f,z),0<R.length&&(z=new lg(z,e,null,n,g),p.push({event:z,listeners:R}),I?z.data=I:(I=ry(n),I!==null&&(z.data=I)))),(I=ES?TS(e,n):MS(e,n))&&(f=ac(f,"onBeforeInput"),0<f.length&&(g=new lg("onBeforeInput","beforeinput",null,n,g),p.push({event:g,listeners:f}),g.data=I))}gy(p,t)})}function ga(e,t,n){return{instance:e,listener:t,currentTarget:n}}function ac(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,o=a.stateNode;a.tag===5&&o!==null&&(a=o,o=ca(e,n),o!=null&&r.unshift(ga(e,o,a)),o=ca(e,t),o!=null&&r.push(ga(e,o,a))),e=e.return}return r}function ls(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function _g(e,t,n,r,a){for(var o=t._reactName,c=[];n!==null&&n!==r;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&f!==null&&(u=f,a?(h=ca(n,o),h!=null&&c.unshift(ga(n,h,u))):a||(h=ca(n,o),h!=null&&c.push(ga(n,h,u)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var WS=/\r\n?/g,GS=/\u0000|\uFFFD/g;function wg(e){return(typeof e=="string"?e:""+e).replace(WS,`
`).replace(GS,"")}function _l(e,t,n){if(t=wg(t),wg(e)!==t&&n)throw Error(q(425))}function lc(){}var rh=null,sh=null;function oh(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var ah=typeof setTimeout=="function"?setTimeout:void 0,KS=typeof clearTimeout=="function"?clearTimeout:void 0,bg=typeof Promise=="function"?Promise:void 0,qS=typeof queueMicrotask=="function"?queueMicrotask:typeof bg<"u"?function(e){return bg.resolve(null).then(e).catch(QS)}:ah;function QS(e){setTimeout(function(){throw e})}function dd(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),ha(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);ha(t)}function Ji(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function jg(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var uo=Math.random().toString(36).slice(2),Kn="__reactFiber$"+uo,va="__reactProps$"+uo,gi="__reactContainer$"+uo,lh="__reactEvents$"+uo,YS="__reactListeners$"+uo,XS="__reactHandles$"+uo;function Nr(e){var t=e[Kn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[gi]||n[Kn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=jg(e);e!==null;){if(n=e[Kn])return n;e=jg(e)}return t}e=n,n=e.parentNode}return null}function Aa(e){return e=e[Kn]||e[gi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function ys(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(q(33))}function Vc(e){return e[va]||null}var ch=[],_s=-1;function fr(e){return{current:e}}function Ge(e){0>_s||(e.current=ch[_s],ch[_s]=null,_s--)}function $e(e,t){_s++,ch[_s]=e.current,e.current=t}var lr={},Nt=fr(lr),Vt=fr(!1),zr=lr;function Xs(e,t){var n=e.type.contextTypes;if(!n)return lr;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},o;for(o in n)a[o]=t[o];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function Ht(e){return e=e.childContextTypes,e!=null}function cc(){Ge(Vt),Ge(Nt)}function Ng(e,t,n){if(Nt.current!==lr)throw Error(q(168));$e(Nt,t),$e(Vt,n)}function xy(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(q(108,ON(e)||"Unknown",a));return Xe({},n,r)}function uc(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||lr,zr=Nt.current,$e(Nt,e),$e(Vt,Vt.current),!0}function Sg(e,t,n){var r=e.stateNode;if(!r)throw Error(q(169));n?(e=xy(e,t,zr),r.__reactInternalMemoizedMergedChildContext=e,Ge(Vt),Ge(Nt),$e(Nt,e)):Ge(Vt),$e(Vt,n)}var ci=null,Hc=!1,hd=!1;function yy(e){ci===null?ci=[e]:ci.push(e)}function JS(e){Hc=!0,yy(e)}function mr(){if(!hd&&ci!==null){hd=!0;var e=0,t=He;try{var n=ci;for(He=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}ci=null,Hc=!1}catch(a){throw ci!==null&&(ci=ci.slice(e+1)),$x(wf,mr),a}finally{He=t,hd=!1}}return null}var ws=[],bs=0,dc=null,hc=0,an=[],ln=0,Dr=null,di=1,hi="";function br(e,t){ws[bs++]=hc,ws[bs++]=dc,dc=e,hc=t}function _y(e,t,n){an[ln++]=di,an[ln++]=hi,an[ln++]=Dr,Dr=e;var r=di;e=hi;var a=32-kn(r)-1;r&=~(1<<a),n+=1;var o=32-kn(t)+a;if(30<o){var c=a-a%5;o=(r&(1<<c)-1).toString(32),r>>=c,a-=c,di=1<<32-kn(t)+a|n<<a|r,hi=o+e}else di=1<<o|n<<a|r,hi=e}function Ef(e){e.return!==null&&(br(e,1),_y(e,1,0))}function Tf(e){for(;e===dc;)dc=ws[--bs],ws[bs]=null,hc=ws[--bs],ws[bs]=null;for(;e===Dr;)Dr=an[--ln],an[ln]=null,hi=an[--ln],an[ln]=null,di=an[--ln],an[ln]=null}var qt=null,Kt=null,Ke=!1,bn=null;function wy(e,t){var n=cn(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Cg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,qt=e,Kt=Ji(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,qt=e,Kt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Dr!==null?{id:di,overflow:hi}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=cn(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,qt=e,Kt=null,!0):!1;default:return!1}}function uh(e){return(e.mode&1)!==0&&(e.flags&128)===0}function dh(e){if(Ke){var t=Kt;if(t){var n=t;if(!Cg(e,t)){if(uh(e))throw Error(q(418));t=Ji(n.nextSibling);var r=qt;t&&Cg(e,t)?wy(r,n):(e.flags=e.flags&-4097|2,Ke=!1,qt=e)}}else{if(uh(e))throw Error(q(418));e.flags=e.flags&-4097|2,Ke=!1,qt=e}}}function kg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;qt=e}function wl(e){if(e!==qt)return!1;if(!Ke)return kg(e),Ke=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!oh(e.type,e.memoizedProps)),t&&(t=Kt)){if(uh(e))throw by(),Error(q(418));for(;t;)wy(e,t),t=Ji(t.nextSibling)}if(kg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(q(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Kt=Ji(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Kt=null}}else Kt=qt?Ji(e.stateNode.nextSibling):null;return!0}function by(){for(var e=Kt;e;)e=Ji(e.nextSibling)}function Js(){Kt=qt=null,Ke=!1}function Mf(e){bn===null?bn=[e]:bn.push(e)}var eC=bi.ReactCurrentBatchConfig;function Fo(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,e));var a=r,o=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===o?t.ref:(t=function(c){var u=a.refs;c===null?delete u[o]:u[o]=c},t._stringRef=o,t)}if(typeof e!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,e))}return e}function bl(e,t){throw e=Object.prototype.toString.call(t),Error(q(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function Pg(e){var t=e._init;return t(e._payload)}function jy(e){function t(j,w){if(e){var N=j.deletions;N===null?(j.deletions=[w],j.flags|=16):N.push(w)}}function n(j,w){if(!e)return null;for(;w!==null;)t(j,w),w=w.sibling;return null}function r(j,w){for(j=new Map;w!==null;)w.key!==null?j.set(w.key,w):j.set(w.index,w),w=w.sibling;return j}function a(j,w){return j=ir(j,w),j.index=0,j.sibling=null,j}function o(j,w,N){return j.index=N,e?(N=j.alternate,N!==null?(N=N.index,N<w?(j.flags|=2,w):N):(j.flags|=2,w)):(j.flags|=1048576,w)}function c(j){return e&&j.alternate===null&&(j.flags|=2),j}function u(j,w,N,P){return w===null||w.tag!==6?(w=yd(N,j.mode,P),w.return=j,w):(w=a(w,N),w.return=j,w)}function h(j,w,N,P){var E=N.type;return E===ps?g(j,w,N.props.children,P,N.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ai&&Pg(E)===w.type)?(P=a(w,N.props),P.ref=Fo(j,w,N),P.return=j,P):(P=Wl(N.type,N.key,N.props,null,j.mode,P),P.ref=Fo(j,w,N),P.return=j,P)}function f(j,w,N,P){return w===null||w.tag!==4||w.stateNode.containerInfo!==N.containerInfo||w.stateNode.implementation!==N.implementation?(w=_d(N,j.mode,P),w.return=j,w):(w=a(w,N.children||[]),w.return=j,w)}function g(j,w,N,P,E){return w===null||w.tag!==7?(w=Or(N,j.mode,P,E),w.return=j,w):(w=a(w,N),w.return=j,w)}function p(j,w,N){if(typeof w=="string"&&w!==""||typeof w=="number")return w=yd(""+w,j.mode,N),w.return=j,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case dl:return N=Wl(w.type,w.key,w.props,null,j.mode,N),N.ref=Fo(j,null,w),N.return=j,N;case ms:return w=_d(w,j.mode,N),w.return=j,w;case Ai:var P=w._init;return p(j,P(w._payload),N)}if(Wo(w)||Ao(w))return w=Or(w,j.mode,N,null),w.return=j,w;bl(j,w)}return null}function x(j,w,N,P){var E=w!==null?w.key:null;if(typeof N=="string"&&N!==""||typeof N=="number")return E!==null?null:u(j,w,""+N,P);if(typeof N=="object"&&N!==null){switch(N.$$typeof){case dl:return N.key===E?h(j,w,N,P):null;case ms:return N.key===E?f(j,w,N,P):null;case Ai:return E=N._init,x(j,w,E(N._payload),P)}if(Wo(N)||Ao(N))return E!==null?null:g(j,w,N,P,null);bl(j,N)}return null}function b(j,w,N,P,E){if(typeof P=="string"&&P!==""||typeof P=="number")return j=j.get(N)||null,u(w,j,""+P,E);if(typeof P=="object"&&P!==null){switch(P.$$typeof){case dl:return j=j.get(P.key===null?N:P.key)||null,h(w,j,P,E);case ms:return j=j.get(P.key===null?N:P.key)||null,f(w,j,P,E);case Ai:var R=P._init;return b(j,w,N,R(P._payload),E)}if(Wo(P)||Ao(P))return j=j.get(N)||null,g(w,j,P,E,null);bl(w,P)}return null}function C(j,w,N,P){for(var E=null,R=null,I=w,z=w=0,U=null;I!==null&&z<N.length;z++){I.index>z?(U=I,I=null):U=I.sibling;var G=x(j,I,N[z],P);if(G===null){I===null&&(I=U);break}e&&I&&G.alternate===null&&t(j,I),w=o(G,w,z),R===null?E=G:R.sibling=G,R=G,I=U}if(z===N.length)return n(j,I),Ke&&br(j,z),E;if(I===null){for(;z<N.length;z++)I=p(j,N[z],P),I!==null&&(w=o(I,w,z),R===null?E=I:R.sibling=I,R=I);return Ke&&br(j,z),E}for(I=r(j,I);z<N.length;z++)U=b(I,j,z,N[z],P),U!==null&&(e&&U.alternate!==null&&I.delete(U.key===null?z:U.key),w=o(U,w,z),R===null?E=U:R.sibling=U,R=U);return e&&I.forEach(function(H){return t(j,H)}),Ke&&br(j,z),E}function v(j,w,N,P){var E=Ao(N);if(typeof E!="function")throw Error(q(150));if(N=E.call(N),N==null)throw Error(q(151));for(var R=E=null,I=w,z=w=0,U=null,G=N.next();I!==null&&!G.done;z++,G=N.next()){I.index>z?(U=I,I=null):U=I.sibling;var H=x(j,I,G.value,P);if(H===null){I===null&&(I=U);break}e&&I&&H.alternate===null&&t(j,I),w=o(H,w,z),R===null?E=H:R.sibling=H,R=H,I=U}if(G.done)return n(j,I),Ke&&br(j,z),E;if(I===null){for(;!G.done;z++,G=N.next())G=p(j,G.value,P),G!==null&&(w=o(G,w,z),R===null?E=G:R.sibling=G,R=G);return Ke&&br(j,z),E}for(I=r(j,I);!G.done;z++,G=N.next())G=b(I,j,z,G.value,P),G!==null&&(e&&G.alternate!==null&&I.delete(G.key===null?z:G.key),w=o(G,w,z),R===null?E=G:R.sibling=G,R=G);return e&&I.forEach(function(B){return t(j,B)}),Ke&&br(j,z),E}function S(j,w,N,P){if(typeof N=="object"&&N!==null&&N.type===ps&&N.key===null&&(N=N.props.children),typeof N=="object"&&N!==null){switch(N.$$typeof){case dl:e:{for(var E=N.key,R=w;R!==null;){if(R.key===E){if(E=N.type,E===ps){if(R.tag===7){n(j,R.sibling),w=a(R,N.props.children),w.return=j,j=w;break e}}else if(R.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Ai&&Pg(E)===R.type){n(j,R.sibling),w=a(R,N.props),w.ref=Fo(j,R,N),w.return=j,j=w;break e}n(j,R);break}else t(j,R);R=R.sibling}N.type===ps?(w=Or(N.props.children,j.mode,P,N.key),w.return=j,j=w):(P=Wl(N.type,N.key,N.props,null,j.mode,P),P.ref=Fo(j,w,N),P.return=j,j=P)}return c(j);case ms:e:{for(R=N.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===N.containerInfo&&w.stateNode.implementation===N.implementation){n(j,w.sibling),w=a(w,N.children||[]),w.return=j,j=w;break e}else{n(j,w);break}else t(j,w);w=w.sibling}w=_d(N,j.mode,P),w.return=j,j=w}return c(j);case Ai:return R=N._init,S(j,w,R(N._payload),P)}if(Wo(N))return C(j,w,N,P);if(Ao(N))return v(j,w,N,P);bl(j,N)}return typeof N=="string"&&N!==""||typeof N=="number"?(N=""+N,w!==null&&w.tag===6?(n(j,w.sibling),w=a(w,N),w.return=j,j=w):(n(j,w),w=yd(N,j.mode,P),w.return=j,j=w),c(j)):n(j,w)}return S}var eo=jy(!0),Ny=jy(!1),fc=fr(null),mc=null,js=null,Rf=null;function Af(){Rf=js=mc=null}function If(e){var t=fc.current;Ge(fc),e._currentValue=t}function hh(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Es(e,t){mc=e,Rf=js=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Bt=!0),e.firstContext=null)}function hn(e){var t=e._currentValue;if(Rf!==e)if(e={context:e,memoizedValue:t,next:null},js===null){if(mc===null)throw Error(q(308));js=e,mc.dependencies={lanes:0,firstContext:e}}else js=js.next=e;return t}var Sr=null;function Of(e){Sr===null?Sr=[e]:Sr.push(e)}function Sy(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,Of(t)):(n.next=a.next,a.next=n),t.interleaved=n,vi(e,r)}function vi(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var Ii=!1;function zf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Cy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function fi(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function er(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Oe&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,vi(e,n)}return a=r.interleaved,a===null?(t.next=t,Of(r)):(t.next=a.next,a.next=t),r.interleaved=t,vi(e,n)}function Bl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bf(e,n)}}function Lg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,o=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};o===null?a=o=c:o=o.next=c,n=n.next}while(n!==null);o===null?a=o=t:o=o.next=t}else a=o=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:o,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function pc(e,t,n,r){var a=e.updateQueue;Ii=!1;var o=a.firstBaseUpdate,c=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var h=u,f=h.next;h.next=null,c===null?o=f:c.next=f,c=h;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==c&&(u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=h))}if(o!==null){var p=a.baseState;c=0,g=f=h=null,u=o;do{var x=u.lane,b=u.eventTime;if((r&x)===x){g!==null&&(g=g.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var C=e,v=u;switch(x=t,b=n,v.tag){case 1:if(C=v.payload,typeof C=="function"){p=C.call(b,p,x);break e}p=C;break e;case 3:C.flags=C.flags&-65537|128;case 0:if(C=v.payload,x=typeof C=="function"?C.call(b,p,x):C,x==null)break e;p=Xe({},p,x);break e;case 2:Ii=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,x=a.effects,x===null?a.effects=[u]:x.push(u))}else b={eventTime:b,lane:x,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(f=g=b,h=p):g=g.next=b,c|=x;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;x=u,u=x.next,x.next=null,a.lastBaseUpdate=x,a.shared.pending=null}}while(!0);if(g===null&&(h=p),a.baseState=h,a.firstBaseUpdate=f,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do c|=a.lane,a=a.next;while(a!==t)}else o===null&&(a.shared.lanes=0);Br|=c,e.lanes=c,e.memoizedState=p}}function Eg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(q(191,a));a.call(r)}}}var Ia={},Yn=fr(Ia),xa=fr(Ia),ya=fr(Ia);function Cr(e){if(e===Ia)throw Error(q(174));return e}function Df(e,t){switch($e(ya,t),$e(xa,e),$e(Yn,Ia),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:Wd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=Wd(t,e)}Ge(Yn),$e(Yn,t)}function to(){Ge(Yn),Ge(xa),Ge(ya)}function ky(e){Cr(ya.current);var t=Cr(Yn.current),n=Wd(t,e.type);t!==n&&($e(xa,e),$e(Yn,n))}function Ff(e){xa.current===e&&(Ge(Yn),Ge(xa))}var Qe=fr(0);function gc(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var fd=[];function Bf(){for(var e=0;e<fd.length;e++)fd[e]._workInProgressVersionPrimary=null;fd.length=0}var Vl=bi.ReactCurrentDispatcher,md=bi.ReactCurrentBatchConfig,Fr=0,Ye=null,lt=null,ht=null,vc=!1,na=!1,_a=0,tC=0;function yt(){throw Error(q(321))}function Vf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Ln(e[n],t[n]))return!1;return!0}function Hf(e,t,n,r,a,o){if(Fr=o,Ye=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Vl.current=e===null||e.memoizedState===null?sC:oC,e=n(r,a),na){o=0;do{if(na=!1,_a=0,25<=o)throw Error(q(301));o+=1,ht=lt=null,t.updateQueue=null,Vl.current=aC,e=n(r,a)}while(na)}if(Vl.current=xc,t=lt!==null&&lt.next!==null,Fr=0,ht=lt=Ye=null,vc=!1,t)throw Error(q(300));return e}function Uf(){var e=_a!==0;return _a=0,e}function Un(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ht===null?Ye.memoizedState=ht=e:ht=ht.next=e,ht}function fn(){if(lt===null){var e=Ye.alternate;e=e!==null?e.memoizedState:null}else e=lt.next;var t=ht===null?Ye.memoizedState:ht.next;if(t!==null)ht=t,lt=e;else{if(e===null)throw Error(q(310));lt=e,e={memoizedState:lt.memoizedState,baseState:lt.baseState,baseQueue:lt.baseQueue,queue:lt.queue,next:null},ht===null?Ye.memoizedState=ht=e:ht=ht.next=e}return ht}function wa(e,t){return typeof t=="function"?t(e):t}function pd(e){var t=fn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=lt,a=r.baseQueue,o=n.pending;if(o!==null){if(a!==null){var c=a.next;a.next=o.next,o.next=c}r.baseQueue=a=o,n.pending=null}if(a!==null){o=a.next,r=r.baseState;var u=c=null,h=null,f=o;do{var g=f.lane;if((Fr&g)===g)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var p={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=p,c=r):h=h.next=p,Ye.lanes|=g,Br|=g}f=f.next}while(f!==null&&f!==o);h===null?c=r:h.next=u,Ln(r,t.memoizedState)||(Bt=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do o=a.lane,Ye.lanes|=o,Br|=o,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function gd(e){var t=fn(),n=t.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,o=t.memoizedState;if(a!==null){n.pending=null;var c=a=a.next;do o=e(o,c.action),c=c.next;while(c!==a);Ln(o,t.memoizedState)||(Bt=!0),t.memoizedState=o,t.baseQueue===null&&(t.baseState=o),n.lastRenderedState=o}return[o,r]}function Py(){}function Ly(e,t){var n=Ye,r=fn(),a=t(),o=!Ln(r.memoizedState,a);if(o&&(r.memoizedState=a,Bt=!0),r=r.queue,$f(My.bind(null,n,r,e),[e]),r.getSnapshot!==t||o||ht!==null&&ht.memoizedState.tag&1){if(n.flags|=2048,ba(9,Ty.bind(null,n,r,a,t),void 0,null),ft===null)throw Error(q(349));Fr&30||Ey(n,t,a)}return a}function Ey(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Ty(e,t,n,r){t.value=n,t.getSnapshot=r,Ry(t)&&Ay(e)}function My(e,t,n){return n(function(){Ry(t)&&Ay(e)})}function Ry(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Ln(e,n)}catch{return!0}}function Ay(e){var t=vi(e,1);t!==null&&Pn(t,e,1,-1)}function Tg(e){var t=Un();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:wa,lastRenderedState:e},t.queue=e,e=e.dispatch=rC.bind(null,Ye,e),[t.memoizedState,e]}function ba(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ye.updateQueue,t===null?(t={lastEffect:null,stores:null},Ye.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Iy(){return fn().memoizedState}function Hl(e,t,n,r){var a=Un();Ye.flags|=e,a.memoizedState=ba(1|t,n,void 0,r===void 0?null:r)}function Uc(e,t,n,r){var a=fn();r=r===void 0?null:r;var o=void 0;if(lt!==null){var c=lt.memoizedState;if(o=c.destroy,r!==null&&Vf(r,c.deps)){a.memoizedState=ba(t,n,o,r);return}}Ye.flags|=e,a.memoizedState=ba(1|t,n,o,r)}function Mg(e,t){return Hl(8390656,8,e,t)}function $f(e,t){return Uc(2048,8,e,t)}function Oy(e,t){return Uc(4,2,e,t)}function zy(e,t){return Uc(4,4,e,t)}function Dy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Fy(e,t,n){return n=n!=null?n.concat([e]):null,Uc(4,4,Dy.bind(null,t,e),n)}function Zf(){}function By(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Vy(e,t){var n=fn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Vf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Hy(e,t,n){return Fr&21?(Ln(n,t)||(n=Gx(),Ye.lanes|=n,Br|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Bt=!0),e.memoizedState=n)}function nC(e,t){var n=He;He=n!==0&&4>n?n:4,e(!0);var r=md.transition;md.transition={};try{e(!1),t()}finally{He=n,md.transition=r}}function Uy(){return fn().memoizedState}function iC(e,t,n){var r=nr(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},$y(e))Zy(t,n);else if(n=Sy(e,t,n,r),n!==null){var a=Tt();Pn(n,e,r,a),Wy(n,t,r)}}function rC(e,t,n){var r=nr(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if($y(e))Zy(t,a);else{var o=e.alternate;if(e.lanes===0&&(o===null||o.lanes===0)&&(o=t.lastRenderedReducer,o!==null))try{var c=t.lastRenderedState,u=o(c,n);if(a.hasEagerState=!0,a.eagerState=u,Ln(u,c)){var h=t.interleaved;h===null?(a.next=a,Of(t)):(a.next=h.next,h.next=a),t.interleaved=a;return}}catch{}finally{}n=Sy(e,t,a,r),n!==null&&(a=Tt(),Pn(n,e,r,a),Wy(n,t,r))}}function $y(e){var t=e.alternate;return e===Ye||t!==null&&t===Ye}function Zy(e,t){na=vc=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Wy(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,bf(e,n)}}var xc={readContext:hn,useCallback:yt,useContext:yt,useEffect:yt,useImperativeHandle:yt,useInsertionEffect:yt,useLayoutEffect:yt,useMemo:yt,useReducer:yt,useRef:yt,useState:yt,useDebugValue:yt,useDeferredValue:yt,useTransition:yt,useMutableSource:yt,useSyncExternalStore:yt,useId:yt,unstable_isNewReconciler:!1},sC={readContext:hn,useCallback:function(e,t){return Un().memoizedState=[e,t===void 0?null:t],e},useContext:hn,useEffect:Mg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Hl(4194308,4,Dy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Hl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Hl(4,2,e,t)},useMemo:function(e,t){var n=Un();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Un();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=iC.bind(null,Ye,e),[r.memoizedState,e]},useRef:function(e){var t=Un();return e={current:e},t.memoizedState=e},useState:Tg,useDebugValue:Zf,useDeferredValue:function(e){return Un().memoizedState=e},useTransition:function(){var e=Tg(!1),t=e[0];return e=nC.bind(null,e[1]),Un().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ye,a=Un();if(Ke){if(n===void 0)throw Error(q(407));n=n()}else{if(n=t(),ft===null)throw Error(q(349));Fr&30||Ey(r,t,n)}a.memoizedState=n;var o={value:n,getSnapshot:t};return a.queue=o,Mg(My.bind(null,r,o,e),[e]),r.flags|=2048,ba(9,Ty.bind(null,r,o,n,t),void 0,null),n},useId:function(){var e=Un(),t=ft.identifierPrefix;if(Ke){var n=hi,r=di;n=(r&~(1<<32-kn(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=_a++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=tC++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},oC={readContext:hn,useCallback:By,useContext:hn,useEffect:$f,useImperativeHandle:Fy,useInsertionEffect:Oy,useLayoutEffect:zy,useMemo:Vy,useReducer:pd,useRef:Iy,useState:function(){return pd(wa)},useDebugValue:Zf,useDeferredValue:function(e){var t=fn();return Hy(t,lt.memoizedState,e)},useTransition:function(){var e=pd(wa)[0],t=fn().memoizedState;return[e,t]},useMutableSource:Py,useSyncExternalStore:Ly,useId:Uy,unstable_isNewReconciler:!1},aC={readContext:hn,useCallback:By,useContext:hn,useEffect:$f,useImperativeHandle:Fy,useInsertionEffect:Oy,useLayoutEffect:zy,useMemo:Vy,useReducer:gd,useRef:Iy,useState:function(){return gd(wa)},useDebugValue:Zf,useDeferredValue:function(e){var t=fn();return lt===null?t.memoizedState=e:Hy(t,lt.memoizedState,e)},useTransition:function(){var e=gd(wa)[0],t=fn().memoizedState;return[e,t]},useMutableSource:Py,useSyncExternalStore:Ly,useId:Uy,unstable_isNewReconciler:!1};function yn(e,t){if(e&&e.defaultProps){t=Xe({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function fh(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Xe({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var $c={isMounted:function(e){return(e=e._reactInternals)?Qr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Tt(),a=nr(e),o=fi(r,a);o.payload=t,n!=null&&(o.callback=n),t=er(e,o,a),t!==null&&(Pn(t,e,a,r),Bl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Tt(),a=nr(e),o=fi(r,a);o.tag=1,o.payload=t,n!=null&&(o.callback=n),t=er(e,o,a),t!==null&&(Pn(t,e,a,r),Bl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Tt(),r=nr(e),a=fi(n,r);a.tag=2,t!=null&&(a.callback=t),t=er(e,a,r),t!==null&&(Pn(t,e,r,n),Bl(t,e,r))}};function Rg(e,t,n,r,a,o,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,o,c):t.prototype&&t.prototype.isPureReactComponent?!ma(n,r)||!ma(a,o):!0}function Gy(e,t,n){var r=!1,a=lr,o=t.contextType;return typeof o=="object"&&o!==null?o=hn(o):(a=Ht(t)?zr:Nt.current,r=t.contextTypes,o=(r=r!=null)?Xs(e,a):lr),t=new t(n,o),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=$c,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=o),t}function Ag(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&$c.enqueueReplaceState(t,t.state,null)}function mh(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},zf(e);var o=t.contextType;typeof o=="object"&&o!==null?a.context=hn(o):(o=Ht(t)?zr:Nt.current,a.context=Xs(e,o)),a.state=e.memoizedState,o=t.getDerivedStateFromProps,typeof o=="function"&&(fh(e,t,o,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&$c.enqueueReplaceState(a,a.state,null),pc(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function no(e,t){try{var n="",r=t;do n+=IN(r),r=r.return;while(r);var a=n}catch(o){a=`
Error generating stack: `+o.message+`
`+o.stack}return{value:e,source:t,stack:a,digest:null}}function vd(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function ph(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var lC=typeof WeakMap=="function"?WeakMap:Map;function Ky(e,t,n){n=fi(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){_c||(_c=!0,Sh=r),ph(e,t)},n}function qy(e,t,n){n=fi(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){ph(e,t)}}var o=e.stateNode;return o!==null&&typeof o.componentDidCatch=="function"&&(n.callback=function(){ph(e,t),typeof r!="function"&&(tr===null?tr=new Set([this]):tr.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function Ig(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new lC;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=bC.bind(null,e,t,n),t.then(e,e))}function Og(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function zg(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=fi(-1,1),t.tag=2,er(n,t,1))),n.lanes|=1),e)}var cC=bi.ReactCurrentOwner,Bt=!1;function Et(e,t,n,r){t.child=e===null?Ny(t,null,n,r):eo(t,e.child,n,r)}function Dg(e,t,n,r,a){n=n.render;var o=t.ref;return Es(t,a),r=Hf(e,t,n,r,o,a),n=Uf(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xi(e,t,a)):(Ke&&n&&Ef(t),t.flags|=1,Et(e,t,r,a),t.child)}function Fg(e,t,n,r,a){if(e===null){var o=n.type;return typeof o=="function"&&!Jf(o)&&o.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=o,Qy(e,t,o,r,a)):(e=Wl(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(o=e.child,!(e.lanes&a)){var c=o.memoizedProps;if(n=n.compare,n=n!==null?n:ma,n(c,r)&&e.ref===t.ref)return xi(e,t,a)}return t.flags|=1,e=ir(o,r),e.ref=t.ref,e.return=t,t.child=e}function Qy(e,t,n,r,a){if(e!==null){var o=e.memoizedProps;if(ma(o,r)&&e.ref===t.ref)if(Bt=!1,t.pendingProps=r=o,(e.lanes&a)!==0)e.flags&131072&&(Bt=!0);else return t.lanes=e.lanes,xi(e,t,a)}return gh(e,t,n,r,a)}function Yy(e,t,n){var r=t.pendingProps,a=r.children,o=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},$e(Ss,Wt),Wt|=n;else{if(!(n&1073741824))return e=o!==null?o.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,$e(Ss,Wt),Wt|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=o!==null?o.baseLanes:n,$e(Ss,Wt),Wt|=r}else o!==null?(r=o.baseLanes|n,t.memoizedState=null):r=n,$e(Ss,Wt),Wt|=r;return Et(e,t,a,n),t.child}function Xy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function gh(e,t,n,r,a){var o=Ht(n)?zr:Nt.current;return o=Xs(t,o),Es(t,a),n=Hf(e,t,n,r,o,a),r=Uf(),e!==null&&!Bt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,xi(e,t,a)):(Ke&&r&&Ef(t),t.flags|=1,Et(e,t,n,a),t.child)}function Bg(e,t,n,r,a){if(Ht(n)){var o=!0;uc(t)}else o=!1;if(Es(t,a),t.stateNode===null)Ul(e,t),Gy(t,n,r),mh(t,n,r,a),r=!0;else if(e===null){var c=t.stateNode,u=t.memoizedProps;c.props=u;var h=c.context,f=n.contextType;typeof f=="object"&&f!==null?f=hn(f):(f=Ht(n)?zr:Nt.current,f=Xs(t,f));var g=n.getDerivedStateFromProps,p=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function";p||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==r||h!==f)&&Ag(t,c,r,f),Ii=!1;var x=t.memoizedState;c.state=x,pc(t,r,c,a),h=t.memoizedState,u!==r||x!==h||Vt.current||Ii?(typeof g=="function"&&(fh(t,n,g,r),h=t.memoizedState),(u=Ii||Rg(t,n,u,r,x,h,f))?(p||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),c.props=r,c.state=h,c.context=f,r=u):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,Cy(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:yn(t.type,u),c.props=f,p=t.pendingProps,x=c.context,h=n.contextType,typeof h=="object"&&h!==null?h=hn(h):(h=Ht(n)?zr:Nt.current,h=Xs(t,h));var b=n.getDerivedStateFromProps;(g=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==p||x!==h)&&Ag(t,c,r,h),Ii=!1,x=t.memoizedState,c.state=x,pc(t,r,c,a);var C=t.memoizedState;u!==p||x!==C||Vt.current||Ii?(typeof b=="function"&&(fh(t,n,b,r),C=t.memoizedState),(f=Ii||Rg(t,n,f,r,x,C,h)||!1)?(g||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,C,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,C,h)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=C),c.props=r,c.state=C,c.context=h,r=f):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&x===e.memoizedState||(t.flags|=1024),r=!1)}return vh(e,t,n,r,o,a)}function vh(e,t,n,r,a,o){Xy(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return a&&Sg(t,n,!1),xi(e,t,o);r=t.stateNode,cC.current=t;var u=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=eo(t,e.child,null,o),t.child=eo(t,null,u,o)):Et(e,t,u,o),t.memoizedState=r.state,a&&Sg(t,n,!0),t.child}function Jy(e){var t=e.stateNode;t.pendingContext?Ng(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Ng(e,t.context,!1),Df(e,t.containerInfo)}function Vg(e,t,n,r,a){return Js(),Mf(a),t.flags|=256,Et(e,t,n,r),t.child}var xh={dehydrated:null,treeContext:null,retryLane:0};function yh(e){return{baseLanes:e,cachePool:null,transitions:null}}function e0(e,t,n){var r=t.pendingProps,a=Qe.current,o=!1,c=(t.flags&128)!==0,u;if((u=c)||(u=e!==null&&e.memoizedState===null?!1:(a&2)!==0),u?(o=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),$e(Qe,a&1),e===null)return dh(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,o?(r=t.mode,o=t.child,c={mode:"hidden",children:c},!(r&1)&&o!==null?(o.childLanes=0,o.pendingProps=c):o=Gc(c,r,0,null),e=Or(e,r,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=yh(n),t.memoizedState=xh,e):Wf(t,c));if(a=e.memoizedState,a!==null&&(u=a.dehydrated,u!==null))return uC(e,t,c,r,u,a,n);if(o){o=r.fallback,c=t.mode,a=e.child,u=a.sibling;var h={mode:"hidden",children:r.children};return!(c&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=ir(a,h),r.subtreeFlags=a.subtreeFlags&14680064),u!==null?o=ir(u,o):(o=Or(o,c,n,null),o.flags|=2),o.return=t,r.return=t,r.sibling=o,t.child=r,r=o,o=t.child,c=e.child.memoizedState,c=c===null?yh(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},o.memoizedState=c,o.childLanes=e.childLanes&~n,t.memoizedState=xh,r}return o=e.child,e=o.sibling,r=ir(o,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Wf(e,t){return t=Gc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function jl(e,t,n,r){return r!==null&&Mf(r),eo(t,e.child,null,n),e=Wf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function uC(e,t,n,r,a,o,c){if(n)return t.flags&256?(t.flags&=-257,r=vd(Error(q(422))),jl(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(o=r.fallback,a=t.mode,r=Gc({mode:"visible",children:r.children},a,0,null),o=Or(o,a,c,null),o.flags|=2,r.return=t,o.return=t,r.sibling=o,t.child=r,t.mode&1&&eo(t,e.child,null,c),t.child.memoizedState=yh(c),t.memoizedState=xh,o);if(!(t.mode&1))return jl(e,t,c,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var u=r.dgst;return r=u,o=Error(q(419)),r=vd(o,r,void 0),jl(e,t,c,r)}if(u=(c&e.childLanes)!==0,Bt||u){if(r=ft,r!==null){switch(c&-c){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|c)?0:a,a!==0&&a!==o.retryLane&&(o.retryLane=a,vi(e,a),Pn(r,e,a,-1))}return Xf(),r=vd(Error(q(421))),jl(e,t,c,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=jC.bind(null,e),a._reactRetry=t,null):(e=o.treeContext,Kt=Ji(a.nextSibling),qt=t,Ke=!0,bn=null,e!==null&&(an[ln++]=di,an[ln++]=hi,an[ln++]=Dr,di=e.id,hi=e.overflow,Dr=t),t=Wf(t,r.children),t.flags|=4096,t)}function Hg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),hh(e.return,t,n)}function xd(e,t,n,r,a){var o=e.memoizedState;o===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(o.isBackwards=t,o.rendering=null,o.renderingStartTime=0,o.last=r,o.tail=n,o.tailMode=a)}function t0(e,t,n){var r=t.pendingProps,a=r.revealOrder,o=r.tail;if(Et(e,t,r.children,n),r=Qe.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Hg(e,n,t);else if(e.tag===19)Hg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if($e(Qe,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&gc(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),xd(t,!1,a,n,o);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&gc(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}xd(t,!0,n,null,o);break;case"together":xd(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ul(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function xi(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Br|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(q(153));if(t.child!==null){for(e=t.child,n=ir(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=ir(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function dC(e,t,n){switch(t.tag){case 3:Jy(t),Js();break;case 5:ky(t);break;case 1:Ht(t.type)&&uc(t);break;case 4:Df(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;$e(fc,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?($e(Qe,Qe.current&1),t.flags|=128,null):n&t.child.childLanes?e0(e,t,n):($e(Qe,Qe.current&1),e=xi(e,t,n),e!==null?e.sibling:null);$e(Qe,Qe.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return t0(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),$e(Qe,Qe.current),r)break;return null;case 22:case 23:return t.lanes=0,Yy(e,t,n)}return xi(e,t,n)}var n0,_h,i0,r0;n0=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};_h=function(){};i0=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,Cr(Yn.current);var o=null;switch(n){case"input":a=Hd(e,a),r=Hd(e,r),o=[];break;case"select":a=Xe({},a,{value:void 0}),r=Xe({},r,{value:void 0}),o=[];break;case"textarea":a=Zd(e,a),r=Zd(e,r),o=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=lc)}Gd(n,r);var c;n=null;for(f in a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&a[f]!=null)if(f==="style"){var u=a[f];for(c in u)u.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(aa.hasOwnProperty(f)?o||(o=[]):(o=o||[]).push(f,null));for(f in r){var h=r[f];if(u=a!=null?a[f]:void 0,r.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(c in u)!u.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in h)h.hasOwnProperty(c)&&u[c]!==h[c]&&(n||(n={}),n[c]=h[c])}else n||(o||(o=[]),o.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(o=o||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(o=o||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(aa.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&We("scroll",e),o||u===h||(o=[])):(o=o||[]).push(f,h))}n&&(o=o||[]).push("style",n);var f=o;(t.updateQueue=f)&&(t.flags|=4)}};r0=function(e,t,n,r){n!==r&&(t.flags|=4)};function Bo(e,t){if(!Ke)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function _t(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function hC(e,t,n){var r=t.pendingProps;switch(Tf(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return _t(t),null;case 1:return Ht(t.type)&&cc(),_t(t),null;case 3:return r=t.stateNode,to(),Ge(Vt),Ge(Nt),Bf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(wl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,bn!==null&&(Ph(bn),bn=null))),_h(e,t),_t(t),null;case 5:Ff(t);var a=Cr(ya.current);if(n=t.type,e!==null&&t.stateNode!=null)i0(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(q(166));return _t(t),null}if(e=Cr(Yn.current),wl(t)){r=t.stateNode,n=t.type;var o=t.memoizedProps;switch(r[Kn]=t,r[va]=o,e=(t.mode&1)!==0,n){case"dialog":We("cancel",r),We("close",r);break;case"iframe":case"object":case"embed":We("load",r);break;case"video":case"audio":for(a=0;a<Ko.length;a++)We(Ko[a],r);break;case"source":We("error",r);break;case"img":case"image":case"link":We("error",r),We("load",r);break;case"details":We("toggle",r);break;case"input":Yp(r,o),We("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!o.multiple},We("invalid",r);break;case"textarea":Jp(r,o),We("invalid",r)}Gd(n,o),a=null;for(var c in o)if(o.hasOwnProperty(c)){var u=o[c];c==="children"?typeof u=="string"?r.textContent!==u&&(o.suppressHydrationWarning!==!0&&_l(r.textContent,u,e),a=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(o.suppressHydrationWarning!==!0&&_l(r.textContent,u,e),a=["children",""+u]):aa.hasOwnProperty(c)&&u!=null&&c==="onScroll"&&We("scroll",r)}switch(n){case"input":hl(r),Xp(r,o,!0);break;case"textarea":hl(r),eg(r);break;case"select":case"option":break;default:typeof o.onClick=="function"&&(r.onclick=lc)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Mx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Kn]=t,e[va]=r,n0(e,t,!1,!1),t.stateNode=e;e:{switch(c=Kd(n,r),n){case"dialog":We("cancel",e),We("close",e),a=r;break;case"iframe":case"object":case"embed":We("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ko.length;a++)We(Ko[a],e);a=r;break;case"source":We("error",e),a=r;break;case"img":case"image":case"link":We("error",e),We("load",e),a=r;break;case"details":We("toggle",e),a=r;break;case"input":Yp(e,r),a=Hd(e,r),We("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Xe({},r,{value:void 0}),We("invalid",e);break;case"textarea":Jp(e,r),a=Zd(e,r),We("invalid",e);break;default:a=r}Gd(n,a),u=a;for(o in u)if(u.hasOwnProperty(o)){var h=u[o];o==="style"?Ix(e,h):o==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&Rx(e,h)):o==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&la(e,h):typeof h=="number"&&la(e,""+h):o!=="suppressContentEditableWarning"&&o!=="suppressHydrationWarning"&&o!=="autoFocus"&&(aa.hasOwnProperty(o)?h!=null&&o==="onScroll"&&We("scroll",e):h!=null&&gf(e,o,h,c))}switch(n){case"input":hl(e),Xp(e,r,!1);break;case"textarea":hl(e),eg(e);break;case"option":r.value!=null&&e.setAttribute("value",""+ar(r.value));break;case"select":e.multiple=!!r.multiple,o=r.value,o!=null?Cs(e,!!r.multiple,o,!1):r.defaultValue!=null&&Cs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=lc)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return _t(t),null;case 6:if(e&&t.stateNode!=null)r0(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(q(166));if(n=Cr(ya.current),Cr(Yn.current),wl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Kn]=t,(o=r.nodeValue!==n)&&(e=qt,e!==null))switch(e.tag){case 3:_l(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&_l(r.nodeValue,n,(e.mode&1)!==0)}o&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Kn]=t,t.stateNode=r}return _t(t),null;case 13:if(Ge(Qe),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(Ke&&Kt!==null&&t.mode&1&&!(t.flags&128))by(),Js(),t.flags|=98560,o=!1;else if(o=wl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!o)throw Error(q(318));if(o=t.memoizedState,o=o!==null?o.dehydrated:null,!o)throw Error(q(317));o[Kn]=t}else Js(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;_t(t),o=!1}else bn!==null&&(Ph(bn),bn=null),o=!0;if(!o)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||Qe.current&1?ut===0&&(ut=3):Xf())),t.updateQueue!==null&&(t.flags|=4),_t(t),null);case 4:return to(),_h(e,t),e===null&&pa(t.stateNode.containerInfo),_t(t),null;case 10:return If(t.type._context),_t(t),null;case 17:return Ht(t.type)&&cc(),_t(t),null;case 19:if(Ge(Qe),o=t.memoizedState,o===null)return _t(t),null;if(r=(t.flags&128)!==0,c=o.rendering,c===null)if(r)Bo(o,!1);else{if(ut!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=gc(e),c!==null){for(t.flags|=128,Bo(o,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)o=n,e=r,o.flags&=14680066,c=o.alternate,c===null?(o.childLanes=0,o.lanes=e,o.child=null,o.subtreeFlags=0,o.memoizedProps=null,o.memoizedState=null,o.updateQueue=null,o.dependencies=null,o.stateNode=null):(o.childLanes=c.childLanes,o.lanes=c.lanes,o.child=c.child,o.subtreeFlags=0,o.deletions=null,o.memoizedProps=c.memoizedProps,o.memoizedState=c.memoizedState,o.updateQueue=c.updateQueue,o.type=c.type,e=c.dependencies,o.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return $e(Qe,Qe.current&1|2),t.child}e=e.sibling}o.tail!==null&&nt()>io&&(t.flags|=128,r=!0,Bo(o,!1),t.lanes=4194304)}else{if(!r)if(e=gc(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),Bo(o,!0),o.tail===null&&o.tailMode==="hidden"&&!c.alternate&&!Ke)return _t(t),null}else 2*nt()-o.renderingStartTime>io&&n!==1073741824&&(t.flags|=128,r=!0,Bo(o,!1),t.lanes=4194304);o.isBackwards?(c.sibling=t.child,t.child=c):(n=o.last,n!==null?n.sibling=c:t.child=c,o.last=c)}return o.tail!==null?(t=o.tail,o.rendering=t,o.tail=t.sibling,o.renderingStartTime=nt(),t.sibling=null,n=Qe.current,$e(Qe,r?n&1|2:n&1),t):(_t(t),null);case 22:case 23:return Yf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?Wt&1073741824&&(_t(t),t.subtreeFlags&6&&(t.flags|=8192)):_t(t),null;case 24:return null;case 25:return null}throw Error(q(156,t.tag))}function fC(e,t){switch(Tf(t),t.tag){case 1:return Ht(t.type)&&cc(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return to(),Ge(Vt),Ge(Nt),Bf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Ff(t),null;case 13:if(Ge(Qe),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(q(340));Js()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ge(Qe),null;case 4:return to(),null;case 10:return If(t.type._context),null;case 22:case 23:return Yf(),null;case 24:return null;default:return null}}var Nl=!1,jt=!1,mC=typeof WeakSet=="function"?WeakSet:Set,ae=null;function Ns(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){et(e,t,r)}else n.current=null}function wh(e,t,n){try{n()}catch(r){et(e,t,r)}}var Ug=!1;function pC(e,t){if(rh=sc,e=cy(),Lf(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,o=r.focusNode;r=r.focusOffset;try{n.nodeType,o.nodeType}catch{n=null;break e}var c=0,u=-1,h=-1,f=0,g=0,p=e,x=null;t:for(;;){for(var b;p!==n||a!==0&&p.nodeType!==3||(u=c+a),p!==o||r!==0&&p.nodeType!==3||(h=c+r),p.nodeType===3&&(c+=p.nodeValue.length),(b=p.firstChild)!==null;)x=p,p=b;for(;;){if(p===e)break t;if(x===n&&++f===a&&(u=c),x===o&&++g===r&&(h=c),(b=p.nextSibling)!==null)break;p=x,x=p.parentNode}p=b}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for(sh={focusedElem:e,selectionRange:n},sc=!1,ae=t;ae!==null;)if(t=ae,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ae=e;else for(;ae!==null;){t=ae;try{var C=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(C!==null){var v=C.memoizedProps,S=C.memoizedState,j=t.stateNode,w=j.getSnapshotBeforeUpdate(t.elementType===t.type?v:yn(t.type,v),S);j.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var N=t.stateNode.containerInfo;N.nodeType===1?N.textContent="":N.nodeType===9&&N.documentElement&&N.removeChild(N.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(P){et(t,t.return,P)}if(e=t.sibling,e!==null){e.return=t.return,ae=e;break}ae=t.return}return C=Ug,Ug=!1,C}function ia(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var o=a.destroy;a.destroy=void 0,o!==void 0&&wh(t,n,o)}a=a.next}while(a!==r)}}function Zc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function bh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function s0(e){var t=e.alternate;t!==null&&(e.alternate=null,s0(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Kn],delete t[va],delete t[lh],delete t[YS],delete t[XS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function o0(e){return e.tag===5||e.tag===3||e.tag===4}function $g(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||o0(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function jh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=lc));else if(r!==4&&(e=e.child,e!==null))for(jh(e,t,n),e=e.sibling;e!==null;)jh(e,t,n),e=e.sibling}function Nh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Nh(e,t,n),e=e.sibling;e!==null;)Nh(e,t,n),e=e.sibling}var gt=null,wn=!1;function Li(e,t,n){for(n=n.child;n!==null;)a0(e,t,n),n=n.sibling}function a0(e,t,n){if(Qn&&typeof Qn.onCommitFiberUnmount=="function")try{Qn.onCommitFiberUnmount(zc,n)}catch{}switch(n.tag){case 5:jt||Ns(n,t);case 6:var r=gt,a=wn;gt=null,Li(e,t,n),gt=r,wn=a,gt!==null&&(wn?(e=gt,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):gt.removeChild(n.stateNode));break;case 18:gt!==null&&(wn?(e=gt,n=n.stateNode,e.nodeType===8?dd(e.parentNode,n):e.nodeType===1&&dd(e,n),ha(e)):dd(gt,n.stateNode));break;case 4:r=gt,a=wn,gt=n.stateNode.containerInfo,wn=!0,Li(e,t,n),gt=r,wn=a;break;case 0:case 11:case 14:case 15:if(!jt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var o=a,c=o.destroy;o=o.tag,c!==void 0&&(o&2||o&4)&&wh(n,t,c),a=a.next}while(a!==r)}Li(e,t,n);break;case 1:if(!jt&&(Ns(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){et(n,t,u)}Li(e,t,n);break;case 21:Li(e,t,n);break;case 22:n.mode&1?(jt=(r=jt)||n.memoizedState!==null,Li(e,t,n),jt=r):Li(e,t,n);break;default:Li(e,t,n)}}function Zg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new mC),t.forEach(function(r){var a=NC.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function vn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var o=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 5:gt=u.stateNode,wn=!1;break e;case 3:gt=u.stateNode.containerInfo,wn=!0;break e;case 4:gt=u.stateNode.containerInfo,wn=!0;break e}u=u.return}if(gt===null)throw Error(q(160));a0(o,c,a),gt=null,wn=!1;var h=a.alternate;h!==null&&(h.return=null),a.return=null}catch(f){et(a,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)l0(t,e),t=t.sibling}function l0(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(vn(t,e),Hn(e),r&4){try{ia(3,e,e.return),Zc(3,e)}catch(v){et(e,e.return,v)}try{ia(5,e,e.return)}catch(v){et(e,e.return,v)}}break;case 1:vn(t,e),Hn(e),r&512&&n!==null&&Ns(n,n.return);break;case 5:if(vn(t,e),Hn(e),r&512&&n!==null&&Ns(n,n.return),e.flags&32){var a=e.stateNode;try{la(a,"")}catch(v){et(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var o=e.memoizedProps,c=n!==null?n.memoizedProps:o,u=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{u==="input"&&o.type==="radio"&&o.name!=null&&Ex(a,o),Kd(u,c);var f=Kd(u,o);for(c=0;c<h.length;c+=2){var g=h[c],p=h[c+1];g==="style"?Ix(a,p):g==="dangerouslySetInnerHTML"?Rx(a,p):g==="children"?la(a,p):gf(a,g,p,f)}switch(u){case"input":Ud(a,o);break;case"textarea":Tx(a,o);break;case"select":var x=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!o.multiple;var b=o.value;b!=null?Cs(a,!!o.multiple,b,!1):x!==!!o.multiple&&(o.defaultValue!=null?Cs(a,!!o.multiple,o.defaultValue,!0):Cs(a,!!o.multiple,o.multiple?[]:"",!1))}a[va]=o}catch(v){et(e,e.return,v)}}break;case 6:if(vn(t,e),Hn(e),r&4){if(e.stateNode===null)throw Error(q(162));a=e.stateNode,o=e.memoizedProps;try{a.nodeValue=o}catch(v){et(e,e.return,v)}}break;case 3:if(vn(t,e),Hn(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{ha(t.containerInfo)}catch(v){et(e,e.return,v)}break;case 4:vn(t,e),Hn(e);break;case 13:vn(t,e),Hn(e),a=e.child,a.flags&8192&&(o=a.memoizedState!==null,a.stateNode.isHidden=o,!o||a.alternate!==null&&a.alternate.memoizedState!==null||(qf=nt())),r&4&&Zg(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(jt=(f=jt)||g,vn(t,e),jt=f):vn(t,e),Hn(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!g&&e.mode&1)for(ae=e,g=e.child;g!==null;){for(p=ae=g;ae!==null;){switch(x=ae,b=x.child,x.tag){case 0:case 11:case 14:case 15:ia(4,x,x.return);break;case 1:Ns(x,x.return);var C=x.stateNode;if(typeof C.componentWillUnmount=="function"){r=x,n=x.return;try{t=r,C.props=t.memoizedProps,C.state=t.memoizedState,C.componentWillUnmount()}catch(v){et(r,n,v)}}break;case 5:Ns(x,x.return);break;case 22:if(x.memoizedState!==null){Gg(p);continue}}b!==null?(b.return=x,ae=b):Gg(p)}g=g.sibling}e:for(g=null,p=e;;){if(p.tag===5){if(g===null){g=p;try{a=p.stateNode,f?(o=a.style,typeof o.setProperty=="function"?o.setProperty("display","none","important"):o.display="none"):(u=p.stateNode,h=p.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=Ax("display",c))}catch(v){et(e,e.return,v)}}}else if(p.tag===6){if(g===null)try{p.stateNode.nodeValue=f?"":p.memoizedProps}catch(v){et(e,e.return,v)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;g===p&&(g=null),p=p.return}g===p&&(g=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:vn(t,e),Hn(e),r&4&&Zg(e);break;case 21:break;default:vn(t,e),Hn(e)}}function Hn(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(o0(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(la(a,""),r.flags&=-33);var o=$g(e);Nh(e,o,a);break;case 3:case 4:var c=r.stateNode.containerInfo,u=$g(e);jh(e,u,c);break;default:throw Error(q(161))}}catch(h){et(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function gC(e,t,n){ae=e,c0(e)}function c0(e,t,n){for(var r=(e.mode&1)!==0;ae!==null;){var a=ae,o=a.child;if(a.tag===22&&r){var c=a.memoizedState!==null||Nl;if(!c){var u=a.alternate,h=u!==null&&u.memoizedState!==null||jt;u=Nl;var f=jt;if(Nl=c,(jt=h)&&!f)for(ae=a;ae!==null;)c=ae,h=c.child,c.tag===22&&c.memoizedState!==null?Kg(a):h!==null?(h.return=c,ae=h):Kg(a);for(;o!==null;)ae=o,c0(o),o=o.sibling;ae=a,Nl=u,jt=f}Wg(e)}else a.subtreeFlags&8772&&o!==null?(o.return=a,ae=o):Wg(e)}}function Wg(e){for(;ae!==null;){var t=ae;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:jt||Zc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!jt)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:yn(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var o=t.updateQueue;o!==null&&Eg(t,o,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}Eg(t,c,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var p=g.dehydrated;p!==null&&ha(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}jt||t.flags&512&&bh(t)}catch(x){et(t,t.return,x)}}if(t===e){ae=null;break}if(n=t.sibling,n!==null){n.return=t.return,ae=n;break}ae=t.return}}function Gg(e){for(;ae!==null;){var t=ae;if(t===e){ae=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ae=n;break}ae=t.return}}function Kg(e){for(;ae!==null;){var t=ae;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{Zc(4,t)}catch(h){et(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(h){et(t,a,h)}}var o=t.return;try{bh(t)}catch(h){et(t,o,h)}break;case 5:var c=t.return;try{bh(t)}catch(h){et(t,c,h)}}}catch(h){et(t,t.return,h)}if(t===e){ae=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ae=u;break}ae=t.return}}var vC=Math.ceil,yc=bi.ReactCurrentDispatcher,Gf=bi.ReactCurrentOwner,un=bi.ReactCurrentBatchConfig,Oe=0,ft=null,ot=null,vt=0,Wt=0,Ss=fr(0),ut=0,ja=null,Br=0,Wc=0,Kf=0,ra=null,Ft=null,qf=0,io=1/0,li=null,_c=!1,Sh=null,tr=null,Sl=!1,qi=null,wc=0,sa=0,Ch=null,$l=-1,Zl=0;function Tt(){return Oe&6?nt():$l!==-1?$l:$l=nt()}function nr(e){return e.mode&1?Oe&2&&vt!==0?vt&-vt:eC.transition!==null?(Zl===0&&(Zl=Gx()),Zl):(e=He,e!==0||(e=window.event,e=e===void 0?16:ey(e.type)),e):1}function Pn(e,t,n,r){if(50<sa)throw sa=0,Ch=null,Error(q(185));Ma(e,n,r),(!(Oe&2)||e!==ft)&&(e===ft&&(!(Oe&2)&&(Wc|=n),ut===4&&Di(e,vt)),Ut(e,r),n===1&&Oe===0&&!(t.mode&1)&&(io=nt()+500,Hc&&mr()))}function Ut(e,t){var n=e.callbackNode;eS(e,t);var r=rc(e,e===ft?vt:0);if(r===0)n!==null&&ig(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&ig(n),t===1)e.tag===0?JS(qg.bind(null,e)):yy(qg.bind(null,e)),qS(function(){!(Oe&6)&&mr()}),n=null;else{switch(Kx(r)){case 1:n=wf;break;case 4:n=Zx;break;case 16:n=ic;break;case 536870912:n=Wx;break;default:n=ic}n=v0(n,u0.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function u0(e,t){if($l=-1,Zl=0,Oe&6)throw Error(q(327));var n=e.callbackNode;if(Ts()&&e.callbackNode!==n)return null;var r=rc(e,e===ft?vt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=bc(e,r);else{t=r;var a=Oe;Oe|=2;var o=h0();(ft!==e||vt!==t)&&(li=null,io=nt()+500,Ir(e,t));do try{_C();break}catch(u){d0(e,u)}while(!0);Af(),yc.current=o,Oe=a,ot!==null?t=0:(ft=null,vt=0,t=ut)}if(t!==0){if(t===2&&(a=Jd(e),a!==0&&(r=a,t=kh(e,a))),t===1)throw n=ja,Ir(e,0),Di(e,r),Ut(e,nt()),n;if(t===6)Di(e,r);else{if(a=e.current.alternate,!(r&30)&&!xC(a)&&(t=bc(e,r),t===2&&(o=Jd(e),o!==0&&(r=o,t=kh(e,o))),t===1))throw n=ja,Ir(e,0),Di(e,r),Ut(e,nt()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(q(345));case 2:jr(e,Ft,li);break;case 3:if(Di(e,r),(r&130023424)===r&&(t=qf+500-nt(),10<t)){if(rc(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){Tt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=ah(jr.bind(null,e,Ft,li),t);break}jr(e,Ft,li);break;case 4:if(Di(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var c=31-kn(r);o=1<<c,c=t[c],c>a&&(a=c),r&=~o}if(r=a,r=nt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*vC(r/1960))-r,10<r){e.timeoutHandle=ah(jr.bind(null,e,Ft,li),r);break}jr(e,Ft,li);break;case 5:jr(e,Ft,li);break;default:throw Error(q(329))}}}return Ut(e,nt()),e.callbackNode===n?u0.bind(null,e):null}function kh(e,t){var n=ra;return e.current.memoizedState.isDehydrated&&(Ir(e,t).flags|=256),e=bc(e,t),e!==2&&(t=Ft,Ft=n,t!==null&&Ph(t)),e}function Ph(e){Ft===null?Ft=e:Ft.push.apply(Ft,e)}function xC(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],o=a.getSnapshot;a=a.value;try{if(!Ln(o(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function Di(e,t){for(t&=~Kf,t&=~Wc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-kn(t),r=1<<n;e[n]=-1,t&=~r}}function qg(e){if(Oe&6)throw Error(q(327));Ts();var t=rc(e,0);if(!(t&1))return Ut(e,nt()),null;var n=bc(e,t);if(e.tag!==0&&n===2){var r=Jd(e);r!==0&&(t=r,n=kh(e,r))}if(n===1)throw n=ja,Ir(e,0),Di(e,t),Ut(e,nt()),n;if(n===6)throw Error(q(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,jr(e,Ft,li),Ut(e,nt()),null}function Qf(e,t){var n=Oe;Oe|=1;try{return e(t)}finally{Oe=n,Oe===0&&(io=nt()+500,Hc&&mr())}}function Vr(e){qi!==null&&qi.tag===0&&!(Oe&6)&&Ts();var t=Oe;Oe|=1;var n=un.transition,r=He;try{if(un.transition=null,He=1,e)return e()}finally{He=r,un.transition=n,Oe=t,!(Oe&6)&&mr()}}function Yf(){Wt=Ss.current,Ge(Ss)}function Ir(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,KS(n)),ot!==null)for(n=ot.return;n!==null;){var r=n;switch(Tf(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&cc();break;case 3:to(),Ge(Vt),Ge(Nt),Bf();break;case 5:Ff(r);break;case 4:to();break;case 13:Ge(Qe);break;case 19:Ge(Qe);break;case 10:If(r.type._context);break;case 22:case 23:Yf()}n=n.return}if(ft=e,ot=e=ir(e.current,null),vt=Wt=t,ut=0,ja=null,Kf=Wc=Br=0,Ft=ra=null,Sr!==null){for(t=0;t<Sr.length;t++)if(n=Sr[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,o=n.pending;if(o!==null){var c=o.next;o.next=a,r.next=c}n.pending=r}Sr=null}return e}function d0(e,t){do{var n=ot;try{if(Af(),Vl.current=xc,vc){for(var r=Ye.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}vc=!1}if(Fr=0,ht=lt=Ye=null,na=!1,_a=0,Gf.current=null,n===null||n.return===null){ut=1,ja=t,ot=null;break}e:{var o=e,c=n.return,u=n,h=t;if(t=vt,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,g=u,p=g.tag;if(!(g.mode&1)&&(p===0||p===11||p===15)){var x=g.alternate;x?(g.updateQueue=x.updateQueue,g.memoizedState=x.memoizedState,g.lanes=x.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=Og(c);if(b!==null){b.flags&=-257,zg(b,c,u,o,t),b.mode&1&&Ig(o,f,t),t=b,h=f;var C=t.updateQueue;if(C===null){var v=new Set;v.add(h),t.updateQueue=v}else C.add(h);break e}else{if(!(t&1)){Ig(o,f,t),Xf();break e}h=Error(q(426))}}else if(Ke&&u.mode&1){var S=Og(c);if(S!==null){!(S.flags&65536)&&(S.flags|=256),zg(S,c,u,o,t),Mf(no(h,u));break e}}o=h=no(h,u),ut!==4&&(ut=2),ra===null?ra=[o]:ra.push(o),o=c;do{switch(o.tag){case 3:o.flags|=65536,t&=-t,o.lanes|=t;var j=Ky(o,h,t);Lg(o,j);break e;case 1:u=h;var w=o.type,N=o.stateNode;if(!(o.flags&128)&&(typeof w.getDerivedStateFromError=="function"||N!==null&&typeof N.componentDidCatch=="function"&&(tr===null||!tr.has(N)))){o.flags|=65536,t&=-t,o.lanes|=t;var P=qy(o,u,t);Lg(o,P);break e}}o=o.return}while(o!==null)}m0(n)}catch(E){t=E,ot===n&&n!==null&&(ot=n=n.return);continue}break}while(!0)}function h0(){var e=yc.current;return yc.current=xc,e===null?xc:e}function Xf(){(ut===0||ut===3||ut===2)&&(ut=4),ft===null||!(Br&268435455)&&!(Wc&268435455)||Di(ft,vt)}function bc(e,t){var n=Oe;Oe|=2;var r=h0();(ft!==e||vt!==t)&&(li=null,Ir(e,t));do try{yC();break}catch(a){d0(e,a)}while(!0);if(Af(),Oe=n,yc.current=r,ot!==null)throw Error(q(261));return ft=null,vt=0,ut}function yC(){for(;ot!==null;)f0(ot)}function _C(){for(;ot!==null&&!ZN();)f0(ot)}function f0(e){var t=g0(e.alternate,e,Wt);e.memoizedProps=e.pendingProps,t===null?m0(e):ot=t,Gf.current=null}function m0(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=fC(n,t),n!==null){n.flags&=32767,ot=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{ut=6,ot=null;return}}else if(n=hC(n,t,Wt),n!==null){ot=n;return}if(t=t.sibling,t!==null){ot=t;return}ot=t=e}while(t!==null);ut===0&&(ut=5)}function jr(e,t,n){var r=He,a=un.transition;try{un.transition=null,He=1,wC(e,t,n,r)}finally{un.transition=a,He=r}return null}function wC(e,t,n,r){do Ts();while(qi!==null);if(Oe&6)throw Error(q(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(q(177));e.callbackNode=null,e.callbackPriority=0;var o=n.lanes|n.childLanes;if(tS(e,o),e===ft&&(ot=ft=null,vt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Sl||(Sl=!0,v0(ic,function(){return Ts(),null})),o=(n.flags&15990)!==0,n.subtreeFlags&15990||o){o=un.transition,un.transition=null;var c=He;He=1;var u=Oe;Oe|=4,Gf.current=null,pC(e,n),l0(n,e),VS(sh),sc=!!rh,sh=rh=null,e.current=n,gC(n),WN(),Oe=u,He=c,un.transition=o}else e.current=n;if(Sl&&(Sl=!1,qi=e,wc=a),o=e.pendingLanes,o===0&&(tr=null),qN(n.stateNode),Ut(e,nt()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(_c)throw _c=!1,e=Sh,Sh=null,e;return wc&1&&e.tag!==0&&Ts(),o=e.pendingLanes,o&1?e===Ch?sa++:(sa=0,Ch=e):sa=0,mr(),null}function Ts(){if(qi!==null){var e=Kx(wc),t=un.transition,n=He;try{if(un.transition=null,He=16>e?16:e,qi===null)var r=!1;else{if(e=qi,qi=null,wc=0,Oe&6)throw Error(q(331));var a=Oe;for(Oe|=4,ae=e.current;ae!==null;){var o=ae,c=o.child;if(ae.flags&16){var u=o.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(ae=f;ae!==null;){var g=ae;switch(g.tag){case 0:case 11:case 15:ia(8,g,o)}var p=g.child;if(p!==null)p.return=g,ae=p;else for(;ae!==null;){g=ae;var x=g.sibling,b=g.return;if(s0(g),g===f){ae=null;break}if(x!==null){x.return=b,ae=x;break}ae=b}}}var C=o.alternate;if(C!==null){var v=C.child;if(v!==null){C.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}ae=o}}if(o.subtreeFlags&2064&&c!==null)c.return=o,ae=c;else e:for(;ae!==null;){if(o=ae,o.flags&2048)switch(o.tag){case 0:case 11:case 15:ia(9,o,o.return)}var j=o.sibling;if(j!==null){j.return=o.return,ae=j;break e}ae=o.return}}var w=e.current;for(ae=w;ae!==null;){c=ae;var N=c.child;if(c.subtreeFlags&2064&&N!==null)N.return=c,ae=N;else e:for(c=w;ae!==null;){if(u=ae,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:Zc(9,u)}}catch(E){et(u,u.return,E)}if(u===c){ae=null;break e}var P=u.sibling;if(P!==null){P.return=u.return,ae=P;break e}ae=u.return}}if(Oe=a,mr(),Qn&&typeof Qn.onPostCommitFiberRoot=="function")try{Qn.onPostCommitFiberRoot(zc,e)}catch{}r=!0}return r}finally{He=n,un.transition=t}}return!1}function Qg(e,t,n){t=no(n,t),t=Ky(e,t,1),e=er(e,t,1),t=Tt(),e!==null&&(Ma(e,1,t),Ut(e,t))}function et(e,t,n){if(e.tag===3)Qg(e,e,n);else for(;t!==null;){if(t.tag===3){Qg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(tr===null||!tr.has(r))){e=no(n,e),e=qy(t,e,1),t=er(t,e,1),e=Tt(),t!==null&&(Ma(t,1,e),Ut(t,e));break}}t=t.return}}function bC(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Tt(),e.pingedLanes|=e.suspendedLanes&n,ft===e&&(vt&n)===n&&(ut===4||ut===3&&(vt&130023424)===vt&&500>nt()-qf?Ir(e,0):Kf|=n),Ut(e,t)}function p0(e,t){t===0&&(e.mode&1?(t=pl,pl<<=1,!(pl&130023424)&&(pl=4194304)):t=1);var n=Tt();e=vi(e,t),e!==null&&(Ma(e,t,n),Ut(e,n))}function jC(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),p0(e,n)}function NC(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(t),p0(e,n)}var g0;g0=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Vt.current)Bt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Bt=!1,dC(e,t,n);Bt=!!(e.flags&131072)}else Bt=!1,Ke&&t.flags&1048576&&_y(t,hc,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ul(e,t),e=t.pendingProps;var a=Xs(t,Nt.current);Es(t,n),a=Hf(null,t,r,e,a,n);var o=Uf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Ht(r)?(o=!0,uc(t)):o=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,zf(t),a.updater=$c,t.stateNode=a,a._reactInternals=t,mh(t,r,e,n),t=vh(null,t,r,!0,o,n)):(t.tag=0,Ke&&o&&Ef(t),Et(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ul(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=CC(r),e=yn(r,e),a){case 0:t=gh(null,t,r,e,n);break e;case 1:t=Bg(null,t,r,e,n);break e;case 11:t=Dg(null,t,r,e,n);break e;case 14:t=Fg(null,t,r,yn(r.type,e),n);break e}throw Error(q(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yn(r,a),gh(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yn(r,a),Bg(e,t,r,a,n);case 3:e:{if(Jy(t),e===null)throw Error(q(387));r=t.pendingProps,o=t.memoizedState,a=o.element,Cy(e,t),pc(t,r,null,n);var c=t.memoizedState;if(r=c.element,o.isDehydrated)if(o={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=o,t.memoizedState=o,t.flags&256){a=no(Error(q(423)),t),t=Vg(e,t,r,n,a);break e}else if(r!==a){a=no(Error(q(424)),t),t=Vg(e,t,r,n,a);break e}else for(Kt=Ji(t.stateNode.containerInfo.firstChild),qt=t,Ke=!0,bn=null,n=Ny(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Js(),r===a){t=xi(e,t,n);break e}Et(e,t,r,n)}t=t.child}return t;case 5:return ky(t),e===null&&dh(t),r=t.type,a=t.pendingProps,o=e!==null?e.memoizedProps:null,c=a.children,oh(r,a)?c=null:o!==null&&oh(r,o)&&(t.flags|=32),Xy(e,t),Et(e,t,c,n),t.child;case 6:return e===null&&dh(t),null;case 13:return e0(e,t,n);case 4:return Df(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=eo(t,null,r,n):Et(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yn(r,a),Dg(e,t,r,a,n);case 7:return Et(e,t,t.pendingProps,n),t.child;case 8:return Et(e,t,t.pendingProps.children,n),t.child;case 12:return Et(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,o=t.memoizedProps,c=a.value,$e(fc,r._currentValue),r._currentValue=c,o!==null)if(Ln(o.value,c)){if(o.children===a.children&&!Vt.current){t=xi(e,t,n);break e}}else for(o=t.child,o!==null&&(o.return=t);o!==null;){var u=o.dependencies;if(u!==null){c=o.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(o.tag===1){h=fi(-1,n&-n),h.tag=2;var f=o.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?h.next=h:(h.next=g.next,g.next=h),f.pending=h}}o.lanes|=n,h=o.alternate,h!==null&&(h.lanes|=n),hh(o.return,n,t),u.lanes|=n;break}h=h.next}}else if(o.tag===10)c=o.type===t.type?null:o.child;else if(o.tag===18){if(c=o.return,c===null)throw Error(q(341));c.lanes|=n,u=c.alternate,u!==null&&(u.lanes|=n),hh(c,n,t),c=o.sibling}else c=o.child;if(c!==null)c.return=o;else for(c=o;c!==null;){if(c===t){c=null;break}if(o=c.sibling,o!==null){o.return=c.return,c=o;break}c=c.return}o=c}Et(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,Es(t,n),a=hn(a),r=r(a),t.flags|=1,Et(e,t,r,n),t.child;case 14:return r=t.type,a=yn(r,t.pendingProps),a=yn(r.type,a),Fg(e,t,r,a,n);case 15:return Qy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:yn(r,a),Ul(e,t),t.tag=1,Ht(r)?(e=!0,uc(t)):e=!1,Es(t,n),Gy(t,r,a),mh(t,r,a,n),vh(null,t,r,!0,e,n);case 19:return t0(e,t,n);case 22:return Yy(e,t,n)}throw Error(q(156,t.tag))};function v0(e,t){return $x(e,t)}function SC(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function cn(e,t,n,r){return new SC(e,t,n,r)}function Jf(e){return e=e.prototype,!(!e||!e.isReactComponent)}function CC(e){if(typeof e=="function")return Jf(e)?1:0;if(e!=null){if(e=e.$$typeof,e===xf)return 11;if(e===yf)return 14}return 2}function ir(e,t){var n=e.alternate;return n===null?(n=cn(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Wl(e,t,n,r,a,o){var c=2;if(r=e,typeof e=="function")Jf(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case ps:return Or(n.children,a,o,t);case vf:c=8,a|=8;break;case Dd:return e=cn(12,n,t,a|2),e.elementType=Dd,e.lanes=o,e;case Fd:return e=cn(13,n,t,a),e.elementType=Fd,e.lanes=o,e;case Bd:return e=cn(19,n,t,a),e.elementType=Bd,e.lanes=o,e;case kx:return Gc(n,a,o,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sx:c=10;break e;case Cx:c=9;break e;case xf:c=11;break e;case yf:c=14;break e;case Ai:c=16,r=null;break e}throw Error(q(130,e==null?e:typeof e,""))}return t=cn(c,n,t,a),t.elementType=e,t.type=r,t.lanes=o,t}function Or(e,t,n,r){return e=cn(7,e,r,t),e.lanes=n,e}function Gc(e,t,n,r){return e=cn(22,e,r,t),e.elementType=kx,e.lanes=n,e.stateNode={isHidden:!1},e}function yd(e,t,n){return e=cn(6,e,null,t),e.lanes=n,e}function _d(e,t,n){return t=cn(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function kC(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ed(0),this.expirationTimes=ed(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ed(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function em(e,t,n,r,a,o,c,u,h){return e=new kC(e,t,n,u,h),t===1?(t=1,o===!0&&(t|=8)):t=0,o=cn(3,null,null,t),e.current=o,o.stateNode=e,o.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},zf(o),e}function PC(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ms,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function x0(e){if(!e)return lr;e=e._reactInternals;e:{if(Qr(e)!==e||e.tag!==1)throw Error(q(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Ht(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(q(171))}if(e.tag===1){var n=e.type;if(Ht(n))return xy(e,n,t)}return t}function y0(e,t,n,r,a,o,c,u,h){return e=em(n,r,!0,e,a,o,c,u,h),e.context=x0(null),n=e.current,r=Tt(),a=nr(n),o=fi(r,a),o.callback=t??null,er(n,o,a),e.current.lanes=a,Ma(e,a,r),Ut(e,r),e}function Kc(e,t,n,r){var a=t.current,o=Tt(),c=nr(a);return n=x0(n),t.context===null?t.context=n:t.pendingContext=n,t=fi(o,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=er(a,t,c),e!==null&&(Pn(e,a,c,o),Bl(e,a,c)),c}function jc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function Yg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function tm(e,t){Yg(e,t),(e=e.alternate)&&Yg(e,t)}function LC(){return null}var _0=typeof reportError=="function"?reportError:function(e){console.error(e)};function nm(e){this._internalRoot=e}qc.prototype.render=nm.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(q(409));Kc(e,t,null,null)};qc.prototype.unmount=nm.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Vr(function(){Kc(null,e,null,null)}),t[gi]=null}};function qc(e){this._internalRoot=e}qc.prototype.unstable_scheduleHydration=function(e){if(e){var t=Yx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<zi.length&&t!==0&&t<zi[n].priority;n++);zi.splice(n,0,e),n===0&&Jx(e)}};function im(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Qc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Xg(){}function EC(e,t,n,r,a){if(a){if(typeof r=="function"){var o=r;r=function(){var f=jc(c);o.call(f)}}var c=y0(t,r,e,0,null,!1,!1,"",Xg);return e._reactRootContainer=c,e[gi]=c.current,pa(e.nodeType===8?e.parentNode:e),Vr(),c}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var u=r;r=function(){var f=jc(h);u.call(f)}}var h=em(e,0,!1,null,null,!1,!1,"",Xg);return e._reactRootContainer=h,e[gi]=h.current,pa(e.nodeType===8?e.parentNode:e),Vr(function(){Kc(t,h,n,r)}),h}function Yc(e,t,n,r,a){var o=n._reactRootContainer;if(o){var c=o;if(typeof a=="function"){var u=a;a=function(){var h=jc(c);u.call(h)}}Kc(t,c,e,a)}else c=EC(n,t,e,a,r);return jc(c)}qx=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Go(t.pendingLanes);n!==0&&(bf(t,n|1),Ut(t,nt()),!(Oe&6)&&(io=nt()+500,mr()))}break;case 13:Vr(function(){var r=vi(e,1);if(r!==null){var a=Tt();Pn(r,e,1,a)}}),tm(e,1)}};jf=function(e){if(e.tag===13){var t=vi(e,134217728);if(t!==null){var n=Tt();Pn(t,e,134217728,n)}tm(e,134217728)}};Qx=function(e){if(e.tag===13){var t=nr(e),n=vi(e,t);if(n!==null){var r=Tt();Pn(n,e,t,r)}tm(e,t)}};Yx=function(){return He};Xx=function(e,t){var n=He;try{return He=e,t()}finally{He=n}};Qd=function(e,t,n){switch(t){case"input":if(Ud(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=Vc(r);if(!a)throw Error(q(90));Lx(r),Ud(r,a)}}}break;case"textarea":Tx(e,n);break;case"select":t=n.value,t!=null&&Cs(e,!!n.multiple,t,!1)}};Dx=Qf;Fx=Vr;var TC={usingClientEntryPoint:!1,Events:[Aa,ys,Vc,Ox,zx,Qf]},Vo={findFiberByHostInstance:Nr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MC={bundleType:Vo.bundleType,version:Vo.version,rendererPackageName:Vo.rendererPackageName,rendererConfig:Vo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Hx(e),e===null?null:e.stateNode},findFiberByHostInstance:Vo.findFiberByHostInstance||LC,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Cl.isDisabled&&Cl.supportsFiber)try{zc=Cl.inject(MC),Qn=Cl}catch{}}Xt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=TC;Xt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!im(t))throw Error(q(200));return PC(e,t,null,n)};Xt.createRoot=function(e,t){if(!im(e))throw Error(q(299));var n=!1,r="",a=_0;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=em(e,1,!1,null,null,n,!1,r,a),e[gi]=t.current,pa(e.nodeType===8?e.parentNode:e),new nm(t)};Xt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(q(188)):(e=Object.keys(e).join(","),Error(q(268,e)));return e=Hx(t),e=e===null?null:e.stateNode,e};Xt.flushSync=function(e){return Vr(e)};Xt.hydrate=function(e,t,n){if(!Qc(t))throw Error(q(200));return Yc(null,e,t,!0,n)};Xt.hydrateRoot=function(e,t,n){if(!im(e))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,a=!1,o="",c=_0;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(o=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=y0(t,null,e,1,n??null,a,!1,o,c),e[gi]=t.current,pa(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new qc(t)};Xt.render=function(e,t,n){if(!Qc(t))throw Error(q(200));return Yc(null,e,t,!1,n)};Xt.unmountComponentAtNode=function(e){if(!Qc(e))throw Error(q(40));return e._reactRootContainer?(Vr(function(){Yc(null,null,e,!1,function(){e._reactRootContainer=null,e[gi]=null})}),!0):!1};Xt.unstable_batchedUpdates=Qf;Xt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Qc(n))throw Error(q(200));if(e==null||e._reactInternals===void 0)throw Error(q(38));return Yc(e,t,n,!1,r)};Xt.version="18.3.1-next-f1338f8080-20240426";function w0(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(w0)}catch(e){console.error(e)}}w0(),wx.exports=Xt;var Yr=wx.exports;const RC=cf(Yr);var b0,Jg=Yr;b0=Jg.createRoot,Jg.hydrateRoot;function AC(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,a,o,c=[],u="",h=e.split("/");for(h[0]||h.shift();a=h.shift();)n=a[0],n==="*"?(c.push(n),u+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=a.indexOf("?",1),o=a.indexOf(".",1),c.push(a.substring(1,~r?r:~o?o:a.length)),u+=~r&&!~o?"(?:/([^/]+?))?":"/([^/]+?)",~o&&(u+=(~r?"?":"")+"\\"+a.substring(o))):u+="/"+a;return{keys:c,pattern:new RegExp("^"+u+(t?"(?=$|/)":"/?$"),"i")}}var j0={exports:{}},N0={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ro=y;function IC(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var OC=typeof Object.is=="function"?Object.is:IC,zC=ro.useState,DC=ro.useEffect,FC=ro.useLayoutEffect,BC=ro.useDebugValue;function VC(e,t){var n=t(),r=zC({inst:{value:n,getSnapshot:t}}),a=r[0].inst,o=r[1];return FC(function(){a.value=n,a.getSnapshot=t,wd(a)&&o({inst:a})},[e,n,t]),DC(function(){return wd(a)&&o({inst:a}),e(function(){wd(a)&&o({inst:a})})},[e]),BC(n),n}function wd(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!OC(e,n)}catch{return!0}}function HC(e,t){return t()}var UC=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?HC:VC;N0.useSyncExternalStore=ro.useSyncExternalStore!==void 0?ro.useSyncExternalStore:UC;j0.exports=N0;var $C=j0.exports;const ZC=yx.useInsertionEffect,WC=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",GC=WC?y.useLayoutEffect:y.useEffect,KC=ZC||GC,S0=e=>{const t=y.useRef([e,(...n)=>t[0](...n)]).current;return KC(()=>{t[0]=e}),t[1]},qC="popstate",rm="pushState",sm="replaceState",QC="hashchange",ev=[qC,rm,sm,QC],YC=e=>{for(const t of ev)addEventListener(t,e);return()=>{for(const t of ev)removeEventListener(t,e)}},C0=(e,t)=>$C.useSyncExternalStore(YC,e,t),XC=()=>location.search,JC=({ssrSearch:e=""}={})=>C0(XC,()=>e),tv=()=>location.pathname,e2=({ssrPath:e}={})=>C0(tv,e?()=>e:tv),t2=(e,{replace:t=!1,state:n=null}={})=>history[t?sm:rm](n,"",e),n2=(e={})=>[e2(e),t2],nv=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[nv]>"u"){for(const e of[rm,sm]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,nv,{value:!0})}const i2=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",k0=(e="")=>e==="/"?"":e,r2=(e,t)=>e[0]==="~"?e.slice(1):k0(t)+e,s2=(e="",t)=>i2(iv(k0(e)),iv(t)),iv=e=>{try{return decodeURI(e)}catch{return e}},P0={hook:n2,searchHook:JC,parser:AC,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},L0=y.createContext(P0),Oa=()=>y.useContext(L0),E0={},T0=y.createContext(E0),M0=()=>y.useContext(T0),Xc=e=>{const[t,n]=e.hook(e);return[s2(e.base,t),S0((r,a)=>n(r2(r,e.base),a))]},ji=()=>Xc(Oa()),R0=(e,t,n,r)=>{const{pattern:a,keys:o}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),c=a.exec(n)||[],[u,...h]=c;return u!==void 0?[!0,(()=>{const f=o!==!1?Object.fromEntries(o.map((p,x)=>[p,h[x]])):c.groups;let g={...h};return f&&Object.assign(g,f),g})(),...r?[u]:[]]:[!1,null]},o2=({children:e,...t})=>{var g,p;const n=Oa(),r=t.hook?P0:n;let a=r;const[o,c]=((g=t.ssrPath)==null?void 0:g.split("?"))??[];c&&(t.ssrSearch=c,t.ssrPath=o),t.hrefs=t.hrefs??((p=t.hook)==null?void 0:p.hrefs);let u=y.useRef({}),h=u.current,f=h;for(let x in r){const b=x==="base"?r[x]+(t[x]||""):t[x]||r[x];h===f&&b!==f[x]&&(u.current=f={...f}),f[x]=b,b!==r[x]&&(a=f)}return y.createElement(L0.Provider,{value:a,children:e})},rv=({children:e,component:t},n)=>t?y.createElement(t,{params:n}):typeof e=="function"?e(n):e,a2=e=>{let t=y.useRef(E0),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},pt=({path:e,nest:t,match:n,...r})=>{const a=Oa(),[o]=Xc(a),[c,u,h]=n??R0(a.parser,e,o,t),f=a2({...M0(),...u});if(!c)return null;const g=h?y.createElement(o2,{base:h},rv(r,f)):rv(r,f);return y.createElement(T0.Provider,{value:f,children:g})},l2=y.forwardRef((e,t)=>{const n=Oa(),[r,a]=Xc(n),{to:o="",href:c=o,onClick:u,asChild:h,children:f,className:g,replace:p,state:x,...b}=e,C=S0(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(u==null||u(S),S.defaultPrevented||(S.preventDefault(),a(c,e)))}),v=n.hrefs(c[0]==="~"?c.slice(1):n.base+c,n);return h&&y.isValidElement(f)?y.cloneElement(f,{onClick:C,href:v}):y.createElement("a",{...b,onClick:C,href:v,className:g!=null&&g.call?g(r===c):g,children:f,ref:t})}),A0=e=>Array.isArray(e)?e.flatMap(t=>A0(t&&t.type===y.Fragment?t.props.children:t)):[e],c2=({children:e,location:t})=>{const n=Oa(),[r]=Xc(n);for(const a of A0(e)){let o=0;if(y.isValidElement(a)&&(o=R0(n.parser,a.props.path,t||r,a.props.nest))[0])return y.cloneElement(a,{match:o})}return null};var ho=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Hr=typeof window>"u"||"Deno"in globalThis;function on(){}function u2(e,t){return typeof e=="function"?e(t):e}function Lh(e){return typeof e=="number"&&e>=0&&e!==1/0}function I0(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ms(e,t){return typeof e=="function"?e(t):e}function jn(e,t){return typeof e=="function"?e(t):e}function sv(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:o,queryKey:c,stale:u}=e;if(c){if(r){if(t.queryHash!==om(c,t.options))return!1}else if(!Na(t.queryKey,c))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||a&&a!==t.state.fetchStatus||o&&!o(t))}function ov(e,t){const{exact:n,status:r,predicate:a,mutationKey:o}=e;if(o){if(!t.options.mutationKey)return!1;if(n){if(Ur(t.options.mutationKey)!==Ur(o))return!1}else if(!Na(t.options.mutationKey,o))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function om(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ur)(e)}function Ur(e){return JSON.stringify(e,(t,n)=>Eh(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function Na(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!Na(e[n],t[n])):!1}function O0(e,t){if(e===t)return e;const n=av(e)&&av(t);if(n||Eh(e)&&Eh(t)){const r=n?e:Object.keys(e),a=r.length,o=n?t:Object.keys(t),c=o.length,u=n?[]:{};let h=0;for(let f=0;f<c;f++){const g=n?f:o[f];(!n&&r.includes(g)||n)&&e[g]===void 0&&t[g]===void 0?(u[g]=void 0,h++):(u[g]=O0(e[g],t[g]),u[g]===e[g]&&e[g]!==void 0&&h++)}return a===c&&h===a?e:u}return t}function Nc(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function av(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function Eh(e){if(!lv(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!lv(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function lv(e){return Object.prototype.toString.call(e)==="[object Object]"}function d2(e){return new Promise(t=>{setTimeout(t,e)})}function Th(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?O0(e,t):t}function h2(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function f2(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var am=Symbol();function z0(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===am?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var Pr,Fi,Ds,Xv,m2=(Xv=class extends ho{constructor(){super();pe(this,Pr);pe(this,Fi);pe(this,Ds);se(this,Ds,t=>{if(!Hr&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,Fi)||this.setEventListener(M(this,Ds))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Fi))==null||t.call(this),se(this,Fi,void 0))}setEventListener(t){var n;se(this,Ds,t),(n=M(this,Fi))==null||n.call(this),se(this,Fi,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){M(this,Pr)!==t&&(se(this,Pr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof M(this,Pr)=="boolean"?M(this,Pr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},Pr=new WeakMap,Fi=new WeakMap,Ds=new WeakMap,Xv),lm=new m2,Fs,Bi,Bs,Jv,p2=(Jv=class extends ho{constructor(){super();pe(this,Fs,!0);pe(this,Bi);pe(this,Bs);se(this,Bs,t=>{if(!Hr&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,Bi)||this.setEventListener(M(this,Bs))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Bi))==null||t.call(this),se(this,Bi,void 0))}setEventListener(t){var n;se(this,Bs,t),(n=M(this,Bi))==null||n.call(this),se(this,Bi,t(this.setOnline.bind(this)))}setOnline(t){M(this,Fs)!==t&&(se(this,Fs,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return M(this,Fs)}},Fs=new WeakMap,Bi=new WeakMap,Bs=new WeakMap,Jv),Sc=new p2;function Mh(){let e,t;const n=new Promise((a,o)=>{e=a,t=o});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function g2(e){return Math.min(1e3*2**e,3e4)}function D0(e){return(e??"online")==="online"?Sc.isOnline():!0}var F0=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function bd(e){return e instanceof F0}function B0(e){let t=!1,n=0,r=!1,a;const o=Mh(),c=v=>{var S;r||(x(new F0(v)),(S=e.abort)==null||S.call(e))},u=()=>{t=!0},h=()=>{t=!1},f=()=>lm.isFocused()&&(e.networkMode==="always"||Sc.isOnline())&&e.canRun(),g=()=>D0(e.networkMode)&&e.canRun(),p=v=>{var S;r||(r=!0,(S=e.onSuccess)==null||S.call(e,v),a==null||a(),o.resolve(v))},x=v=>{var S;r||(r=!0,(S=e.onError)==null||S.call(e,v),a==null||a(),o.reject(v))},b=()=>new Promise(v=>{var S;a=j=>{(r||f())&&v(j)},(S=e.onPause)==null||S.call(e)}).then(()=>{var v;a=void 0,r||(v=e.onContinue)==null||v.call(e)}),C=()=>{if(r)return;let v;const S=n===0?e.initialPromise:void 0;try{v=S??e.fn()}catch(j){v=Promise.reject(j)}Promise.resolve(v).then(p).catch(j=>{var R;if(r)return;const w=e.retry??(Hr?0:3),N=e.retryDelay??g2,P=typeof N=="function"?N(n,j):N,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,j);if(t||!E){x(j);return}n++,(R=e.onFail)==null||R.call(e,n,j),d2(P).then(()=>f()?void 0:b()).then(()=>{t?x(j):C()})})};return{promise:o,cancel:c,continue:()=>(a==null||a(),o),cancelRetry:u,continueRetry:h,canStart:g,start:()=>(g()?C():b().then(C),o)}}function v2(){let e=[],t=0,n=u=>{u()},r=u=>{u()},a=u=>setTimeout(u,0);const o=u=>{t?e.push(u):a(()=>{n(u)})},c=()=>{const u=e;e=[],u.length&&a(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;t++;try{h=u()}finally{t--,t||c()}return h},batchCalls:u=>(...h)=>{o(()=>{u(...h)})},schedule:o,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{a=u}}}var ct=v2(),Lr,ex,V0=(ex=class{constructor(){pe(this,Lr)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Lh(this.gcTime)&&se(this,Lr,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Hr?1/0:5*60*1e3))}clearGcTimeout(){M(this,Lr)&&(clearTimeout(M(this,Lr)),se(this,Lr,void 0))}},Lr=new WeakMap,ex),Vs,Hs,sn,wt,ka,Er,_n,oi,tx,x2=(tx=class extends V0{constructor(t){super();pe(this,_n);pe(this,Vs);pe(this,Hs);pe(this,sn);pe(this,wt);pe(this,ka);pe(this,Er);se(this,Er,!1),se(this,ka,t.defaultOptions),this.setOptions(t.options),this.observers=[],se(this,sn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,se(this,Vs,y2(this.options)),this.state=t.state??M(this,Vs),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,wt))==null?void 0:t.promise}setOptions(t){this.options={...M(this,ka),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,sn).remove(this)}setData(t,n){const r=Th(this.state.data,t,this.options);return ke(this,_n,oi).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){ke(this,_n,oi).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=M(this,wt))==null?void 0:r.promise;return(a=M(this,wt))==null||a.cancel(t),n?n.then(on).catch(on):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Vs))}isActive(){return this.observers.some(t=>jn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===am||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!I0(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=M(this,wt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=M(this,wt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,sn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(M(this,wt)&&(M(this,Er)?M(this,wt).cancel({revert:!0}):M(this,wt).cancelRetry()),this.scheduleGc()),M(this,sn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||ke(this,_n,oi).call(this,{type:"invalidate"})}fetch(t,n){var h,f,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(M(this,wt))return M(this,wt).continueRetry(),M(this,wt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const p=this.observers.find(x=>x.options.queryFn);p&&this.setOptions(p.options)}const r=new AbortController,a=p=>{Object.defineProperty(p,"signal",{enumerable:!0,get:()=>(se(this,Er,!0),r.signal)})},o=()=>{const p=z0(this.options,n),x={queryKey:this.queryKey,meta:this.meta};return a(x),se(this,Er,!1),this.options.persister?this.options.persister(p,x,this):p(x)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};a(c),(h=this.options.behavior)==null||h.onFetch(c,this),se(this,Hs,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&ke(this,_n,oi).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const u=p=>{var x,b,C,v;bd(p)&&p.silent||ke(this,_n,oi).call(this,{type:"error",error:p}),bd(p)||((b=(x=M(this,sn).config).onError)==null||b.call(x,p,this),(v=(C=M(this,sn).config).onSettled)==null||v.call(C,this.state.data,p,this)),this.scheduleGc()};return se(this,wt,B0({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:p=>{var x,b,C,v;if(p===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(p)}catch(S){u(S);return}(b=(x=M(this,sn).config).onSuccess)==null||b.call(x,p,this),(v=(C=M(this,sn).config).onSettled)==null||v.call(C,p,this.state.error,this),this.scheduleGc()},onError:u,onFail:(p,x)=>{ke(this,_n,oi).call(this,{type:"failed",failureCount:p,error:x})},onPause:()=>{ke(this,_n,oi).call(this,{type:"pause"})},onContinue:()=>{ke(this,_n,oi).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),M(this,wt).start()}},Vs=new WeakMap,Hs=new WeakMap,sn=new WeakMap,wt=new WeakMap,ka=new WeakMap,Er=new WeakMap,_n=new WeakSet,oi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...H0(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return bd(a)&&a.revert&&M(this,Hs)?{...M(this,Hs),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),ct.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),M(this,sn).notify({query:this,type:"updated",action:t})})},tx);function H0(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:D0(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function y2(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var $n,nx,_2=(nx=class extends ho{constructor(t={}){super();pe(this,$n);this.config=t,se(this,$n,new Map)}build(t,n,r){const a=n.queryKey,o=n.queryHash??om(a,n);let c=this.get(o);return c||(c=new x2({cache:this,queryKey:a,queryHash:o,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(c)),c}add(t){M(this,$n).has(t.queryHash)||(M(this,$n).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=M(this,$n).get(t.queryHash);n&&(t.destroy(),n===t&&M(this,$n).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,$n).get(t)}getAll(){return[...M(this,$n).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>sv(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>sv(t,r)):n}notify(t){ct.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){ct.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){ct.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},$n=new WeakMap,nx),Zn,Pt,Tr,Wn,Mi,ix,w2=(ix=class extends V0{constructor(t){super();pe(this,Wn);pe(this,Zn);pe(this,Pt);pe(this,Tr);this.mutationId=t.mutationId,se(this,Pt,t.mutationCache),se(this,Zn,[]),this.state=t.state||U0(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,Zn).includes(t)||(M(this,Zn).push(t),this.clearGcTimeout(),M(this,Pt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){se(this,Zn,M(this,Zn).filter(n=>n!==t)),this.scheduleGc(),M(this,Pt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,Zn).length||(this.state.status==="pending"?this.scheduleGc():M(this,Pt).remove(this))}continue(){var t;return((t=M(this,Tr))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,o,c,u,h,f,g,p,x,b,C,v,S,j,w,N,P,E,R,I;se(this,Tr,B0({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(z,U)=>{ke(this,Wn,Mi).call(this,{type:"failed",failureCount:z,error:U})},onPause:()=>{ke(this,Wn,Mi).call(this,{type:"pause"})},onContinue:()=>{ke(this,Wn,Mi).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,Pt).canRun(this)}));const n=this.state.status==="pending",r=!M(this,Tr).canStart();try{if(!n){ke(this,Wn,Mi).call(this,{type:"pending",variables:t,isPaused:r}),await((o=(a=M(this,Pt).config).onMutate)==null?void 0:o.call(a,t,this));const U=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t));U!==this.state.context&&ke(this,Wn,Mi).call(this,{type:"pending",context:U,variables:t,isPaused:r})}const z=await M(this,Tr).start();return await((f=(h=M(this,Pt).config).onSuccess)==null?void 0:f.call(h,z,t,this.state.context,this)),await((p=(g=this.options).onSuccess)==null?void 0:p.call(g,z,t,this.state.context)),await((b=(x=M(this,Pt).config).onSettled)==null?void 0:b.call(x,z,null,this.state.variables,this.state.context,this)),await((v=(C=this.options).onSettled)==null?void 0:v.call(C,z,null,t,this.state.context)),ke(this,Wn,Mi).call(this,{type:"success",data:z}),z}catch(z){try{throw await((j=(S=M(this,Pt).config).onError)==null?void 0:j.call(S,z,t,this.state.context,this)),await((N=(w=this.options).onError)==null?void 0:N.call(w,z,t,this.state.context)),await((E=(P=M(this,Pt).config).onSettled)==null?void 0:E.call(P,void 0,z,this.state.variables,this.state.context,this)),await((I=(R=this.options).onSettled)==null?void 0:I.call(R,void 0,z,t,this.state.context)),z}finally{ke(this,Wn,Mi).call(this,{type:"error",error:z})}}finally{M(this,Pt).runNext(this)}}},Zn=new WeakMap,Pt=new WeakMap,Tr=new WeakMap,Wn=new WeakSet,Mi=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),ct.batch(()=>{M(this,Zn).forEach(r=>{r.onMutationUpdate(t)}),M(this,Pt).notify({mutation:this,type:"updated",action:t})})},ix);function U0(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zt,Pa,rx,b2=(rx=class extends ho{constructor(t={}){super();pe(this,Zt);pe(this,Pa);this.config=t,se(this,Zt,new Map),se(this,Pa,Date.now())}build(t,n,r){const a=new w2({mutationCache:this,mutationId:++cl(this,Pa)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=kl(t),r=M(this,Zt).get(n)??[];r.push(t),M(this,Zt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=kl(t);if(M(this,Zt).has(n)){const a=(r=M(this,Zt).get(n))==null?void 0:r.filter(o=>o!==t);a&&(a.length===0?M(this,Zt).delete(n):M(this,Zt).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=M(this,Zt).get(kl(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=M(this,Zt).get(kl(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){ct.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...M(this,Zt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>ov(n,r))}findAll(t={}){return this.getAll().filter(n=>ov(t,n))}notify(t){ct.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return ct.batch(()=>Promise.all(t.map(n=>n.continue().catch(on))))}},Zt=new WeakMap,Pa=new WeakMap,rx);function kl(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function cv(e){return{onFetch:(t,n)=>{var g,p,x,b,C;const r=t.options,a=(x=(p=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:p.fetchMore)==null?void 0:x.direction,o=((b=t.state.data)==null?void 0:b.pages)||[],c=((C=t.state.data)==null?void 0:C.pageParams)||[];let u={pages:[],pageParams:[]},h=0;const f=async()=>{let v=!1;const S=N=>{Object.defineProperty(N,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},j=z0(t.options,t.fetchOptions),w=async(N,P,E)=>{if(v)return Promise.reject();if(P==null&&N.pages.length)return Promise.resolve(N);const R={queryKey:t.queryKey,pageParam:P,direction:E?"backward":"forward",meta:t.options.meta};S(R);const I=await j(R),{maxPages:z}=t.options,U=E?f2:h2;return{pages:U(N.pages,I,z),pageParams:U(N.pageParams,P,z)}};if(a&&o.length){const N=a==="backward",P=N?j2:uv,E={pages:o,pageParams:c},R=P(r,E);u=await w(E,R,N)}else{const N=e??o.length;do{const P=h===0?c[0]??r.initialPageParam:uv(r,u);if(h>0&&P==null)break;u=await w(u,P),h++}while(h<N)}return u};t.options.persister?t.fetchFn=()=>{var v,S;return(S=(v=t.options).persister)==null?void 0:S.call(v,f,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function uv(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function j2(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var Je,Vi,Hi,Us,$s,Ui,Zs,Ws,sx,N2=(sx=class{constructor(e={}){pe(this,Je);pe(this,Vi);pe(this,Hi);pe(this,Us);pe(this,$s);pe(this,Ui);pe(this,Zs);pe(this,Ws);se(this,Je,e.queryCache||new _2),se(this,Vi,e.mutationCache||new b2),se(this,Hi,e.defaultOptions||{}),se(this,Us,new Map),se(this,$s,new Map),se(this,Ui,0)}mount(){cl(this,Ui)._++,M(this,Ui)===1&&(se(this,Zs,lm.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,Je).onFocus())})),se(this,Ws,Sc.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,Je).onOnline())})))}unmount(){var e,t;cl(this,Ui)._--,M(this,Ui)===0&&((e=M(this,Zs))==null||e.call(this),se(this,Zs,void 0),(t=M(this,Ws))==null||t.call(this),se(this,Ws,void 0))}isFetching(e){return M(this,Je).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return M(this,Vi).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=M(this,Je).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=M(this,Je).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Ms(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return M(this,Je).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=M(this,Je).get(r.queryHash),o=a==null?void 0:a.state.data,c=u2(t,o);if(c!==void 0)return M(this,Je).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return ct.batch(()=>M(this,Je).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=M(this,Je).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=M(this,Je);ct.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=M(this,Je),r={type:"active",...e};return ct.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=ct.batch(()=>M(this,Je).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(on).catch(on)}invalidateQueries(e={},t={}){return ct.batch(()=>{if(M(this,Je).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=ct.batch(()=>M(this,Je).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let o=a.fetch(void 0,n);return n.throwOnError||(o=o.catch(on)),a.state.fetchStatus==="paused"?Promise.resolve():o}));return Promise.all(r).then(on)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=M(this,Je).build(this,t);return n.isStaleByTime(Ms(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(on).catch(on)}fetchInfiniteQuery(e){return e.behavior=cv(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(on).catch(on)}ensureInfiniteQueryData(e){return e.behavior=cv(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return Sc.isOnline()?M(this,Vi).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,Je)}getMutationCache(){return M(this,Vi)}getDefaultOptions(){return M(this,Hi)}setDefaultOptions(e){se(this,Hi,e)}setQueryDefaults(e,t){M(this,Us).set(Ur(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...M(this,Us).values()];let n={};return t.forEach(r=>{Na(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){M(this,$s).set(Ur(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...M(this,$s).values()];let n={};return t.forEach(r=>{Na(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...M(this,Hi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=om(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===am&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...M(this,Hi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){M(this,Je).clear(),M(this,Vi).clear()}},Je=new WeakMap,Vi=new WeakMap,Hi=new WeakMap,Us=new WeakMap,$s=new WeakMap,Ui=new WeakMap,Zs=new WeakMap,Ws=new WeakMap,sx),zt,Re,La,Lt,Mr,Gs,$i,Gn,Ea,Ks,qs,Rr,Ar,Zi,Qs,Fe,qo,Rh,Ah,Ih,Oh,zh,Dh,Fh,$0,ox,S2=(ox=class extends ho{constructor(t,n){super();pe(this,Fe);pe(this,zt);pe(this,Re);pe(this,La);pe(this,Lt);pe(this,Mr);pe(this,Gs);pe(this,$i);pe(this,Gn);pe(this,Ea);pe(this,Ks);pe(this,qs);pe(this,Rr);pe(this,Ar);pe(this,Zi);pe(this,Qs,new Set);this.options=n,se(this,zt,t),se(this,Gn,null),se(this,$i,Mh()),this.options.experimental_prefetchInRender||M(this,$i).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,Re).addObserver(this),dv(M(this,Re),this.options)?ke(this,Fe,qo).call(this):this.updateResult(),ke(this,Fe,Oh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Bh(M(this,Re),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Bh(M(this,Re),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,ke(this,Fe,zh).call(this),ke(this,Fe,Dh).call(this),M(this,Re).removeObserver(this)}setOptions(t,n){const r=this.options,a=M(this,Re);if(this.options=M(this,zt).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof jn(this.options.enabled,M(this,Re))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");ke(this,Fe,Fh).call(this),M(this,Re).setOptions(this.options),r._defaulted&&!Nc(this.options,r)&&M(this,zt).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,Re),observer:this});const o=this.hasListeners();o&&hv(M(this,Re),a,this.options,r)&&ke(this,Fe,qo).call(this),this.updateResult(n),o&&(M(this,Re)!==a||jn(this.options.enabled,M(this,Re))!==jn(r.enabled,M(this,Re))||Ms(this.options.staleTime,M(this,Re))!==Ms(r.staleTime,M(this,Re)))&&ke(this,Fe,Rh).call(this);const c=ke(this,Fe,Ah).call(this);o&&(M(this,Re)!==a||jn(this.options.enabled,M(this,Re))!==jn(r.enabled,M(this,Re))||c!==M(this,Zi))&&ke(this,Fe,Ih).call(this,c)}getOptimisticResult(t){const n=M(this,zt).getQueryCache().build(M(this,zt),t),r=this.createResult(n,t);return k2(this,r)&&(se(this,Lt,r),se(this,Gs,this.options),se(this,Mr,M(this,Re).state)),r}getCurrentResult(){return M(this,Lt)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){M(this,Qs).add(t)}getCurrentQuery(){return M(this,Re)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=M(this,zt).defaultQueryOptions(t),r=M(this,zt).getQueryCache().build(M(this,zt),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return ke(this,Fe,qo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,Lt)))}createResult(t,n){var z;const r=M(this,Re),a=this.options,o=M(this,Lt),c=M(this,Mr),u=M(this,Gs),f=t!==r?t.state:M(this,La),{state:g}=t;let p={...g},x=!1,b;if(n._optimisticResults){const U=this.hasListeners(),G=!U&&dv(t,n),H=U&&hv(t,r,n,a);(G||H)&&(p={...p,...H0(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(p.fetchStatus="idle")}let{error:C,errorUpdatedAt:v,status:S}=p;if(n.select&&p.data!==void 0)if(o&&p.data===(c==null?void 0:c.data)&&n.select===M(this,Ea))b=M(this,Ks);else try{se(this,Ea,n.select),b=n.select(p.data),b=Th(o==null?void 0:o.data,b,n),se(this,Ks,b),se(this,Gn,null)}catch(U){se(this,Gn,U)}else b=p.data;if(n.placeholderData!==void 0&&b===void 0&&S==="pending"){let U;if(o!=null&&o.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData))U=o.data;else if(U=typeof n.placeholderData=="function"?n.placeholderData((z=M(this,qs))==null?void 0:z.state.data,M(this,qs)):n.placeholderData,n.select&&U!==void 0)try{U=n.select(U),se(this,Gn,null)}catch(G){se(this,Gn,G)}U!==void 0&&(S="success",b=Th(o==null?void 0:o.data,U,n),x=!0)}M(this,Gn)&&(C=M(this,Gn),b=M(this,Ks),v=Date.now(),S="error");const j=p.fetchStatus==="fetching",w=S==="pending",N=S==="error",P=w&&j,E=b!==void 0,I={status:S,fetchStatus:p.fetchStatus,isPending:w,isSuccess:S==="success",isError:N,isInitialLoading:P,isLoading:P,data:b,dataUpdatedAt:p.dataUpdatedAt,error:C,errorUpdatedAt:v,failureCount:p.fetchFailureCount,failureReason:p.fetchFailureReason,errorUpdateCount:p.errorUpdateCount,isFetched:p.dataUpdateCount>0||p.errorUpdateCount>0,isFetchedAfterMount:p.dataUpdateCount>f.dataUpdateCount||p.errorUpdateCount>f.errorUpdateCount,isFetching:j,isRefetching:j&&!w,isLoadingError:N&&!E,isPaused:p.fetchStatus==="paused",isPlaceholderData:x,isRefetchError:N&&E,isStale:cm(t,n),refetch:this.refetch,promise:M(this,$i)};if(this.options.experimental_prefetchInRender){const U=B=>{I.status==="error"?B.reject(I.error):I.data!==void 0&&B.resolve(I.data)},G=()=>{const B=se(this,$i,I.promise=Mh());U(B)},H=M(this,$i);switch(H.status){case"pending":t.queryHash===r.queryHash&&U(H);break;case"fulfilled":(I.status==="error"||I.data!==H.value)&&G();break;case"rejected":(I.status!=="error"||I.error!==H.reason)&&G();break}}return I}updateResult(t){const n=M(this,Lt),r=this.createResult(M(this,Re),this.options);if(se(this,Mr,M(this,Re).state),se(this,Gs,this.options),M(this,Mr).data!==void 0&&se(this,qs,M(this,Re)),Nc(r,n))return;se(this,Lt,r);const a={},o=()=>{if(!n)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!M(this,Qs).size)return!0;const h=new Set(u??M(this,Qs));return this.options.throwOnError&&h.add("error"),Object.keys(M(this,Lt)).some(f=>{const g=f;return M(this,Lt)[g]!==n[g]&&h.has(g)})};(t==null?void 0:t.listeners)!==!1&&o()&&(a.listeners=!0),ke(this,Fe,$0).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&ke(this,Fe,Oh).call(this)}},zt=new WeakMap,Re=new WeakMap,La=new WeakMap,Lt=new WeakMap,Mr=new WeakMap,Gs=new WeakMap,$i=new WeakMap,Gn=new WeakMap,Ea=new WeakMap,Ks=new WeakMap,qs=new WeakMap,Rr=new WeakMap,Ar=new WeakMap,Zi=new WeakMap,Qs=new WeakMap,Fe=new WeakSet,qo=function(t){ke(this,Fe,Fh).call(this);let n=M(this,Re).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(on)),n},Rh=function(){ke(this,Fe,zh).call(this);const t=Ms(this.options.staleTime,M(this,Re));if(Hr||M(this,Lt).isStale||!Lh(t))return;const r=I0(M(this,Lt).dataUpdatedAt,t)+1;se(this,Rr,setTimeout(()=>{M(this,Lt).isStale||this.updateResult()},r))},Ah=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,Re)):this.options.refetchInterval)??!1},Ih=function(t){ke(this,Fe,Dh).call(this),se(this,Zi,t),!(Hr||jn(this.options.enabled,M(this,Re))===!1||!Lh(M(this,Zi))||M(this,Zi)===0)&&se(this,Ar,setInterval(()=>{(this.options.refetchIntervalInBackground||lm.isFocused())&&ke(this,Fe,qo).call(this)},M(this,Zi)))},Oh=function(){ke(this,Fe,Rh).call(this),ke(this,Fe,Ih).call(this,ke(this,Fe,Ah).call(this))},zh=function(){M(this,Rr)&&(clearTimeout(M(this,Rr)),se(this,Rr,void 0))},Dh=function(){M(this,Ar)&&(clearInterval(M(this,Ar)),se(this,Ar,void 0))},Fh=function(){const t=M(this,zt).getQueryCache().build(M(this,zt),this.options);if(t===M(this,Re))return;const n=M(this,Re);se(this,Re,t),se(this,La,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},$0=function(t){ct.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(M(this,Lt))}),M(this,zt).getQueryCache().notify({query:M(this,Re),type:"observerResultsUpdated"})})},ox);function C2(e,t){return jn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function dv(e,t){return C2(e,t)||e.state.data!==void 0&&Bh(e,t,t.refetchOnMount)}function Bh(e,t,n){if(jn(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&cm(e,t)}return!1}function hv(e,t,n,r){return(e!==t||jn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&cm(e,n)}function cm(e,t){return jn(t.enabled,e)!==!1&&e.isStaleByTime(Ms(t.staleTime,e))}function k2(e,t){return!Nc(e.getCurrentResult(),t)}var Wi,Gi,Dt,ui,mi,Gl,Vh,ax,P2=(ax=class extends ho{constructor(n,r){super();pe(this,mi);pe(this,Wi);pe(this,Gi);pe(this,Dt);pe(this,ui);se(this,Wi,n),this.setOptions(r),this.bindMethods(),ke(this,mi,Gl).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=M(this,Wi).defaultMutationOptions(n),Nc(this.options,r)||M(this,Wi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Dt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ur(r.mutationKey)!==Ur(this.options.mutationKey)?this.reset():((a=M(this,Dt))==null?void 0:a.state.status)==="pending"&&M(this,Dt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,Dt))==null||n.removeObserver(this)}onMutationUpdate(n){ke(this,mi,Gl).call(this),ke(this,mi,Vh).call(this,n)}getCurrentResult(){return M(this,Gi)}reset(){var n;(n=M(this,Dt))==null||n.removeObserver(this),se(this,Dt,void 0),ke(this,mi,Gl).call(this),ke(this,mi,Vh).call(this)}mutate(n,r){var a;return se(this,ui,r),(a=M(this,Dt))==null||a.removeObserver(this),se(this,Dt,M(this,Wi).getMutationCache().build(M(this,Wi),this.options)),M(this,Dt).addObserver(this),M(this,Dt).execute(n)}},Wi=new WeakMap,Gi=new WeakMap,Dt=new WeakMap,ui=new WeakMap,mi=new WeakSet,Gl=function(){var r;const n=((r=M(this,Dt))==null?void 0:r.state)??U0();se(this,Gi,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Vh=function(n){ct.batch(()=>{var r,a,o,c,u,h,f,g;if(M(this,ui)&&this.hasListeners()){const p=M(this,Gi).variables,x=M(this,Gi).context;(n==null?void 0:n.type)==="success"?((a=(r=M(this,ui)).onSuccess)==null||a.call(r,n.data,p,x),(c=(o=M(this,ui)).onSettled)==null||c.call(o,n.data,null,p,x)):(n==null?void 0:n.type)==="error"&&((h=(u=M(this,ui)).onError)==null||h.call(u,n.error,p,x),(g=(f=M(this,ui)).onSettled)==null||g.call(f,void 0,n.error,p,x))}this.listeners.forEach(p=>{p(M(this,Gi))})})},ax),Z0=y.createContext(void 0),Rn=e=>{const t=y.useContext(Z0);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},L2=({client:e,children:t})=>(y.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),s.jsx(Z0.Provider,{value:e,children:t})),W0=y.createContext(!1),E2=()=>y.useContext(W0);W0.Provider;function T2(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var M2=y.createContext(T2()),R2=()=>y.useContext(M2);function G0(e,t){return typeof e=="function"?e(...t):!!e}function Hh(){}var A2=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},I2=e=>{y.useEffect(()=>{e.clearReset()},[e])},O2=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&G0(n,[e.error,r]),z2=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},D2=(e,t)=>e.isLoading&&e.isFetching&&!t,F2=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,fv=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function B2(e,t,n){var g,p,x,b,C;const r=Rn(),a=E2(),o=R2(),c=r.defaultQueryOptions(e);(p=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||p.call(g,c),c._optimisticResults=a?"isRestoring":"optimistic",z2(c),A2(c,o),I2(o);const u=!r.getQueryCache().get(c.queryHash),[h]=y.useState(()=>new t(r,c)),f=h.getOptimisticResult(c);if(y.useSyncExternalStore(y.useCallback(v=>{const S=a?Hh:h.subscribe(ct.batchCalls(v));return h.updateResult(),S},[h,a]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),y.useEffect(()=>{h.setOptions(c,{listeners:!1})},[c,h]),F2(c,f))throw fv(c,h,o);if(O2({result:f,errorResetBoundary:o,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash)}))throw f.error;if((b=(x=r.getDefaultOptions().queries)==null?void 0:x._experimental_afterQuery)==null||b.call(x,c,f),c.experimental_prefetchInRender&&!Hr&&D2(f,a)){const v=u?fv(c,h,o):(C=r.getQueryCache().get(c.queryHash))==null?void 0:C.promise;v==null||v.catch(Hh).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?f:h.trackResult(f)}function at(e,t){return B2(e,S2)}function Mt(e,t){const n=Rn(),[r]=y.useState(()=>new P2(n,e));y.useEffect(()=>{r.setOptions(e)},[r,e]);const a=y.useSyncExternalStore(y.useCallback(c=>r.subscribe(ct.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),o=y.useCallback((c,u)=>{r.mutate(c,u).catch(Hh)},[r]);if(a.error&&G0(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:o,mutateAsync:a.mutate}}async function K0(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function En(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await K0(r),r}const V2=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await K0(n),await n.json())},H2=new N2({defaultOptions:{queries:{queryFn:V2({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),U2=1,$2=1e6;let jd=0;function Z2(){return jd=(jd+1)%Number.MAX_SAFE_INTEGER,jd.toString()}const Nd=new Map,mv=e=>{if(Nd.has(e))return;const t=setTimeout(()=>{Nd.delete(e),oa({type:"REMOVE_TOAST",toastId:e})},$2);Nd.set(e,t)},W2=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,U2)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?mv(n):e.toasts.forEach(r=>{mv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Kl=[];let ql={toasts:[]};function oa(e){ql=W2(ql,e),Kl.forEach(t=>{t(ql)})}function G2({...e}){const t=Z2(),n=a=>oa({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>oa({type:"DISMISS_TOAST",toastId:t});return oa({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function Ct(){const[e,t]=y.useState(ql);return y.useEffect(()=>(Kl.push(t),()=>{const n=Kl.indexOf(t);n>-1&&Kl.splice(n,1)}),[e]),{...e,toast:G2,dismiss:n=>oa({type:"DISMISS_TOAST",toastId:n})}}function he(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function pv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function q0(...e){return t=>{let n=!1;const r=e.map(a=>{const o=pv(a,t);return!n&&typeof o=="function"&&(n=!0),o});if(n)return()=>{for(let a=0;a<r.length;a++){const o=r[a];typeof o=="function"?o():pv(e[a],null)}}}}function Be(...e){return y.useCallback(q0(...e),e)}function K2(e,t){const n=y.createContext(t),r=o=>{const{children:c,...u}=o,h=y.useMemo(()=>u,Object.values(u));return s.jsx(n.Provider,{value:h,children:c})};r.displayName=e+"Provider";function a(o){const c=y.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${o}\` must be used within \`${e}\``)}return[r,a]}function en(e,t=[]){let n=[];function r(o,c){const u=y.createContext(c),h=n.length;n=[...n,c];const f=p=>{var j;const{scope:x,children:b,...C}=p,v=((j=x==null?void 0:x[e])==null?void 0:j[h])||u,S=y.useMemo(()=>C,Object.values(C));return s.jsx(v.Provider,{value:S,children:b})};f.displayName=o+"Provider";function g(p,x){var v;const b=((v=x==null?void 0:x[e])==null?void 0:v[h])||u,C=y.useContext(b);if(C)return C;if(c!==void 0)return c;throw new Error(`\`${p}\` must be used within \`${o}\``)}return[f,g]}const a=()=>{const o=n.map(c=>y.createContext(c));return function(u){const h=(u==null?void 0:u[e])||o;return y.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[r,q2(a,...t)]}function q2(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(o){const c=r.reduce((u,{useScope:h,scopeName:f})=>{const p=h(o)[`__scope${f}`];return{...u,...p}},{});return y.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function so(e){const t=Y2(e),n=y.forwardRef((r,a)=>{const{children:o,...c}=r,u=y.Children.toArray(o),h=u.find(J2);if(h){const f=h.props.children,g=u.map(p=>p===h?y.Children.count(f)>1?y.Children.only(null):y.isValidElement(f)?f.props.children:null:p);return s.jsx(t,{...c,ref:a,children:y.isValidElement(f)?y.cloneElement(f,void 0,g):null})}return s.jsx(t,{...c,ref:a,children:o})});return n.displayName=`${e}.Slot`,n}var Q2=so("Slot");function Y2(e){const t=y.forwardRef((n,r)=>{const{children:a,...o}=n;if(y.isValidElement(a)){const c=tk(a),u=ek(o,a.props);return a.type!==y.Fragment&&(u.ref=r?q0(r,c):c),y.cloneElement(a,u)}return y.Children.count(a)>1?y.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var Q0=Symbol("radix.slottable");function X2(e){const t=({children:n})=>s.jsx(s.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=Q0,t}function J2(e){return y.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===Q0}function ek(e,t){const n={...t};for(const r in t){const a=e[r],o=t[r];/^on[A-Z]/.test(r)?a&&o?n[r]=(...u)=>{o(...u),a(...u)}:a&&(n[r]=a):r==="style"?n[r]={...a,...o}:r==="className"&&(n[r]=[a,o].filter(Boolean).join(" "))}return{...e,...n}}function tk(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function um(e){const t=e+"CollectionProvider",[n,r]=en(t),[a,o]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=v=>{const{scope:S,children:j}=v,w=ai.useRef(null),N=ai.useRef(new Map).current;return s.jsx(a,{scope:S,itemMap:N,collectionRef:w,children:j})};c.displayName=t;const u=e+"CollectionSlot",h=so(u),f=ai.forwardRef((v,S)=>{const{scope:j,children:w}=v,N=o(u,j),P=Be(S,N.collectionRef);return s.jsx(h,{ref:P,children:w})});f.displayName=u;const g=e+"CollectionItemSlot",p="data-radix-collection-item",x=so(g),b=ai.forwardRef((v,S)=>{const{scope:j,children:w,...N}=v,P=ai.useRef(null),E=Be(S,P),R=o(g,j);return ai.useEffect(()=>(R.itemMap.set(P,{ref:P,...N}),()=>void R.itemMap.delete(P))),s.jsx(x,{[p]:"",ref:E,children:w})});b.displayName=g;function C(v){const S=o(e+"CollectionConsumer",v);return ai.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const N=Array.from(w.querySelectorAll(`[${p}]`));return Array.from(S.itemMap.values()).sort((R,I)=>N.indexOf(R.ref.current)-N.indexOf(I.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:f,ItemSlot:b},C,r]}var nk=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],xe=nk.reduce((e,t)=>{const n=so(`Primitive.${t}`),r=y.forwardRef((a,o)=>{const{asChild:c,...u}=a,h=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),s.jsx(h,{...u,ref:o})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function Y0(e,t){e&&Yr.flushSync(()=>e.dispatchEvent(t))}function $t(e){const t=y.useRef(e);return y.useEffect(()=>{t.current=e}),y.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function ik(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e);y.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var rk="DismissableLayer",Uh="dismissableLayer.update",sk="dismissableLayer.pointerDownOutside",ok="dismissableLayer.focusOutside",gv,X0=y.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),za=y.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:o,onInteractOutside:c,onDismiss:u,...h}=e,f=y.useContext(X0),[g,p]=y.useState(null),x=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=y.useState({}),C=Be(t,I=>p(I)),v=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),j=v.indexOf(S),w=g?v.indexOf(g):-1,N=f.layersWithOutsidePointerEventsDisabled.size>0,P=w>=j,E=lk(I=>{const z=I.target,U=[...f.branches].some(G=>G.contains(z));!P||U||(a==null||a(I),c==null||c(I),I.defaultPrevented||u==null||u())},x),R=ck(I=>{const z=I.target;[...f.branches].some(G=>G.contains(z))||(o==null||o(I),c==null||c(I),I.defaultPrevented||u==null||u())},x);return ik(I=>{w===f.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&u&&(I.preventDefault(),u()))},x),y.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(gv=x.body.style.pointerEvents,x.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),vv(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(x.body.style.pointerEvents=gv)}},[g,x,n,f]),y.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),vv())},[g,f]),y.useEffect(()=>{const I=()=>b({});return document.addEventListener(Uh,I),()=>document.removeEventListener(Uh,I)},[]),s.jsx(xe.div,{...h,ref:C,style:{pointerEvents:N?P?"auto":"none":void 0,...e.style},onFocusCapture:he(e.onFocusCapture,R.onFocusCapture),onBlurCapture:he(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:he(e.onPointerDownCapture,E.onPointerDownCapture)})});za.displayName=rk;var ak="DismissableLayerBranch",J0=y.forwardRef((e,t)=>{const n=y.useContext(X0),r=y.useRef(null),a=Be(t,r);return y.useEffect(()=>{const o=r.current;if(o)return n.branches.add(o),()=>{n.branches.delete(o)}},[n.branches]),s.jsx(xe.div,{...e,ref:a})});J0.displayName=ak;function lk(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e),r=y.useRef(!1),a=y.useRef(()=>{});return y.useEffect(()=>{const o=u=>{if(u.target&&!r.current){let h=function(){e_(sk,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",o)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",o),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function ck(e,t=globalThis==null?void 0:globalThis.document){const n=$t(e),r=y.useRef(!1);return y.useEffect(()=>{const a=o=>{o.target&&!r.current&&e_(ok,n,{originalEvent:o},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function vv(){const e=new CustomEvent(Uh);document.dispatchEvent(e)}function e_(e,t,n,{discrete:r}){const a=n.originalEvent.target,o=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Y0(a,o):a.dispatchEvent(o)}var uk=za,dk=J0,St=globalThis!=null&&globalThis.document?y.useLayoutEffect:()=>{},hk="Portal",Jc=y.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[a,o]=y.useState(!1);St(()=>o(!0),[]);const c=n||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?RC.createPortal(s.jsx(xe.div,{...r,ref:t}),c):null});Jc.displayName=hk;function fk(e,t){return y.useReducer((n,r)=>t[n][r]??n,e)}var Ni=e=>{const{present:t,children:n}=e,r=mk(t),a=typeof n=="function"?n({present:r.isPresent}):y.Children.only(n),o=Be(r.ref,pk(a));return typeof n=="function"||r.isPresent?y.cloneElement(a,{ref:o}):null};Ni.displayName="Presence";function mk(e){const[t,n]=y.useState(),r=y.useRef({}),a=y.useRef(e),o=y.useRef("none"),c=e?"mounted":"unmounted",[u,h]=fk(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return y.useEffect(()=>{const f=Pl(r.current);o.current=u==="mounted"?f:"none"},[u]),St(()=>{const f=r.current,g=a.current;if(g!==e){const x=o.current,b=Pl(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(g&&x!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),St(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,p=b=>{const v=Pl(r.current).includes(b.animationName);if(b.target===t&&v&&(h("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},x=b=>{b.target===t&&(o.current=Pl(r.current))};return t.addEventListener("animationstart",x),t.addEventListener("animationcancel",p),t.addEventListener("animationend",p),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",x),t.removeEventListener("animationcancel",p),t.removeEventListener("animationend",p)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:y.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function Pl(e){return(e==null?void 0:e.animationName)||"none"}function pk(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function yi({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=gk({defaultProp:t,onChange:n}),o=e!==void 0,c=o?e:r,u=$t(n),h=y.useCallback(f=>{if(o){const p=typeof f=="function"?f(e):f;p!==e&&u(p)}else a(f)},[o,e,a,u]);return[c,h]}function gk({defaultProp:e,onChange:t}){const n=y.useState(e),[r]=n,a=y.useRef(r),o=$t(t);return y.useEffect(()=>{a.current!==r&&(o(r),a.current=r)},[r,a,o]),n}var vk="VisuallyHidden",Da=y.forwardRef((e,t)=>s.jsx(xe.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Da.displayName=vk;var xk=Da,dm="ToastProvider",[hm,yk,_k]=um("Toast"),[t_,DR]=en("Toast",[_k]),[wk,eu]=t_(dm),n_=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:o=50,children:c}=e,[u,h]=y.useState(null),[f,g]=y.useState(0),p=y.useRef(!1),x=y.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${dm}\`. Expected non-empty \`string\`.`),s.jsx(hm.Provider,{scope:t,children:s.jsx(wk,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:o,toastCount:f,viewport:u,onViewportChange:h,onToastAdd:y.useCallback(()=>g(b=>b+1),[]),onToastRemove:y.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:x,children:c})})};n_.displayName=dm;var i_="ToastViewport",bk=["F8"],$h="toast.viewportPause",Zh="toast.viewportResume",r_=y.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=bk,label:a="Notifications ({hotkey})",...o}=e,c=eu(i_,n),u=yk(n),h=y.useRef(null),f=y.useRef(null),g=y.useRef(null),p=y.useRef(null),x=Be(t,p,c.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=c.toastCount>0;y.useEffect(()=>{const S=j=>{var N;r.length!==0&&r.every(P=>j[P]||j.code===P)&&((N=p.current)==null||N.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),y.useEffect(()=>{const S=h.current,j=p.current;if(C&&S&&j){const w=()=>{if(!c.isClosePausedRef.current){const R=new CustomEvent($h);j.dispatchEvent(R),c.isClosePausedRef.current=!0}},N=()=>{if(c.isClosePausedRef.current){const R=new CustomEvent(Zh);j.dispatchEvent(R),c.isClosePausedRef.current=!1}},P=R=>{!S.contains(R.relatedTarget)&&N()},E=()=>{S.contains(document.activeElement)||N()};return S.addEventListener("focusin",w),S.addEventListener("focusout",P),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",N),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",P),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",N)}}},[C,c.isClosePausedRef]);const v=y.useCallback(({tabbingDirection:S})=>{const w=u().map(N=>{const P=N.ref.current,E=[P,...Ik(P)];return S==="forwards"?E:E.reverse()});return(S==="forwards"?w.reverse():w).flat()},[u]);return y.useEffect(()=>{const S=p.current;if(S){const j=w=>{var E,R,I;const N=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!N){const z=document.activeElement,U=w.shiftKey;if(w.target===S&&U){(E=f.current)==null||E.focus();return}const B=v({tabbingDirection:U?"backwards":"forwards"}),X=B.findIndex(Z=>Z===z);Sd(B.slice(X+1))?w.preventDefault():U?(R=f.current)==null||R.focus():(I=g.current)==null||I.focus()}};return S.addEventListener("keydown",j),()=>S.removeEventListener("keydown",j)}},[u,v]),s.jsxs(dk,{ref:h,role:"region","aria-label":a.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&s.jsx(Wh,{ref:f,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"forwards"});Sd(S)}}),s.jsx(hm.Slot,{scope:n,children:s.jsx(xe.ol,{tabIndex:-1,...o,ref:x})}),C&&s.jsx(Wh,{ref:g,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"backwards"});Sd(S)}})]})});r_.displayName=i_;var s_="ToastFocusProxy",Wh=y.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,o=eu(s_,n);return s.jsx(Da,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:c=>{var f;const u=c.relatedTarget;!((f=o.viewport)!=null&&f.contains(u))&&r()}})});Wh.displayName=s_;var tu="Toast",jk="toast.swipeStart",Nk="toast.swipeMove",Sk="toast.swipeCancel",Ck="toast.swipeEnd",o_=y.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:o,...c}=e,[u=!0,h]=yi({prop:r,defaultProp:a,onChange:o});return s.jsx(Ni,{present:n||u,children:s.jsx(Lk,{open:u,...c,ref:t,onClose:()=>h(!1),onPause:$t(e.onPause),onResume:$t(e.onResume),onSwipeStart:he(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:he(e.onSwipeMove,f=>{const{x:g,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:he(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:he(e.onSwipeEnd,f=>{const{x:g,y:p}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),h(!1)})})})});o_.displayName=tu;var[kk,Pk]=t_(tu,{onClose(){}}),Lk=y.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:o,onClose:c,onEscapeKeyDown:u,onPause:h,onResume:f,onSwipeStart:g,onSwipeMove:p,onSwipeCancel:x,onSwipeEnd:b,...C}=e,v=eu(tu,n),[S,j]=y.useState(null),w=Be(t,Z=>j(Z)),N=y.useRef(null),P=y.useRef(null),E=a||v.duration,R=y.useRef(0),I=y.useRef(E),z=y.useRef(0),{onToastAdd:U,onToastRemove:G}=v,H=$t(()=>{var ce;(S==null?void 0:S.contains(document.activeElement))&&((ce=v.viewport)==null||ce.focus()),c()}),B=y.useCallback(Z=>{!Z||Z===1/0||(window.clearTimeout(z.current),R.current=new Date().getTime(),z.current=window.setTimeout(H,Z))},[H]);y.useEffect(()=>{const Z=v.viewport;if(Z){const ce=()=>{B(I.current),f==null||f()},K=()=>{const ie=new Date().getTime()-R.current;I.current=I.current-ie,window.clearTimeout(z.current),h==null||h()};return Z.addEventListener($h,K),Z.addEventListener(Zh,ce),()=>{Z.removeEventListener($h,K),Z.removeEventListener(Zh,ce)}}},[v.viewport,E,h,f,B]),y.useEffect(()=>{o&&!v.isClosePausedRef.current&&B(E)},[o,E,v.isClosePausedRef,B]),y.useEffect(()=>(U(),()=>G()),[U,G]);const X=y.useMemo(()=>S?f_(S):null,[S]);return v.viewport?s.jsxs(s.Fragment,{children:[X&&s.jsx(Ek,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:X}),s.jsx(kk,{scope:n,onClose:H,children:Yr.createPortal(s.jsx(hm.ItemSlot,{scope:n,children:s.jsx(uk,{asChild:!0,onEscapeKeyDown:he(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||H(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:s.jsx(xe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":o?"open":"closed","data-swipe-direction":v.swipeDirection,...C,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:he(e.onKeyDown,Z=>{Z.key==="Escape"&&(u==null||u(Z.nativeEvent),Z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,H()))}),onPointerDown:he(e.onPointerDown,Z=>{Z.button===0&&(N.current={x:Z.clientX,y:Z.clientY})}),onPointerMove:he(e.onPointerMove,Z=>{if(!N.current)return;const ce=Z.clientX-N.current.x,K=Z.clientY-N.current.y,ie=!!P.current,A=["left","right"].includes(v.swipeDirection),$=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,F=A?$(0,ce):0,J=A?0:$(0,K),fe=Z.pointerType==="touch"?10:2,V={x:F,y:J},ee={originalEvent:Z,delta:V};ie?(P.current=V,Ll(Nk,p,ee,{discrete:!1})):xv(V,v.swipeDirection,fe)?(P.current=V,Ll(jk,g,ee,{discrete:!1}),Z.target.setPointerCapture(Z.pointerId)):(Math.abs(ce)>fe||Math.abs(K)>fe)&&(N.current=null)}),onPointerUp:he(e.onPointerUp,Z=>{const ce=P.current,K=Z.target;if(K.hasPointerCapture(Z.pointerId)&&K.releasePointerCapture(Z.pointerId),P.current=null,N.current=null,ce){const ie=Z.currentTarget,A={originalEvent:Z,delta:ce};xv(ce,v.swipeDirection,v.swipeThreshold)?Ll(Ck,b,A,{discrete:!0}):Ll(Sk,x,A,{discrete:!0}),ie.addEventListener("click",$=>$.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),Ek=e=>{const{__scopeToast:t,children:n,...r}=e,a=eu(tu,t),[o,c]=y.useState(!1),[u,h]=y.useState(!1);return Rk(()=>c(!0)),y.useEffect(()=>{const f=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:s.jsx(Jc,{asChild:!0,children:s.jsx(Da,{...r,children:o&&s.jsxs(s.Fragment,{children:[a.label," ",n]})})})},Tk="ToastTitle",a_=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(xe.div,{...r,ref:t})});a_.displayName=Tk;var Mk="ToastDescription",l_=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return s.jsx(xe.div,{...r,ref:t})});l_.displayName=Mk;var c_="ToastAction",u_=y.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?s.jsx(h_,{altText:n,asChild:!0,children:s.jsx(fm,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${c_}\`. Expected non-empty \`string\`.`),null)});u_.displayName=c_;var d_="ToastClose",fm=y.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=Pk(d_,n);return s.jsx(h_,{asChild:!0,children:s.jsx(xe.button,{type:"button",...r,ref:t,onClick:he(e.onClick,a.onClose)})})});fm.displayName=d_;var h_=y.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return s.jsx(xe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function f_(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),Ak(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",o=r.dataset.radixToastAnnounceExclude==="";if(!a)if(o){const c=r.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...f_(r))}}),t}function Ll(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,o=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?Y0(a,o):a.dispatchEvent(o)}var xv=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),o=r>a;return t==="left"||t==="right"?o&&r>n:!o&&a>n};function Rk(e=()=>{}){const t=$t(e);St(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function Ak(e){return e.nodeType===e.ELEMENT_NODE}function Ik(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Sd(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var Ok=n_,m_=r_,p_=o_,g_=a_,v_=l_,x_=u_,y_=fm;function __(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=__(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function w_(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=__(e))&&(r&&(r+=" "),r+=t);return r}const yv=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,_v=w_,Fa=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return _v(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:o}=t,c=Object.keys(a).map(f=>{const g=n==null?void 0:n[f],p=o==null?void 0:o[f];if(g===null)return null;const x=yv(g)||yv(p);return a[f][x]}),u=n&&Object.entries(n).reduce((f,g)=>{let[p,x]=g;return x===void 0||(f[p]=x),f},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let{class:p,className:x,...b}=g;return Object.entries(b).every(C=>{let[v,S]=C;return Array.isArray(S)?S.includes({...o,...u}[v]):{...o,...u}[v]===S})?[...f,p,x]:f},[]);return _v(e,c,h,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zk=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),b_=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Dk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fk=y.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:o,iconNode:c,...u},h)=>y.createElement("svg",{ref:h,...Dk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:b_("lucide",a),...u},[...c.map(([f,g])=>y.createElement(f,g)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const we=(e,t)=>{const n=y.forwardRef(({className:r,...a},o)=>y.createElement(Fk,{ref:o,iconNode:t,className:b_(`lucide-${zk(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bk=we("Activity",[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=we("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cc=we("Bot",[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vk=we("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hk=we("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j_=we("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uk=we("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N_=we("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $k=we("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S_=we("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C_=we("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zk=we("CircleX",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wk=we("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k_=we("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wv=we("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P_=we("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gk=we("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kk=we("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L_=we("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $r=we("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qk=we("Info",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bv=we("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qk=we("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dn=we("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yk=we("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xk=we("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E_=we("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kc=we("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jk=we("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=we("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M_=we("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eP=we("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=we("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=we("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R_=we("SlidersHorizontal",[["line",{x1:"21",x2:"14",y1:"4",y2:"4",key:"obuewd"}],["line",{x1:"10",x2:"3",y1:"4",y2:"4",key:"1q6298"}],["line",{x1:"21",x2:"12",y1:"12",y2:"12",key:"1iu8h1"}],["line",{x1:"8",x2:"3",y1:"12",y2:"12",key:"ntss68"}],["line",{x1:"21",x2:"16",y1:"20",y2:"20",key:"14d8ph"}],["line",{x1:"12",x2:"3",y1:"20",y2:"20",key:"m0wm8r"}],["line",{x1:"14",x2:"14",y1:"2",y2:"6",key:"14e1ph"}],["line",{x1:"8",x2:"8",y1:"10",y2:"14",key:"1i6ji0"}],["line",{x1:"16",x2:"16",y1:"18",y2:"22",key:"1lctlv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zr=we("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=we("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=we("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sP=we("TrendingDown",[["polyline",{points:"22 17 13.5 8.5 8.5 13.5 2 7",key:"1r2t7k"}],["polyline",{points:"16 17 22 17 22 11",key:"11uiuu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jv=we("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pc=we("TriangleAlert",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gh=we("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oP=we("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fo=we("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),pm="-",aP=e=>{const t=cP(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const u=c.split(pm);return u[0]===""&&u.length!==1&&u.shift(),A_(u,t)||lP(c)},getConflictingClassGroupIds:(c,u)=>{const h=n[c]||[];return u&&r[c]?[...h,...r[c]]:h}}},A_=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?A_(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const o=e.join(pm);return(c=t.validators.find(({validator:u})=>u(o)))==null?void 0:c.classGroupId},Nv=/^\[(.+)\]$/,lP=e=>{if(Nv.test(e)){const t=Nv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},cP=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return dP(Object.entries(e.classGroups),n).forEach(([o,c])=>{Kh(c,r,o,t)}),r},Kh=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const o=a===""?t:Sv(t,a);o.classGroupId=n;return}if(typeof a=="function"){if(uP(a)){Kh(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([o,c])=>{Kh(c,Sv(t,o),n,r)})})},Sv=(e,t)=>{let n=e;return t.split(pm).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},uP=e=>e.isThemeGetter,dP=(e,t)=>t?e.map(([n,r])=>{const a=r.map(o=>typeof o=="string"?t+o:typeof o=="object"?Object.fromEntries(Object.entries(o).map(([c,u])=>[t+c,u])):o);return[n,a]}):e,hP=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(o,c)=>{n.set(o,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(o){let c=n.get(o);if(c!==void 0)return c;if((c=r.get(o))!==void 0)return a(o,c),c},set(o,c){n.has(o)?n.set(o,c):a(o,c)}}},I_="!",fP=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],o=t.length,c=u=>{const h=[];let f=0,g=0,p;for(let S=0;S<u.length;S++){let j=u[S];if(f===0){if(j===a&&(r||u.slice(S,S+o)===t)){h.push(u.slice(g,S)),g=S+o;continue}if(j==="/"){p=S;continue}}j==="["?f++:j==="]"&&f--}const x=h.length===0?u:u.substring(g),b=x.startsWith(I_),C=b?x.substring(1):x,v=p&&p>g?p-g:void 0;return{modifiers:h,hasImportantModifier:b,baseClassName:C,maybePostfixModifierPosition:v}};return n?u=>n({className:u,parseClassName:c}):c},mP=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},pP=e=>({cache:hP(e.cacheSize),parseClassName:fP(e),...aP(e)}),gP=/\s+/,vP=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,o=[],c=e.trim().split(gP);let u="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{modifiers:g,hasImportantModifier:p,baseClassName:x,maybePostfixModifierPosition:b}=n(f);let C=!!b,v=r(C?x.substring(0,b):x);if(!v){if(!C){u=f+(u.length>0?" "+u:u);continue}if(v=r(x),!v){u=f+(u.length>0?" "+u:u);continue}C=!1}const S=mP(g).join(":"),j=p?S+I_:S,w=j+v;if(o.includes(w))continue;o.push(w);const N=a(v,C);for(let P=0;P<N.length;++P){const E=N[P];o.push(j+E)}u=f+(u.length>0?" "+u:u)}return u};function xP(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=O_(t))&&(r&&(r+=" "),r+=n);return r}const O_=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=O_(e[r]))&&(n&&(n+=" "),n+=t);return n};function yP(e,...t){let n,r,a,o=c;function c(h){const f=t.reduce((g,p)=>p(g),e());return n=pP(f),r=n.cache.get,a=n.cache.set,o=u,u(h)}function u(h){const f=r(h);if(f)return f;const g=vP(h,n);return a(h,g),g}return function(){return o(xP.apply(null,arguments))}}const Ze=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},z_=/^\[(?:([a-z-]+):)?(.+)\]$/i,_P=/^\d+\/\d+$/,wP=new Set(["px","full","screen"]),bP=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,jP=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,NP=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,SP=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,CP=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,si=e=>Rs(e)||wP.has(e)||_P.test(e),Ei=e=>mo(e,"length",AP),Rs=e=>!!e&&!Number.isNaN(Number(e)),Cd=e=>mo(e,"number",Rs),Ho=e=>!!e&&Number.isInteger(Number(e)),kP=e=>e.endsWith("%")&&Rs(e.slice(0,-1)),Se=e=>z_.test(e),Ti=e=>bP.test(e),PP=new Set(["length","size","percentage"]),LP=e=>mo(e,PP,D_),EP=e=>mo(e,"position",D_),TP=new Set(["image","url"]),MP=e=>mo(e,TP,OP),RP=e=>mo(e,"",IP),Uo=()=>!0,mo=(e,t,n)=>{const r=z_.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},AP=e=>jP.test(e)&&!NP.test(e),D_=()=>!1,IP=e=>SP.test(e),OP=e=>CP.test(e),zP=()=>{const e=Ze("colors"),t=Ze("spacing"),n=Ze("blur"),r=Ze("brightness"),a=Ze("borderColor"),o=Ze("borderRadius"),c=Ze("borderSpacing"),u=Ze("borderWidth"),h=Ze("contrast"),f=Ze("grayscale"),g=Ze("hueRotate"),p=Ze("invert"),x=Ze("gap"),b=Ze("gradientColorStops"),C=Ze("gradientColorStopPositions"),v=Ze("inset"),S=Ze("margin"),j=Ze("opacity"),w=Ze("padding"),N=Ze("saturate"),P=Ze("scale"),E=Ze("sepia"),R=Ze("skew"),I=Ze("space"),z=Ze("translate"),U=()=>["auto","contain","none"],G=()=>["auto","hidden","clip","visible","scroll"],H=()=>["auto",Se,t],B=()=>[Se,t],X=()=>["",si,Ei],Z=()=>["auto",Rs,Se],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],K=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],$=()=>["","0",Se],F=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>[Rs,Se];return{cacheSize:500,separator:":",theme:{colors:[Uo],spacing:[si,Ei],blur:["none","",Ti,Se],brightness:J(),borderColor:[e],borderRadius:["none","","full",Ti,Se],borderSpacing:B(),borderWidth:X(),contrast:J(),grayscale:$(),hueRotate:J(),invert:$(),gap:B(),gradientColorStops:[e],gradientColorStopPositions:[kP,Ei],inset:H(),margin:H(),opacity:J(),padding:B(),saturate:J(),scale:J(),sepia:$(),skew:J(),space:B(),translate:B()},classGroups:{aspect:[{aspect:["auto","square","video",Se]}],container:["container"],columns:[{columns:[Ti]}],"break-after":[{"break-after":F()}],"break-before":[{"break-before":F()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),Se]}],overflow:[{overflow:G()}],"overflow-x":[{"overflow-x":G()}],"overflow-y":[{"overflow-y":G()}],overscroll:[{overscroll:U()}],"overscroll-x":[{"overscroll-x":U()}],"overscroll-y":[{"overscroll-y":U()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ho,Se]}],basis:[{basis:H()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Se]}],grow:[{grow:$()}],shrink:[{shrink:$()}],order:[{order:["first","last","none",Ho,Se]}],"grid-cols":[{"grid-cols":[Uo]}],"col-start-end":[{col:["auto",{span:["full",Ho,Se]},Se]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[Uo]}],"row-start-end":[{row:["auto",{span:[Ho,Se]},Se]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Se]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Se]}],gap:[{gap:[x]}],"gap-x":[{"gap-x":[x]}],"gap-y":[{"gap-y":[x]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Se,t]}],"min-w":[{"min-w":[Se,t,"min","max","fit"]}],"max-w":[{"max-w":[Se,t,"none","full","min","max","fit","prose",{screen:[Ti]},Ti]}],h:[{h:[Se,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Se,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Se,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Se,t,"auto","min","max","fit"]}],"font-size":[{text:["base",Ti,Ei]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Cd]}],"font-family":[{font:[Uo]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Se]}],"line-clamp":[{"line-clamp":["none",Rs,Cd]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",si,Se]}],"list-image":[{"list-image":["none",Se]}],"list-style-type":[{list:["none","disc","decimal",Se]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[j]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[j]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...K(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",si,Ei]}],"underline-offset":[{"underline-offset":["auto",si,Se]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[j]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),EP]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LP]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},MP]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[j]}],"border-style":[{border:[...K(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[j]}],"divide-style":[{divide:K()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...K()]}],"outline-offset":[{"outline-offset":[si,Se]}],"outline-w":[{outline:[si,Ei]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:X()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[j]}],"ring-offset-w":[{"ring-offset":[si,Ei]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",Ti,RP]}],"shadow-color":[{shadow:[Uo]}],opacity:[{opacity:[j]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Ti,Se]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[p]}],saturate:[{saturate:[N]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[j]}],"backdrop-saturate":[{"backdrop-saturate":[N]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Se]}],duration:[{duration:J()}],ease:[{ease:["linear","in","out","in-out",Se]}],delay:[{delay:J()}],animate:[{animate:["none","spin","ping","pulse","bounce",Se]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[P]}],"scale-x":[{"scale-x":[P]}],"scale-y":[{"scale-y":[P]}],rotate:[{rotate:[Ho,Se]}],"translate-x":[{"translate-x":[z]}],"translate-y":[{"translate-y":[z]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Se]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[si,Ei,Cd]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},DP=yP(zP);function _e(...e){return DP(w_(e))}const FP=Ok,F_=y.forwardRef(({className:e,...t},n)=>s.jsx(m_,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));F_.displayName=m_.displayName;const BP=Fa("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),B_=y.forwardRef(({className:e,variant:t,...n},r)=>s.jsx(p_,{ref:r,className:_e(BP({variant:t}),e),...n}));B_.displayName=p_.displayName;const VP=y.forwardRef(({className:e,...t},n)=>s.jsx(x_,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));VP.displayName=x_.displayName;const V_=y.forwardRef(({className:e,...t},n)=>s.jsx(y_,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:s.jsx(fo,{className:"h-4 w-4"})}));V_.displayName=y_.displayName;const H_=y.forwardRef(({className:e,...t},n)=>s.jsx(g_,{ref:n,className:_e("text-sm font-semibold",e),...t}));H_.displayName=g_.displayName;const U_=y.forwardRef(({className:e,...t},n)=>s.jsx(v_,{ref:n,className:_e("text-sm opacity-90",e),...t}));U_.displayName=v_.displayName;function HP(){const{toasts:e}=Ct();return s.jsxs(FP,{children:[e.map(function({id:t,title:n,description:r,action:a,...o}){return s.jsxs(B_,{...o,children:[s.jsxs("div",{className:"grid gap-1",children:[n&&s.jsx(H_,{children:n}),r&&s.jsx(U_,{children:r})]}),a,s.jsx(V_,{})]},t)}),s.jsx(F_,{})]})}var UP=yx[" useId ".trim().toString()]||(()=>{}),$P=0;function rr(e){const[t,n]=y.useState(UP());return St(()=>{n(r=>r??String($P++))},[e]),t?`radix-${t}`:""}const ZP=["top","right","bottom","left"],cr=Math.min,Gt=Math.max,Lc=Math.round,El=Math.floor,Xn=e=>({x:e,y:e}),WP={left:"right",right:"left",bottom:"top",top:"bottom"},GP={start:"end",end:"start"};function qh(e,t,n){return Gt(e,cr(t,n))}function _i(e,t){return typeof e=="function"?e(t):e}function wi(e){return e.split("-")[0]}function po(e){return e.split("-")[1]}function gm(e){return e==="x"?"y":"x"}function vm(e){return e==="y"?"height":"width"}function ur(e){return["top","bottom"].includes(wi(e))?"y":"x"}function xm(e){return gm(ur(e))}function KP(e,t,n){n===void 0&&(n=!1);const r=po(e),a=xm(e),o=vm(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[o]>t.floating[o]&&(c=Ec(c)),[c,Ec(c)]}function qP(e){const t=Ec(e);return[Qh(e),t,Qh(t)]}function Qh(e){return e.replace(/start|end/g,t=>GP[t])}function QP(e,t,n){const r=["left","right"],a=["right","left"],o=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?o:c;default:return[]}}function YP(e,t,n,r){const a=po(e);let o=QP(wi(e),n==="start",r);return a&&(o=o.map(c=>c+"-"+a),t&&(o=o.concat(o.map(Qh)))),o}function Ec(e){return e.replace(/left|right|bottom|top/g,t=>WP[t])}function XP(e){return{top:0,right:0,bottom:0,left:0,...e}}function $_(e){return typeof e!="number"?XP(e):{top:e,right:e,bottom:e,left:e}}function Tc(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function Cv(e,t,n){let{reference:r,floating:a}=e;const o=ur(t),c=xm(t),u=vm(c),h=wi(t),f=o==="y",g=r.x+r.width/2-a.width/2,p=r.y+r.height/2-a.height/2,x=r[u]/2-a[u]/2;let b;switch(h){case"top":b={x:g,y:r.y-a.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:p};break;case"left":b={x:r.x-a.width,y:p};break;default:b={x:r.x,y:r.y}}switch(po(t)){case"start":b[c]-=x*(n&&f?-1:1);break;case"end":b[c]+=x*(n&&f?-1:1);break}return b}const JP=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:o=[],platform:c}=n,u=o.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:g,y:p}=Cv(f,r,h),x=r,b={},C=0;for(let v=0;v<u.length;v++){const{name:S,fn:j}=u[v],{x:w,y:N,data:P,reset:E}=await j({x:g,y:p,initialPlacement:r,placement:x,strategy:a,middlewareData:b,rects:f,platform:c,elements:{reference:e,floating:t}});g=w??g,p=N??p,b={...b,[S]:{...b[S],...P}},E&&C<=50&&(C++,typeof E=="object"&&(E.placement&&(x=E.placement),E.rects&&(f=E.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:g,y:p}=Cv(f,x,h)),v=-1)}return{x:g,y:p,placement:x,strategy:a,middlewareData:b}};async function Sa(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:o,rects:c,elements:u,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:p="floating",altBoundary:x=!1,padding:b=0}=_i(t,e),C=$_(b),S=u[x?p==="floating"?"reference":"floating":p],j=Tc(await o.getClippingRect({element:(n=await(o.isElement==null?void 0:o.isElement(S)))==null||n?S:S.contextElement||await(o.getDocumentElement==null?void 0:o.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:h})),w=p==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,N=await(o.getOffsetParent==null?void 0:o.getOffsetParent(u.floating)),P=await(o.isElement==null?void 0:o.isElement(N))?await(o.getScale==null?void 0:o.getScale(N))||{x:1,y:1}:{x:1,y:1},E=Tc(o.convertOffsetParentRelativeRectToViewportRelativeRect?await o.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:w,offsetParent:N,strategy:h}):w);return{top:(j.top-E.top+C.top)/P.y,bottom:(E.bottom-j.bottom+C.bottom)/P.y,left:(j.left-E.left+C.left)/P.x,right:(E.right-j.right+C.right)/P.x}}const eL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:o,platform:c,elements:u,middlewareData:h}=t,{element:f,padding:g=0}=_i(e,t)||{};if(f==null)return{};const p=$_(g),x={x:n,y:r},b=xm(a),C=vm(b),v=await c.getDimensions(f),S=b==="y",j=S?"top":"left",w=S?"bottom":"right",N=S?"clientHeight":"clientWidth",P=o.reference[C]+o.reference[b]-x[b]-o.floating[C],E=x[b]-o.reference[b],R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let I=R?R[N]:0;(!I||!await(c.isElement==null?void 0:c.isElement(R)))&&(I=u.floating[N]||o.floating[C]);const z=P/2-E/2,U=I/2-v[C]/2-1,G=cr(p[j],U),H=cr(p[w],U),B=G,X=I-v[C]-H,Z=I/2-v[C]/2+z,ce=qh(B,Z,X),K=!h.arrow&&po(a)!=null&&Z!==ce&&o.reference[C]/2-(Z<B?G:H)-v[C]/2<0,ie=K?Z<B?Z-B:Z-X:0;return{[b]:x[b]+ie,data:{[b]:ce,centerOffset:Z-ce-ie,...K&&{alignmentOffset:ie}},reset:K}}}),tL=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:o,rects:c,initialPlacement:u,platform:h,elements:f}=t,{mainAxis:g=!0,crossAxis:p=!0,fallbackPlacements:x,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:v=!0,...S}=_i(e,t);if((n=o.arrow)!=null&&n.alignmentOffset)return{};const j=wi(a),w=ur(u),N=wi(u)===u,P=await(h.isRTL==null?void 0:h.isRTL(f.floating)),E=x||(N||!v?[Ec(u)]:qP(u)),R=C!=="none";!x&&R&&E.push(...YP(u,v,C,P));const I=[u,...E],z=await Sa(t,S),U=[];let G=((r=o.flip)==null?void 0:r.overflows)||[];if(g&&U.push(z[j]),p){const Z=KP(a,c,P);U.push(z[Z[0]],z[Z[1]])}if(G=[...G,{placement:a,overflows:U}],!U.every(Z=>Z<=0)){var H,B;const Z=(((H=o.flip)==null?void 0:H.index)||0)+1,ce=I[Z];if(ce)return{data:{index:Z,overflows:G},reset:{placement:ce}};let K=(B=G.filter(ie=>ie.overflows[0]<=0).sort((ie,A)=>ie.overflows[1]-A.overflows[1])[0])==null?void 0:B.placement;if(!K)switch(b){case"bestFit":{var X;const ie=(X=G.filter(A=>{if(R){const $=ur(A.placement);return $===w||$==="y"}return!0}).map(A=>[A.placement,A.overflows.filter($=>$>0).reduce(($,F)=>$+F,0)]).sort((A,$)=>A[1]-$[1])[0])==null?void 0:X[0];ie&&(K=ie);break}case"initialPlacement":K=u;break}if(a!==K)return{reset:{placement:K}}}return{}}}};function kv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function Pv(e){return ZP.some(t=>e[t]>=0)}const nL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=_i(e,t);switch(r){case"referenceHidden":{const o=await Sa(t,{...a,elementContext:"reference"}),c=kv(o,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:Pv(c)}}}case"escaped":{const o=await Sa(t,{...a,altBoundary:!0}),c=kv(o,n.floating);return{data:{escapedOffsets:c,escaped:Pv(c)}}}default:return{}}}}};async function iL(e,t){const{placement:n,platform:r,elements:a}=e,o=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=wi(n),u=po(n),h=ur(n)==="y",f=["left","top"].includes(c)?-1:1,g=o&&h?-1:1,p=_i(t,e);let{mainAxis:x,crossAxis:b,alignmentAxis:C}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return u&&typeof C=="number"&&(b=u==="end"?C*-1:C),h?{x:b*g,y:x*f}:{x:x*f,y:b*g}}const rL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:o,placement:c,middlewareData:u}=t,h=await iL(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+h.x,y:o+h.y,data:{...h,placement:c}}}}},sL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:o=!0,crossAxis:c=!1,limiter:u={fn:S=>{let{x:j,y:w}=S;return{x:j,y:w}}},...h}=_i(e,t),f={x:n,y:r},g=await Sa(t,h),p=ur(wi(a)),x=gm(p);let b=f[x],C=f[p];if(o){const S=x==="y"?"top":"left",j=x==="y"?"bottom":"right",w=b+g[S],N=b-g[j];b=qh(w,b,N)}if(c){const S=p==="y"?"top":"left",j=p==="y"?"bottom":"right",w=C+g[S],N=C-g[j];C=qh(w,C,N)}const v=u.fn({...t,[x]:b,[p]:C});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[x]:o,[p]:c}}}}}},oL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:o,middlewareData:c}=t,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=_i(e,t),g={x:n,y:r},p=ur(a),x=gm(p);let b=g[x],C=g[p];const v=_i(u,t),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(h){const N=x==="y"?"height":"width",P=o.reference[x]-o.floating[N]+S.mainAxis,E=o.reference[x]+o.reference[N]-S.mainAxis;b<P?b=P:b>E&&(b=E)}if(f){var j,w;const N=x==="y"?"width":"height",P=["top","left"].includes(wi(a)),E=o.reference[p]-o.floating[N]+(P&&((j=c.offset)==null?void 0:j[p])||0)+(P?0:S.crossAxis),R=o.reference[p]+o.reference[N]+(P?0:((w=c.offset)==null?void 0:w[p])||0)-(P?S.crossAxis:0);C<E?C=E:C>R&&(C=R)}return{[x]:b,[p]:C}}}},aL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:o,platform:c,elements:u}=t,{apply:h=()=>{},...f}=_i(e,t),g=await Sa(t,f),p=wi(a),x=po(a),b=ur(a)==="y",{width:C,height:v}=o.floating;let S,j;p==="top"||p==="bottom"?(S=p,j=x===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(j=p,S=x==="end"?"top":"bottom");const w=v-g.top-g.bottom,N=C-g.left-g.right,P=cr(v-g[S],w),E=cr(C-g[j],N),R=!t.middlewareData.shift;let I=P,z=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(z=N),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(I=w),R&&!x){const G=Gt(g.left,0),H=Gt(g.right,0),B=Gt(g.top,0),X=Gt(g.bottom,0);b?z=C-2*(G!==0||H!==0?G+H:Gt(g.left,g.right)):I=v-2*(B!==0||X!==0?B+X:Gt(g.top,g.bottom))}await h({...t,availableWidth:z,availableHeight:I});const U=await c.getDimensions(u.floating);return C!==U.width||v!==U.height?{reset:{rects:!0}}:{}}}};function nu(){return typeof window<"u"}function go(e){return Z_(e)?(e.nodeName||"").toLowerCase():"#document"}function Qt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function ei(e){var t;return(t=(Z_(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function Z_(e){return nu()?e instanceof Node||e instanceof Qt(e).Node:!1}function Tn(e){return nu()?e instanceof Element||e instanceof Qt(e).Element:!1}function Jn(e){return nu()?e instanceof HTMLElement||e instanceof Qt(e).HTMLElement:!1}function Lv(e){return!nu()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Qt(e).ShadowRoot}function Ba(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Mn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function lL(e){return["table","td","th"].includes(go(e))}function iu(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function ym(e){const t=_m(),n=Tn(e)?Mn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function cL(e){let t=dr(e);for(;Jn(t)&&!oo(t);){if(ym(t))return t;if(iu(t))return null;t=dr(t)}return null}function _m(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function oo(e){return["html","body","#document"].includes(go(e))}function Mn(e){return Qt(e).getComputedStyle(e)}function ru(e){return Tn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function dr(e){if(go(e)==="html")return e;const t=e.assignedSlot||e.parentNode||Lv(e)&&e.host||ei(e);return Lv(t)?t.host:t}function W_(e){const t=dr(e);return oo(t)?e.ownerDocument?e.ownerDocument.body:e.body:Jn(t)&&Ba(t)?t:W_(t)}function Ca(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=W_(e),o=a===((r=e.ownerDocument)==null?void 0:r.body),c=Qt(a);if(o){const u=Yh(c);return t.concat(c,c.visualViewport||[],Ba(a)?a:[],u&&n?Ca(u):[])}return t.concat(a,Ca(a,[],n))}function Yh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function G_(e){const t=Mn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Jn(e),o=a?e.offsetWidth:n,c=a?e.offsetHeight:r,u=Lc(n)!==o||Lc(r)!==c;return u&&(n=o,r=c),{width:n,height:r,$:u}}function wm(e){return Tn(e)?e:e.contextElement}function As(e){const t=wm(e);if(!Jn(t))return Xn(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:o}=G_(t);let c=(o?Lc(n.width):n.width)/r,u=(o?Lc(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const uL=Xn(0);function K_(e){const t=Qt(e);return!_m()||!t.visualViewport?uL:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function dL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Qt(e)?!1:t}function Wr(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),o=wm(e);let c=Xn(1);t&&(r?Tn(r)&&(c=As(r)):c=As(e));const u=dL(o,n,r)?K_(o):Xn(0);let h=(a.left+u.x)/c.x,f=(a.top+u.y)/c.y,g=a.width/c.x,p=a.height/c.y;if(o){const x=Qt(o),b=r&&Tn(r)?Qt(r):r;let C=x,v=Yh(C);for(;v&&r&&b!==C;){const S=As(v),j=v.getBoundingClientRect(),w=Mn(v),N=j.left+(v.clientLeft+parseFloat(w.paddingLeft))*S.x,P=j.top+(v.clientTop+parseFloat(w.paddingTop))*S.y;h*=S.x,f*=S.y,g*=S.x,p*=S.y,h+=N,f+=P,C=Qt(v),v=Yh(C)}}return Tc({width:g,height:p,x:h,y:f})}function bm(e,t){const n=ru(e).scrollLeft;return t?t.left+n:Wr(ei(e)).left+n}function q_(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:bm(e,r)),o=r.top+t.scrollTop;return{x:a,y:o}}function hL(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const o=a==="fixed",c=ei(r),u=t?iu(t.floating):!1;if(r===c||u&&o)return n;let h={scrollLeft:0,scrollTop:0},f=Xn(1);const g=Xn(0),p=Jn(r);if((p||!p&&!o)&&((go(r)!=="body"||Ba(c))&&(h=ru(r)),Jn(r))){const b=Wr(r);f=As(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const x=c&&!p&&!o?q_(c,h,!0):Xn(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+g.x+x.x,y:n.y*f.y-h.scrollTop*f.y+g.y+x.y}}function fL(e){return Array.from(e.getClientRects())}function mL(e){const t=ei(e),n=ru(e),r=e.ownerDocument.body,a=Gt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),o=Gt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+bm(e);const u=-n.scrollTop;return Mn(r).direction==="rtl"&&(c+=Gt(t.clientWidth,r.clientWidth)-a),{width:a,height:o,x:c,y:u}}function pL(e,t){const n=Qt(e),r=ei(e),a=n.visualViewport;let o=r.clientWidth,c=r.clientHeight,u=0,h=0;if(a){o=a.width,c=a.height;const f=_m();(!f||f&&t==="fixed")&&(u=a.offsetLeft,h=a.offsetTop)}return{width:o,height:c,x:u,y:h}}function gL(e,t){const n=Wr(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,o=Jn(e)?As(e):Xn(1),c=e.clientWidth*o.x,u=e.clientHeight*o.y,h=a*o.x,f=r*o.y;return{width:c,height:u,x:h,y:f}}function Ev(e,t,n){let r;if(t==="viewport")r=pL(e,n);else if(t==="document")r=mL(ei(e));else if(Tn(t))r=gL(t,n);else{const a=K_(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return Tc(r)}function Q_(e,t){const n=dr(e);return n===t||!Tn(n)||oo(n)?!1:Mn(n).position==="fixed"||Q_(n,t)}function vL(e,t){const n=t.get(e);if(n)return n;let r=Ca(e,[],!1).filter(u=>Tn(u)&&go(u)!=="body"),a=null;const o=Mn(e).position==="fixed";let c=o?dr(e):e;for(;Tn(c)&&!oo(c);){const u=Mn(c),h=ym(c);!h&&u.position==="fixed"&&(a=null),(o?!h&&!a:!h&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Ba(c)&&!h&&Q_(e,c))?r=r.filter(g=>g!==c):a=u,c=dr(c)}return t.set(e,r),r}function xL(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const c=[...n==="clippingAncestors"?iu(t)?[]:vL(t,this._c):[].concat(n),r],u=c[0],h=c.reduce((f,g)=>{const p=Ev(t,g,a);return f.top=Gt(p.top,f.top),f.right=cr(p.right,f.right),f.bottom=cr(p.bottom,f.bottom),f.left=Gt(p.left,f.left),f},Ev(t,u,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function yL(e){const{width:t,height:n}=G_(e);return{width:t,height:n}}function _L(e,t,n){const r=Jn(t),a=ei(t),o=n==="fixed",c=Wr(e,!0,o,t);let u={scrollLeft:0,scrollTop:0};const h=Xn(0);if(r||!r&&!o)if((go(t)!=="body"||Ba(a))&&(u=ru(t)),r){const x=Wr(t,!0,o,t);h.x=x.x+t.clientLeft,h.y=x.y+t.clientTop}else a&&(h.x=bm(a));const f=a&&!r&&!o?q_(a,u):Xn(0),g=c.left+u.scrollLeft-h.x-f.x,p=c.top+u.scrollTop-h.y-f.y;return{x:g,y:p,width:c.width,height:c.height}}function kd(e){return Mn(e).position==="static"}function Tv(e,t){if(!Jn(e)||Mn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return ei(e)===n&&(n=n.ownerDocument.body),n}function Y_(e,t){const n=Qt(e);if(iu(e))return n;if(!Jn(e)){let a=dr(e);for(;a&&!oo(a);){if(Tn(a)&&!kd(a))return a;a=dr(a)}return n}let r=Tv(e,t);for(;r&&lL(r)&&kd(r);)r=Tv(r,t);return r&&oo(r)&&kd(r)&&!ym(r)?n:r||cL(e)||n}const wL=async function(e){const t=this.getOffsetParent||Y_,n=this.getDimensions,r=await n(e.floating);return{reference:_L(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function bL(e){return Mn(e).direction==="rtl"}const jL={convertOffsetParentRelativeRectToViewportRelativeRect:hL,getDocumentElement:ei,getClippingRect:xL,getOffsetParent:Y_,getElementRects:wL,getClientRects:fL,getDimensions:yL,getScale:As,isElement:Tn,isRTL:bL};function X_(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function NL(e,t){let n=null,r;const a=ei(e);function o(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),o();const f=e.getBoundingClientRect(),{left:g,top:p,width:x,height:b}=f;if(u||t(),!x||!b)return;const C=El(p),v=El(a.clientWidth-(g+x)),S=El(a.clientHeight-(p+b)),j=El(g),N={rootMargin:-C+"px "+-v+"px "+-S+"px "+-j+"px",threshold:Gt(0,cr(1,h))||1};let P=!0;function E(R){const I=R[0].intersectionRatio;if(I!==h){if(!P)return c();I?c(!1,I):r=setTimeout(()=>{c(!1,1e-7)},1e3)}I===1&&!X_(f,e.getBoundingClientRect())&&c(),P=!1}try{n=new IntersectionObserver(E,{...N,root:a.ownerDocument})}catch{n=new IntersectionObserver(E,N)}n.observe(e)}return c(!0),o}function SL(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:o=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,f=wm(e),g=a||o?[...f?Ca(f):[],...Ca(t)]:[];g.forEach(j=>{a&&j.addEventListener("scroll",n,{passive:!0}),o&&j.addEventListener("resize",n)});const p=f&&u?NL(f,n):null;let x=-1,b=null;c&&(b=new ResizeObserver(j=>{let[w]=j;w&&w.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(x),x=requestAnimationFrame(()=>{var N;(N=b)==null||N.observe(t)})),n()}),f&&!h&&b.observe(f),b.observe(t));let C,v=h?Wr(e):null;h&&S();function S(){const j=Wr(e);v&&!X_(v,j)&&n(),v=j,C=requestAnimationFrame(S)}return n(),()=>{var j;g.forEach(w=>{a&&w.removeEventListener("scroll",n),o&&w.removeEventListener("resize",n)}),p==null||p(),(j=b)==null||j.disconnect(),b=null,h&&cancelAnimationFrame(C)}}const CL=rL,kL=sL,PL=tL,LL=aL,EL=nL,Mv=eL,TL=oL,ML=(e,t,n)=>{const r=new Map,a={platform:jL,...n},o={...a.platform,_c:r};return JP(e,t,{...a,platform:o})};var Ql=typeof document<"u"?y.useLayoutEffect:y.useEffect;function Mc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!Mc(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const o=a[r];if(!(o==="_owner"&&e.$$typeof)&&!Mc(e[o],t[o]))return!1}return!0}return e!==e&&t!==t}function J_(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Rv(e,t){const n=J_(e);return Math.round(t*n)/n}function Pd(e){const t=y.useRef(e);return Ql(()=>{t.current=e}),t}function RL(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:o,floating:c}={},transform:u=!0,whileElementsMounted:h,open:f}=e,[g,p]=y.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[x,b]=y.useState(r);Mc(x,r)||b(r);const[C,v]=y.useState(null),[S,j]=y.useState(null),w=y.useCallback(A=>{A!==R.current&&(R.current=A,v(A))},[]),N=y.useCallback(A=>{A!==I.current&&(I.current=A,j(A))},[]),P=o||C,E=c||S,R=y.useRef(null),I=y.useRef(null),z=y.useRef(g),U=h!=null,G=Pd(h),H=Pd(a),B=Pd(f),X=y.useCallback(()=>{if(!R.current||!I.current)return;const A={placement:t,strategy:n,middleware:x};H.current&&(A.platform=H.current),ML(R.current,I.current,A).then($=>{const F={...$,isPositioned:B.current!==!1};Z.current&&!Mc(z.current,F)&&(z.current=F,Yr.flushSync(()=>{p(F)}))})},[x,t,n,H,B]);Ql(()=>{f===!1&&z.current.isPositioned&&(z.current.isPositioned=!1,p(A=>({...A,isPositioned:!1})))},[f]);const Z=y.useRef(!1);Ql(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Ql(()=>{if(P&&(R.current=P),E&&(I.current=E),P&&E){if(G.current)return G.current(P,E,X);X()}},[P,E,X,G,U]);const ce=y.useMemo(()=>({reference:R,floating:I,setReference:w,setFloating:N}),[w,N]),K=y.useMemo(()=>({reference:P,floating:E}),[P,E]),ie=y.useMemo(()=>{const A={position:n,left:0,top:0};if(!K.floating)return A;const $=Rv(K.floating,g.x),F=Rv(K.floating,g.y);return u?{...A,transform:"translate("+$+"px, "+F+"px)",...J_(K.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:$,top:F}},[n,u,K.floating,g.x,g.y]);return y.useMemo(()=>({...g,update:X,refs:ce,elements:K,floatingStyles:ie}),[g,X,ce,K,ie])}const AL=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?Mv({element:r.current,padding:a}).fn(n):{}:r?Mv({element:r,padding:a}).fn(n):{}}}},IL=(e,t)=>({...CL(e),options:[e,t]}),OL=(e,t)=>({...kL(e),options:[e,t]}),zL=(e,t)=>({...TL(e),options:[e,t]}),DL=(e,t)=>({...PL(e),options:[e,t]}),FL=(e,t)=>({...LL(e),options:[e,t]}),BL=(e,t)=>({...EL(e),options:[e,t]}),VL=(e,t)=>({...AL(e),options:[e,t]});var HL="Arrow",ew=y.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...o}=e;return s.jsx(xe.svg,{...o,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:s.jsx("polygon",{points:"0,0 30,0 15,10"})})});ew.displayName=HL;var UL=ew;function su(e){const[t,n]=y.useState(void 0);return St(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const o=a[0];let c,u;if("borderBoxSize"in o){const h=o.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,u=f.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var jm="Popper",[tw,ou]=en(jm),[$L,nw]=tw(jm),iw=e=>{const{__scopePopper:t,children:n}=e,[r,a]=y.useState(null);return s.jsx($L,{scope:t,anchor:r,onAnchorChange:a,children:n})};iw.displayName=jm;var rw="PopperAnchor",sw=y.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,o=nw(rw,n),c=y.useRef(null),u=Be(t,c);return y.useEffect(()=>{o.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:s.jsx(xe.div,{...a,ref:u})});sw.displayName=rw;var Nm="PopperContent",[ZL,WL]=tw(Nm),ow=y.forwardRef((e,t)=>{var ne,ge,ye,Te,Ae,Me;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:o="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:p="partial",hideWhenDetached:x=!1,updatePositionStrategy:b="optimized",onPlaced:C,...v}=e,S=nw(Nm,n),[j,w]=y.useState(null),N=Be(t,it=>w(it)),[P,E]=y.useState(null),R=su(P),I=(R==null?void 0:R.width)??0,z=(R==null?void 0:R.height)??0,U=r+(o!=="center"?"-"+o:""),G=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},H=Array.isArray(f)?f:[f],B=H.length>0,X={padding:G,boundary:H.filter(KL),altBoundary:B},{refs:Z,floatingStyles:ce,placement:K,isPositioned:ie,middlewareData:A}=RL({strategy:"fixed",placement:U,whileElementsMounted:(...it)=>SL(...it,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[IL({mainAxis:a+z,alignmentAxis:c}),h&&OL({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?zL():void 0,...X}),h&&DL({...X}),FL({...X,apply:({elements:it,rects:It,availableWidth:In,availableHeight:On})=>{const{width:mn,height:Si}=It.reference,Ci=it.floating.style;Ci.setProperty("--radix-popper-available-width",`${In}px`),Ci.setProperty("--radix-popper-available-height",`${On}px`),Ci.setProperty("--radix-popper-anchor-width",`${mn}px`),Ci.setProperty("--radix-popper-anchor-height",`${Si}px`)}}),P&&VL({element:P,padding:u}),qL({arrowWidth:I,arrowHeight:z}),x&&BL({strategy:"referenceHidden",...X})]}),[$,F]=cw(K),J=$t(C);St(()=>{ie&&(J==null||J())},[ie,J]);const fe=(ne=A.arrow)==null?void 0:ne.x,V=(ge=A.arrow)==null?void 0:ge.y,ee=((ye=A.arrow)==null?void 0:ye.centerOffset)!==0,[te,oe]=y.useState();return St(()=>{j&&oe(window.getComputedStyle(j).zIndex)},[j]),s.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:ie?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:te,"--radix-popper-transform-origin":[(Te=A.transformOrigin)==null?void 0:Te.x,(Ae=A.transformOrigin)==null?void 0:Ae.y].join(" "),...((Me=A.hide)==null?void 0:Me.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:s.jsx(ZL,{scope:n,placedSide:$,onArrowChange:E,arrowX:fe,arrowY:V,shouldHideArrow:ee,children:s.jsx(xe.div,{"data-side":$,"data-align":F,...v,ref:N,style:{...v.style,animation:ie?void 0:"none"}})})})});ow.displayName=Nm;var aw="PopperArrow",GL={top:"bottom",right:"left",bottom:"top",left:"right"},lw=y.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,o=WL(aw,r),c=GL[o.placedSide];return s.jsx("span",{ref:o.onArrowChange,style:{position:"absolute",left:o.arrowX,top:o.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[o.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[o.placedSide],visibility:o.shouldHideArrow?"hidden":void 0},children:s.jsx(UL,{...a,ref:n,style:{...a.style,display:"block"}})})});lw.displayName=aw;function KL(e){return e!==null}var qL=e=>({name:"transformOrigin",options:e,fn(t){var S,j,w;const{placement:n,rects:r,middlewareData:a}=t,c=((S=a.arrow)==null?void 0:S.centerOffset)!==0,u=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[f,g]=cw(n),p={start:"0%",center:"50%",end:"100%"}[g],x=(((j=a.arrow)==null?void 0:j.x)??0)+u/2,b=(((w=a.arrow)==null?void 0:w.y)??0)+h/2;let C="",v="";return f==="bottom"?(C=c?p:`${x}px`,v=`${-h}px`):f==="top"?(C=c?p:`${x}px`,v=`${r.floating.height+h}px`):f==="right"?(C=`${-h}px`,v=c?p:`${b}px`):f==="left"&&(C=`${r.floating.width+h}px`,v=c?p:`${b}px`),{data:{x:C,y:v}}}});function cw(e){const[t,n="center"]=e.split("-");return[t,n]}var QL=iw,uw=sw,dw=ow,hw=lw,[au,FR]=en("Tooltip",[ou]),Sm=ou(),fw="TooltipProvider",YL=700,Av="tooltip.open",[XL,mw]=au(fw),pw=e=>{const{__scopeTooltip:t,delayDuration:n=YL,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:o}=e,c=y.useRef(!0),u=y.useRef(!1),h=y.useRef(0);return y.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),s.jsx(XL,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:y.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:y.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:y.useCallback(f=>{u.current=f},[]),disableHoverableContent:a,children:o})};pw.displayName=fw;var gw="Tooltip",[BR,lu]=au(gw),Xh="TooltipTrigger",JL=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=lu(Xh,n),o=mw(Xh,n),c=Sm(n),u=y.useRef(null),h=Be(t,u,a.onTriggerChange),f=y.useRef(!1),g=y.useRef(!1),p=y.useCallback(()=>f.current=!1,[]);return y.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),s.jsx(uw,{asChild:!0,...c,children:s.jsx(xe.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:h,onPointerMove:he(e.onPointerMove,x=>{x.pointerType!=="touch"&&!g.current&&!o.isPointerInTransitRef.current&&(a.onTriggerEnter(),g.current=!0)}),onPointerLeave:he(e.onPointerLeave,()=>{a.onTriggerLeave(),g.current=!1}),onPointerDown:he(e.onPointerDown,()=>{a.open&&a.onClose(),f.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:he(e.onFocus,()=>{f.current||a.onOpen()}),onBlur:he(e.onBlur,a.onClose),onClick:he(e.onClick,a.onClose)})})});JL.displayName=Xh;var eE="TooltipPortal",[VR,tE]=au(eE,{forceMount:void 0}),ao="TooltipContent",vw=y.forwardRef((e,t)=>{const n=tE(ao,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...o}=e,c=lu(ao,e.__scopeTooltip);return s.jsx(Ni,{present:r||c.open,children:c.disableHoverableContent?s.jsx(xw,{side:a,...o,ref:t}):s.jsx(nE,{side:a,...o,ref:t})})}),nE=y.forwardRef((e,t)=>{const n=lu(ao,e.__scopeTooltip),r=mw(ao,e.__scopeTooltip),a=y.useRef(null),o=Be(t,a),[c,u]=y.useState(null),{trigger:h,onClose:f}=n,g=a.current,{onPointerInTransitChange:p}=r,x=y.useCallback(()=>{u(null),p(!1)},[p]),b=y.useCallback((C,v)=>{const S=C.currentTarget,j={x:C.clientX,y:C.clientY},w=aE(j,S.getBoundingClientRect()),N=lE(j,w),P=cE(v.getBoundingClientRect()),E=dE([...N,...P]);u(E),p(!0)},[p]);return y.useEffect(()=>()=>x(),[x]),y.useEffect(()=>{if(h&&g){const C=S=>b(S,g),v=S=>b(S,h);return h.addEventListener("pointerleave",C),g.addEventListener("pointerleave",v),()=>{h.removeEventListener("pointerleave",C),g.removeEventListener("pointerleave",v)}}},[h,g,b,x]),y.useEffect(()=>{if(c){const C=v=>{const S=v.target,j={x:v.clientX,y:v.clientY},w=(h==null?void 0:h.contains(S))||(g==null?void 0:g.contains(S)),N=!uE(j,c);w?x():N&&(x(),f())};return document.addEventListener("pointermove",C),()=>document.removeEventListener("pointermove",C)}},[h,g,c,f,x]),s.jsx(xw,{...e,ref:o})}),[iE,rE]=au(gw,{isInside:!1}),sE=X2("TooltipContent"),xw=y.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:o,onPointerDownOutside:c,...u}=e,h=lu(ao,n),f=Sm(n),{onClose:g}=h;return y.useEffect(()=>(document.addEventListener(Av,g),()=>document.removeEventListener(Av,g)),[g]),y.useEffect(()=>{if(h.trigger){const p=x=>{const b=x.target;b!=null&&b.contains(h.trigger)&&g()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[h.trigger,g]),s.jsx(za,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:p=>p.preventDefault(),onDismiss:g,children:s.jsxs(dw,{"data-state":h.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[s.jsx(sE,{children:r}),s.jsx(iE,{scope:n,isInside:!0,children:s.jsx(xk,{id:h.contentId,role:"tooltip",children:a||r})})]})})});vw.displayName=ao;var yw="TooltipArrow",oE=y.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Sm(n);return rE(yw,n).isInside?null:s.jsx(hw,{...a,...r,ref:t})});oE.displayName=yw;function aE(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),o=Math.abs(t.left-e.x);switch(Math.min(n,r,a,o)){case o:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function lE(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function cE(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function uE(e,t){const{x:n,y:r}=e;let a=!1;for(let o=0,c=t.length-1;o<t.length;c=o++){const u=t[o].x,h=t[o].y,f=t[c].x,g=t[c].y;h>r!=g>r&&n<(f-u)*(r-h)/(g-h)+u&&(a=!a)}return a}function dE(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),hE(t)}function hE(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const o=t[t.length-1],c=t[t.length-2];if((o.x-c.x)*(a.y-c.y)>=(o.y-c.y)*(a.x-c.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const o=n[n.length-1],c=n[n.length-2];if((o.x-c.x)*(a.y-c.y)>=(o.y-c.y)*(a.x-c.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var fE=pw,_w=vw;const mE=fE,pE=y.forwardRef(({className:e,sideOffset:t=4,...n},r)=>s.jsx(_w,{ref:r,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));pE.displayName=_w.displayName;function Xr(){const{data:e,isLoading:t}=at({queryKey:["/api/auth/user"],retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}const le=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));le.displayName="Card";const be=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));be.displayName="CardHeader";const je=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));je.displayName="CardTitle";const Nn=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));Nn.displayName="CardDescription";const ue=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:_e("p-6 pt-0",e),...t}));ue.displayName="CardContent";const gE=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",e),...t}));gE.displayName="CardFooter";function vE(){return s.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:s.jsx(le,{className:"w-full max-w-md mx-4",children:s.jsxs(ue,{className:"pt-6",children:[s.jsxs("div",{className:"flex mb-4 gap-2",children:[s.jsx(S_,{className:"h-8 w-8 text-red-500"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),s.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const xE=Fa("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 active:scale-[0.98] touch-manipulation",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90 active:bg-primary/80",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90 active:bg-destructive/80",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground active:bg-accent/80",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80 active:bg-secondary/70",ghost:"hover:bg-accent hover:text-accent-foreground active:bg-accent/80",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2 min-h-[44px] md:min-h-[40px]",sm:"h-9 rounded-md px-3 min-h-[44px] md:min-h-[36px]",lg:"h-11 rounded-md px-8 min-h-[44px]",icon:"h-10 w-10 min-h-[44px] min-w-[44px] md:min-h-[40px] md:min-w-[40px]"}},defaultVariants:{variant:"default",size:"default"}}),Q=y.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},o)=>{const c=r?Q2:"button";return s.jsx(c,{className:_e(xE({variant:t,size:n,className:e})),ref:o,...a})});Q.displayName="Button";function yE(){ji();const[e,t]=y.useState(!1),n=()=>{window.location.href="/api/login"},{data:r}=at({queryKey:["/api/restaurants/stats"],queryFn:async()=>{var o;try{return{totalRestaurants:((o=(await(await fetch("/api/restaurants/public/map-data")).json()).restaurants)==null?void 0:o.length)||408,cities:1,avgScore:4.2}}catch{return{totalRestaurants:408,cities:1,avgScore:4.2}}}}),a=[{icon:s.jsx(dn,{className:"w-6 h-6"}),title:"Интерактивна карта",description:"Разгледай веган ресторанти в твоя район с подробна информация"},{icon:s.jsx(Cc,{className:"w-6 h-6"}),title:"AI асистент",description:"Интелигентни препоръки базирани на твоите предпочитания"},{icon:s.jsx(Zr,{className:"w-6 h-6"}),title:"Веган оценки",description:"6-измерна система за оценка на веган приятелски заведения"},{icon:s.jsx(Kk,{className:"w-6 h-6"}),title:"Умни филтри",description:"Филтрирай по цена, кухня, алергени и още"},{icon:s.jsx($r,{className:"w-6 h-6"}),title:"Любими места",description:"Запазвай и организирай любимите си ресторанти"},{icon:s.jsx(nP,{className:"w-6 h-6"}),title:"Проверени данни",description:"Актуална информация от Google Places и потребителски отзиви"}];return s.jsxs("div",{className:"min-h-screen bg-gradient-to-b from-green-50 to-white",children:[s.jsx("div",{className:"bg-blue-100 border-b border-blue-200 py-2",children:s.jsx("div",{className:"container mx-auto px-4",children:s.jsx("a",{href:"/pages/mock-step1.html",className:"text-blue-700 hover:text-blue-900 font-medium flex items-center gap-2",children:"➡ Mock Step 1 (CTA + Navigation)"})})}),s.jsx("header",{className:"bg-white shadow-sm border-b",children:s.jsx("div",{className:"container mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex justify-between items-center",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx(Uk,{className:"w-8 h-8 text-green-600"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-800",children:"VeganMapAI"})]}),s.jsxs("nav",{className:"hidden md:flex items-center gap-6",children:[s.jsx("a",{href:"#features",className:"text-gray-600 hover:text-green-600 transition-colors",children:"Features"}),s.jsx("a",{href:"#about",className:"text-gray-600 hover:text-green-600 transition-colors",children:"About"}),s.jsx("a",{href:"#api",className:"text-gray-600 hover:text-green-600 transition-colors",children:"API Access"}),s.jsx("a",{href:"#contact",className:"text-gray-600 hover:text-green-600 transition-colors",children:"Contact"})]}),s.jsx(Q,{className:"bg-green-600 hover:bg-green-700",onClick:n,children:"Sign in"})]})})}),s.jsx("section",{className:"container mx-auto px-4 py-16",children:s.jsxs("div",{className:"text-center max-w-3xl mx-auto",children:[s.jsx("h2",{className:"text-5xl font-bold text-gray-900 mb-6",children:"Открий най-добрите веган ресторанти"}),s.jsx("p",{className:"text-xl text-gray-600 mb-8",children:"VeganMapAI ти помага да откриеш най-добрите веган заведения около теб, използвайки интелигентна система за оценка и филтрация. Намери ресторанти, виж оценки и персонализирани препоръки."}),s.jsxs("div",{className:"flex gap-4 justify-center mb-12",children:[s.jsx("a",{href:"/test-map",children:s.jsxs(Q,{size:"lg",className:"bg-green-600 hover:bg-green-700 text-lg px-8 py-6",children:[s.jsx(E_,{className:"w-5 h-5 mr-2"}),"Разгледай картата"]})}),s.jsx(Q,{size:"lg",variant:"outline",className:"text-lg px-8 py-6",onClick:()=>t(!0),children:"Научи повече"})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-8 max-w-2xl mx-auto",children:[s.jsxs(le,{className:"p-6 text-center",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600 mb-2",children:[(r==null?void 0:r.totalRestaurants)||408,"+"]}),s.jsx("div",{className:"text-gray-600",children:"Ресторанти"})]}),s.jsxs(le,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:(r==null?void 0:r.cities)||1}),s.jsx("div",{className:"text-gray-600",children:"Градове"})]}),s.jsxs(le,{className:"p-6 text-center",children:[s.jsx("div",{className:"text-3xl font-bold text-green-600 mb-2",children:(r==null?void 0:r.avgScore)||4.2}),s.jsx("div",{className:"text-gray-600",children:"Средна оценка"})]})]})]})}),(e||!0)&&s.jsx("section",{id:"features",className:"bg-white py-16",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-12",children:"Какво предлагаме"}),s.jsx("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-8",children:a.map((o,c)=>s.jsx(le,{className:"p-6 hover:shadow-lg transition-shadow",children:s.jsxs("div",{className:"flex items-start gap-4",children:[s.jsx("div",{className:"p-3 bg-green-100 rounded-lg text-green-600",children:o.icon}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg text-gray-900 mb-2",children:o.title}),s.jsx("p",{className:"text-gray-600",children:o.description})]})]})},c))})]})}),s.jsx("section",{className:"py-16 bg-gray-50",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsx("h3",{className:"text-3xl font-bold text-center text-gray-900 mb-8",children:"Интерактивна карта с веган ресторанти"}),s.jsx(le,{className:"overflow-hidden",children:s.jsx("div",{className:"relative h-96 bg-gradient-to-br from-green-100 to-green-200 flex items-center justify-center cursor-pointer hover:opacity-90 transition-opacity",onClick:n,children:s.jsxs("div",{className:"text-center",children:[s.jsx(dn,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),s.jsx("p",{className:"text-xl font-semibold text-gray-800",children:"Кликни за да разгледаш картата"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"408+ ресторанта в София"})]})})})]})}),s.jsx("section",{className:"py-16 bg-green-600",children:s.jsxs("div",{className:"container mx-auto px-4 text-center",children:[s.jsx("h3",{className:"text-3xl font-bold text-white mb-4",children:"Готов ли си да откриеш веган рая?"}),s.jsx("p",{className:"text-xl text-green-100 mb-8",children:"Присъедини се към хиляди потребители, които вече намират перфектното веган място"}),s.jsx(Q,{size:"lg",className:"bg-white text-green-600 hover:bg-gray-100 text-lg px-8 py-6",onClick:n,children:"Започни безплатно"})]})}),s.jsx("footer",{className:"bg-gray-900 text-white py-12",children:s.jsxs("div",{className:"container mx-auto px-4",children:[s.jsxs("div",{className:"grid md:grid-cols-4 gap-8",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg mb-4",children:"VeganMapAI"}),s.jsx("p",{className:"text-gray-400",children:"Твоят гид към веган ресторанти"})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Бързи връзки"}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:s.jsx("a",{href:"#",onClick:n,className:"hover:text-white",children:"Карта"})}),s.jsx("li",{children:s.jsx("a",{href:"#",onClick:n,className:"hover:text-white",children:"AI Асистент"})}),s.jsx("li",{children:s.jsx("a",{href:"#",onClick:n,className:"hover:text-white",children:"Профил"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg mb-4",children:"За разработчици"}),s.jsxs("ul",{className:"space-y-2 text-gray-400",children:[s.jsx("li",{children:s.jsx("a",{href:"#api",className:"hover:text-white",children:"API достъп"})}),s.jsx("li",{children:s.jsx("a",{href:"#docs",className:"hover:text-white",children:"Документация"})}),s.jsx("li",{children:s.jsx("a",{href:"https://github.com",target:"_blank",rel:"noopener noreferrer",className:"hover:text-white",children:"GitHub"})})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-lg mb-4",children:"Контакт"}),s.jsxs("p",{className:"text-gray-400",children:["hello@veganmapai.ai",s.jsx("br",{}),"София, България"]})]})]}),s.jsx("div",{className:"border-t border-gray-800 mt-8 pt-8 text-center text-gray-400",children:s.jsx("p",{children:"© 2025 VeganMapAI. Всички права запазени."})})]})})]})}var Jh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(lx,function(n){var r="1.9.4";function a(i){var l,d,m,_;for(d=1,m=arguments.length;d<m;d++){_=arguments[d];for(l in _)i[l]=_[l]}return i}var o=Object.create||function(){function i(){}return function(l){return i.prototype=l,new i}}();function c(i,l){var d=Array.prototype.slice;if(i.bind)return i.bind.apply(i,d.call(arguments,1));var m=d.call(arguments,2);return function(){return i.apply(l,m.length?m.concat(d.call(arguments)):arguments)}}var u=0;function h(i){return"_leaflet_id"in i||(i._leaflet_id=++u),i._leaflet_id}function f(i,l,d){var m,_,k,T;return T=function(){m=!1,_&&(k.apply(d,_),_=!1)},k=function(){m?_=arguments:(i.apply(d,arguments),setTimeout(T,l),m=!0)},k}function g(i,l,d){var m=l[1],_=l[0],k=m-_;return i===m&&d?i:((i-_)%k+k)%k+_}function p(){return!1}function x(i,l){if(l===!1)return i;var d=Math.pow(10,l===void 0?6:l);return Math.round(i*d)/d}function b(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function C(i){return b(i).split(/\s+/)}function v(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?o(i.options):{});for(var d in l)i.options[d]=l[d];return i.options}function S(i,l,d){var m=[];for(var _ in i)m.push(encodeURIComponent(d?_.toUpperCase():_)+"="+encodeURIComponent(i[_]));return(!l||l.indexOf("?")===-1?"?":"&")+m.join("&")}var j=/\{ *([\w_ -]+) *\}/g;function w(i,l){return i.replace(j,function(d,m){var _=l[m];if(_===void 0)throw new Error("No value provided for variable "+d);return typeof _=="function"&&(_=_(l)),_})}var N=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function P(i,l){for(var d=0;d<i.length;d++)if(i[d]===l)return d;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var I=0;function z(i){var l=+new Date,d=Math.max(0,16-(l-I));return I=l+d,window.setTimeout(i,d)}var U=window.requestAnimationFrame||R("RequestAnimationFrame")||z,G=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function H(i,l,d){if(d&&U===z)i.call(l);else return U.call(window,c(i,l))}function B(i){i&&G.call(window,i)}var X={__proto__:null,extend:a,create:o,bind:c,get lastId(){return u},stamp:h,throttle:f,wrapNum:g,falseFn:p,formatNum:x,trim:b,splitWords:C,setOptions:v,getParamString:S,template:w,isArray:N,indexOf:P,emptyImageUrl:E,requestFn:U,cancelFn:G,requestAnimFrame:H,cancelAnimFrame:B};function Z(){}Z.extend=function(i){var l=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,m=o(d);m.constructor=l,l.prototype=m;for(var _ in this)Object.prototype.hasOwnProperty.call(this,_)&&_!=="prototype"&&_!=="__super__"&&(l[_]=this[_]);return i.statics&&a(l,i.statics),i.includes&&(ce(i.includes),a.apply(null,[m].concat(i.includes))),a(m,i),delete m.statics,delete m.includes,m.options&&(m.options=d.options?o(d.options):{},a(m.options,i.options)),m._initHooks=[],m.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var k=0,T=m._initHooks.length;k<T;k++)m._initHooks[k].call(this)}},l},Z.include=function(i){var l=this.prototype.options;return a(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},Z.mergeOptions=function(i){return a(this.prototype.options,i),this},Z.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),d=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function ce(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=N(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var K={on:function(i,l,d){if(typeof i=="object")for(var m in i)this._on(m,i[m],l);else{i=C(i);for(var _=0,k=i.length;_<k;_++)this._on(i[_],l,d)}return this},off:function(i,l,d){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var m in i)this._off(m,i[m],l);else{i=C(i);for(var _=arguments.length===1,k=0,T=i.length;k<T;k++)_?this._off(i[k]):this._off(i[k],l,d)}return this},_on:function(i,l,d,m){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,d)===!1){d===this&&(d=void 0);var _={fn:l,ctx:d};m&&(_.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(_)}},_off:function(i,l,d){var m,_,k;if(this._events&&(m=this._events[i],!!m)){if(arguments.length===1){if(this._firingCount)for(_=0,k=m.length;_<k;_++)m[_].fn=p;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var T=this._listens(i,l,d);if(T!==!1){var O=m[T];this._firingCount&&(O.fn=p,this._events[i]=m=m.slice()),m.splice(T,1)}}},fire:function(i,l,d){if(!this.listens(i,d))return this;var m=a({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var _=this._events[i];if(_){this._firingCount=this._firingCount+1||1;for(var k=0,T=_.length;k<T;k++){var O=_[k],D=O.fn;O.once&&this.off(i,D,O.ctx),D.call(O.ctx||this,m)}this._firingCount--}}return d&&this._propagateEvent(m),this},listens:function(i,l,d,m){typeof i!="string"&&console.warn('"string" type argument expected');var _=l;typeof l!="function"&&(m=!!l,_=void 0,d=void 0);var k=this._events&&this._events[i];if(k&&k.length&&this._listens(i,_,d)!==!1)return!0;if(m){for(var T in this._eventParents)if(this._eventParents[T].listens(i,l,d,m))return!0}return!1},_listens:function(i,l,d){if(!this._events)return!1;var m=this._events[i]||[];if(!l)return!!m.length;d===this&&(d=void 0);for(var _=0,k=m.length;_<k;_++)if(m[_].fn===l&&m[_].ctx===d)return _;return!1},once:function(i,l,d){if(typeof i=="object")for(var m in i)this._on(m,i[m],l,!0);else{i=C(i);for(var _=0,k=i.length;_<k;_++)this._on(i[_],l,d,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[h(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[h(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,a({layer:i.target,propagatedFrom:i.target},i),!0)}};K.addEventListener=K.on,K.removeEventListener=K.clearAllEventListeners=K.off,K.addOneTimeEventListener=K.once,K.fireEvent=K.fire,K.hasEventListeners=K.listens;var ie=Z.extend(K);function A(i,l,d){this.x=d?Math.round(i):i,this.y=d?Math.round(l):l}var $=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(i){return this.clone()._add(F(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract(F(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new A(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new A(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=$(this.x),this.y=$(this.y),this},distanceTo:function(i){i=F(i);var l=i.x-this.x,d=i.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(i){return i=F(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=F(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+x(this.x)+", "+x(this.y)+")"}};function F(i,l,d){return i instanceof A?i:N(i)?new A(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new A(i.x,i.y):new A(i,l,d)}function J(i,l){if(i)for(var d=l?[i,l]:i,m=0,_=d.length;m<_;m++)this.extend(d[m])}J.prototype={extend:function(i){var l,d;if(!i)return this;if(i instanceof A||typeof i[0]=="number"||"x"in i)l=d=F(i);else if(i=fe(i),l=i.min,d=i.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(i){return F((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return F(this.min.x,this.max.y)},getTopRight:function(){return F(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,d;return typeof i[0]=="number"||i instanceof A?i=F(i):i=fe(i),i instanceof J?(l=i.min,d=i.max):l=d=i,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(i){i=fe(i);var l=this.min,d=this.max,m=i.min,_=i.max,k=_.x>=l.x&&m.x<=d.x,T=_.y>=l.y&&m.y<=d.y;return k&&T},overlaps:function(i){i=fe(i);var l=this.min,d=this.max,m=i.min,_=i.max,k=_.x>l.x&&m.x<d.x,T=_.y>l.y&&m.y<d.y;return k&&T},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,d=this.max,m=Math.abs(l.x-d.x)*i,_=Math.abs(l.y-d.y)*i;return fe(F(l.x-m,l.y-_),F(d.x+m,d.y+_))},equals:function(i){return i?(i=fe(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function fe(i,l){return!i||i instanceof J?i:new J(i,l)}function V(i,l){if(i)for(var d=l?[i,l]:i,m=0,_=d.length;m<_;m++)this.extend(d[m])}V.prototype={extend:function(i){var l=this._southWest,d=this._northEast,m,_;if(i instanceof te)m=i,_=i;else if(i instanceof V){if(m=i._southWest,_=i._northEast,!m||!_)return this}else return i?this.extend(oe(i)||ee(i)):this;return!l&&!d?(this._southWest=new te(m.lat,m.lng),this._northEast=new te(_.lat,_.lng)):(l.lat=Math.min(m.lat,l.lat),l.lng=Math.min(m.lng,l.lng),d.lat=Math.max(_.lat,d.lat),d.lng=Math.max(_.lng,d.lng)),this},pad:function(i){var l=this._southWest,d=this._northEast,m=Math.abs(l.lat-d.lat)*i,_=Math.abs(l.lng-d.lng)*i;return new V(new te(l.lat-m,l.lng-_),new te(d.lat+m,d.lng+_))},getCenter:function(){return new te((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new te(this.getNorth(),this.getWest())},getSouthEast:function(){return new te(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof te||"lat"in i?i=oe(i):i=ee(i);var l=this._southWest,d=this._northEast,m,_;return i instanceof V?(m=i.getSouthWest(),_=i.getNorthEast()):m=_=i,m.lat>=l.lat&&_.lat<=d.lat&&m.lng>=l.lng&&_.lng<=d.lng},intersects:function(i){i=ee(i);var l=this._southWest,d=this._northEast,m=i.getSouthWest(),_=i.getNorthEast(),k=_.lat>=l.lat&&m.lat<=d.lat,T=_.lng>=l.lng&&m.lng<=d.lng;return k&&T},overlaps:function(i){i=ee(i);var l=this._southWest,d=this._northEast,m=i.getSouthWest(),_=i.getNorthEast(),k=_.lat>l.lat&&m.lat<d.lat,T=_.lng>l.lng&&m.lng<d.lng;return k&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=ee(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function ee(i,l){return i instanceof V?i:new V(i,l)}function te(i,l,d){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,d!==void 0&&(this.alt=+d)}te.prototype={equals:function(i,l){if(!i)return!1;i=oe(i);var d=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return d<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+x(this.lat,i)+", "+x(this.lng,i)+")"},distanceTo:function(i){return ge.distance(this,oe(i))},wrap:function(){return ge.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,d=l/Math.cos(Math.PI/180*this.lat);return ee([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new te(this.lat,this.lng,this.alt)}};function oe(i,l,d){return i instanceof te?i:N(i)&&typeof i[0]!="object"?i.length===3?new te(i[0],i[1],i[2]):i.length===2?new te(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new te(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new te(i,l,d)}var ne={latLngToPoint:function(i,l){var d=this.projection.project(i),m=this.scale(l);return this.transformation._transform(d,m)},pointToLatLng:function(i,l){var d=this.scale(l),m=this.transformation.untransform(i,d);return this.projection.unproject(m)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(i),m=this.transformation.transform(l.min,d),_=this.transformation.transform(l.max,d);return new J(m,_)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,d=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,m=i.alt;return new te(d,l,m)},wrapLatLngBounds:function(i){var l=i.getCenter(),d=this.wrapLatLng(l),m=l.lat-d.lat,_=l.lng-d.lng;if(m===0&&_===0)return i;var k=i.getSouthWest(),T=i.getNorthEast(),O=new te(k.lat-m,k.lng-_),D=new te(T.lat-m,T.lng-_);return new V(O,D)}},ge=a({},ne,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var d=Math.PI/180,m=i.lat*d,_=l.lat*d,k=Math.sin((l.lat-i.lat)*d/2),T=Math.sin((l.lng-i.lng)*d/2),O=k*k+Math.cos(m)*Math.cos(_)*T*T,D=2*Math.atan2(Math.sqrt(O),Math.sqrt(1-O));return this.R*D}}),ye=6378137,Te={R:ye,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,d=this.MAX_LATITUDE,m=Math.max(Math.min(d,i.lat),-d),_=Math.sin(m*l);return new A(this.R*i.lng*l,this.R*Math.log((1+_)/(1-_))/2)},unproject:function(i){var l=180/Math.PI;return new te((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:function(){var i=ye*Math.PI;return new J([-i,-i],[i,i])}()};function Ae(i,l,d,m){if(N(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=d,this._d=m}Ae.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new A((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function Me(i,l,d,m){return new Ae(i,l,d,m)}var it=a({},ge,{code:"EPSG:3857",projection:Te,transformation:function(){var i=.5/(Math.PI*Te.R);return Me(i,.5,-i,.5)}()}),It=a({},it,{code:"EPSG:900913"});function In(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function On(i,l){var d="",m,_,k,T,O,D;for(m=0,k=i.length;m<k;m++){for(O=i[m],_=0,T=O.length;_<T;_++)D=O[_],d+=(_?"L":"M")+D.x+" "+D.y;d+=l?de.svg?"z":"x":""}return d||"M0 0"}var mn=document.documentElement.style,Si="ActiveXObject"in window,Ci=Si&&!document.addEventListener,Ha="msLaunchUri"in navigator&&!("documentMode"in document),xo=Dn("webkit"),Y=Dn("android"),Ve=Dn("android 2")||Dn("android 3"),me=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),zn=Y&&Dn("Google")&&me<537&&!("AudioNode"in window),Ua=!!window.opera,yo=!Ha&&Dn("chrome"),_o=Dn("gecko")&&!xo&&!Ua&&!Si,$a=!yo&&Dn("safari"),yu=Dn("phantom"),Um="OTransition"in mn,Hb=navigator.platform.indexOf("Win")===0,$m=Si&&"transition"in mn,_u="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!Ve,Zm="MozPerspective"in mn,Ub=!window.L_DISABLE_3D&&($m||_u||Zm)&&!Um&&!yu,wo=typeof orientation<"u"||Dn("mobile"),$b=wo&&xo,Zb=wo&&_u,Wm=!window.PointerEvent&&window.MSPointerEvent,Gm=!!(window.PointerEvent||Wm),Km="ontouchstart"in window||!!window.TouchEvent,Wb=!window.L_NO_TOUCH&&(Km||Gm),Gb=wo&&Ua,Kb=wo&&_o,qb=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Qb=function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",p,l),window.removeEventListener("testPassiveEventSupport",p,l)}catch{}return i}(),Yb=function(){return!!document.createElement("canvas").getContext}(),wu=!!(document.createElementNS&&In("svg").createSVGRect),Xb=!!wu&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Jb=!wu&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),ej=navigator.platform.indexOf("Mac")===0,tj=navigator.platform.indexOf("Linux")===0;function Dn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var de={ie:Si,ielt9:Ci,edge:Ha,webkit:xo,android:Y,android23:Ve,androidStock:zn,opera:Ua,chrome:yo,gecko:_o,safari:$a,phantom:yu,opera12:Um,win:Hb,ie3d:$m,webkit3d:_u,gecko3d:Zm,any3d:Ub,mobile:wo,mobileWebkit:$b,mobileWebkit3d:Zb,msPointer:Wm,pointer:Gm,touch:Wb,touchNative:Km,mobileOpera:Gb,mobileGecko:Kb,retina:qb,passiveEvents:Qb,canvas:Yb,svg:wu,vml:Jb,inlineSvg:Xb,mac:ej,linux:tj},qm=de.msPointer?"MSPointerDown":"pointerdown",Qm=de.msPointer?"MSPointerMove":"pointermove",Ym=de.msPointer?"MSPointerUp":"pointerup",Xm=de.msPointer?"MSPointerCancel":"pointercancel",bu={touchstart:qm,touchmove:Qm,touchend:Ym,touchcancel:Xm},Jm={touchstart:aj,touchmove:Za,touchend:Za,touchcancel:Za},Jr={},ep=!1;function nj(i,l,d){return l==="touchstart"&&oj(),Jm[l]?(d=Jm[l].bind(this,d),i.addEventListener(bu[l],d,!1),d):(console.warn("wrong event specified:",l),p)}function ij(i,l,d){if(!bu[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(bu[l],d,!1)}function rj(i){Jr[i.pointerId]=i}function sj(i){Jr[i.pointerId]&&(Jr[i.pointerId]=i)}function tp(i){delete Jr[i.pointerId]}function oj(){ep||(document.addEventListener(qm,rj,!0),document.addEventListener(Qm,sj,!0),document.addEventListener(Ym,tp,!0),document.addEventListener(Xm,tp,!0),ep=!0)}function Za(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in Jr)l.touches.push(Jr[d]);l.changedTouches=[l],i(l)}}function aj(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&mt(l),Za(i,l)}function lj(i){var l={},d,m;for(m in i)d=i[m],l[m]=d&&d.bind?d.bind(i):d;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var cj=200;function uj(i,l){i.addEventListener("dblclick",l);var d=0,m;function _(k){if(k.detail!==1){m=k.detail;return}if(!(k.pointerType==="mouse"||k.sourceCapabilities&&!k.sourceCapabilities.firesTouchEvents)){var T=op(k);if(!(T.some(function(D){return D instanceof HTMLLabelElement&&D.attributes.for})&&!T.some(function(D){return D instanceof HTMLInputElement||D instanceof HTMLSelectElement}))){var O=Date.now();O-d<=cj?(m++,m===2&&l(lj(k))):m=1,d=O}}}return i.addEventListener("click",_),{dblclick:l,simDblclick:_}}function dj(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var ju=Ka(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),bo=Ka(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),np=bo==="webkitTransition"||bo==="OTransition"?bo+"End":"transitionend";function ip(i){return typeof i=="string"?document.getElementById(i):i}function jo(i,l){var d=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var m=document.defaultView.getComputedStyle(i,null);d=m?m[l]:null}return d==="auto"?null:d}function ze(i,l,d){var m=document.createElement(i);return m.className=l||"",d&&d.appendChild(m),m}function qe(i){var l=i.parentNode;l&&l.removeChild(i)}function Wa(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function es(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function ts(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function Nu(i,l){if(i.classList!==void 0)return i.classList.contains(l);var d=Ga(i);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function Ce(i,l){if(i.classList!==void 0)for(var d=C(l),m=0,_=d.length;m<_;m++)i.classList.add(d[m]);else if(!Nu(i,l)){var k=Ga(i);Su(i,(k?k+" ":"")+l)}}function tt(i,l){i.classList!==void 0?i.classList.remove(l):Su(i,b((" "+Ga(i)+" ").replace(" "+l+" "," ")))}function Su(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function Ga(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function tn(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&hj(i,l)}function hj(i,l){var d=!1,m="DXImageTransform.Microsoft.Alpha";try{d=i.filters.item(m)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):i.style.filter+=" progid:"+m+"(opacity="+l+")"}function Ka(i){for(var l=document.documentElement.style,d=0;d<i.length;d++)if(i[d]in l)return i[d];return!1}function vr(i,l,d){var m=l||new A(0,0);i.style[ju]=(de.ie3d?"translate("+m.x+"px,"+m.y+"px)":"translate3d("+m.x+"px,"+m.y+"px,0)")+(d?" scale("+d+")":"")}function rt(i,l){i._leaflet_pos=l,de.any3d?vr(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function xr(i){return i._leaflet_pos||new A(0,0)}var No,So,Cu;if("onselectstart"in document)No=function(){Ne(window,"selectstart",mt)},So=function(){Ue(window,"selectstart",mt)};else{var Co=Ka(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);No=function(){if(Co){var i=document.documentElement.style;Cu=i[Co],i[Co]="none"}},So=function(){Co&&(document.documentElement.style[Co]=Cu,Cu=void 0)}}function ku(){Ne(window,"dragstart",mt)}function Pu(){Ue(window,"dragstart",mt)}var qa,Lu;function Eu(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Qa(),qa=i,Lu=i.style.outlineStyle,i.style.outlineStyle="none",Ne(window,"keydown",Qa))}function Qa(){qa&&(qa.style.outlineStyle=Lu,qa=void 0,Lu=void 0,Ue(window,"keydown",Qa))}function rp(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function Tu(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var fj={__proto__:null,TRANSFORM:ju,TRANSITION:bo,TRANSITION_END:np,get:ip,getStyle:jo,create:ze,remove:qe,empty:Wa,toFront:es,toBack:ts,hasClass:Nu,addClass:Ce,removeClass:tt,setClass:Su,getClass:Ga,setOpacity:tn,testProp:Ka,setTransform:vr,setPosition:rt,getPosition:xr,get disableTextSelection(){return No},get enableTextSelection(){return So},disableImageDrag:ku,enableImageDrag:Pu,preventOutline:Eu,restoreOutline:Qa,getSizedParentNode:rp,getScale:Tu};function Ne(i,l,d,m){if(l&&typeof l=="object")for(var _ in l)Ru(i,_,l[_],d);else{l=C(l);for(var k=0,T=l.length;k<T;k++)Ru(i,l[k],d,m)}return this}var Fn="_leaflet_events";function Ue(i,l,d,m){if(arguments.length===1)sp(i),delete i[Fn];else if(l&&typeof l=="object")for(var _ in l)Au(i,_,l[_],d);else if(l=C(l),arguments.length===2)sp(i,function(O){return P(l,O)!==-1});else for(var k=0,T=l.length;k<T;k++)Au(i,l[k],d,m);return this}function sp(i,l){for(var d in i[Fn]){var m=d.split(/\d/)[0];(!l||l(m))&&Au(i,m,null,null,d)}}var Mu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function Ru(i,l,d,m){var _=l+h(d)+(m?"_"+h(m):"");if(i[Fn]&&i[Fn][_])return this;var k=function(O){return d.call(m||i,O||window.event)},T=k;!de.touchNative&&de.pointer&&l.indexOf("touch")===0?k=nj(i,l,k):de.touch&&l==="dblclick"?k=uj(i,k):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(Mu[l]||l,k,de.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(k=function(O){O=O||window.event,Ou(i,O)&&T(O)},i.addEventListener(Mu[l],k,!1)):i.addEventListener(l,T,!1):i.attachEvent("on"+l,k),i[Fn]=i[Fn]||{},i[Fn][_]=k}function Au(i,l,d,m,_){_=_||l+h(d)+(m?"_"+h(m):"");var k=i[Fn]&&i[Fn][_];if(!k)return this;!de.touchNative&&de.pointer&&l.indexOf("touch")===0?ij(i,l,k):de.touch&&l==="dblclick"?dj(i,k):"removeEventListener"in i?i.removeEventListener(Mu[l]||l,k,!1):i.detachEvent("on"+l,k),i[Fn][_]=null}function yr(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function Iu(i){return Ru(i,"wheel",yr),this}function ko(i){return Ne(i,"mousedown touchstart dblclick contextmenu",yr),i._leaflet_disable_click=!0,this}function mt(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function _r(i){return mt(i),yr(i),this}function op(i){if(i.composedPath)return i.composedPath();for(var l=[],d=i.target;d;)l.push(d),d=d.parentNode;return l}function ap(i,l){if(!l)return new A(i.clientX,i.clientY);var d=Tu(l),m=d.boundingClientRect;return new A((i.clientX-m.left)/d.x-l.clientLeft,(i.clientY-m.top)/d.y-l.clientTop)}var mj=de.linux&&de.chrome?window.devicePixelRatio:de.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function lp(i){return de.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/mj:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function Ou(i,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==i;)d=d.parentNode}catch{return!1}return d!==i}var pj={__proto__:null,on:Ne,off:Ue,stopPropagation:yr,disableScrollPropagation:Iu,disableClickPropagation:ko,preventDefault:mt,stop:_r,getPropagationPath:op,getMousePosition:ap,getWheelDelta:lp,isExternalTarget:Ou,addListener:Ne,removeListener:Ue},cp=ie.extend({run:function(i,l,d,m){this.stop(),this._el=i,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(m||.5,.2),this._startPos=xr(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=H(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var d=this._startPos.add(this._offset.multiplyBy(i));l&&d._round(),rt(this._el,d),this.fire("step")},_complete:function(){B(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Ie=ie.extend({options:{crs:it,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=v(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(oe(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=bo&&de.any3d&&!de.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),Ne(this._proxy,np,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(oe(i),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=a({animate:d.animate},d.zoom),d.pan=a({animate:d.animate,duration:d.duration},d.pan));var m=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,d.zoom):this._tryAnimatedPan(i,d.pan);if(m)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(de.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(de.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,d){var m=this.getZoomScale(l),_=this.getSize().divideBy(2),k=i instanceof A?i:this.latLngToContainerPoint(i),T=k.subtract(_).multiplyBy(1-1/m),O=this.containerPointToLatLng(_.add(T));return this.setView(O,l,{zoom:d})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():ee(i);var d=F(l.paddingTopLeft||l.padding||[0,0]),m=F(l.paddingBottomRight||l.padding||[0,0]),_=this.getBoundsZoom(i,!1,d.add(m));if(_=typeof l.maxZoom=="number"?Math.min(l.maxZoom,_):_,_===1/0)return{center:i.getCenter(),zoom:_};var k=m.subtract(d).divideBy(2),T=this.project(i.getSouthWest(),_),O=this.project(i.getNorthEast(),_),D=this.unproject(T.add(O).divideBy(2).add(k),_);return{center:D,zoom:_}},fitBounds:function(i,l){if(i=ee(i),!i.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(i,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=F(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new cp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){Ce(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,d){if(d=d||{},d.animate===!1||!de.any3d)return this.setView(i,l,d);this._stop();var m=this.project(this.getCenter()),_=this.project(i),k=this.getSize(),T=this._zoom;i=oe(i),l=l===void 0?T:l;var O=Math.max(k.x,k.y),D=O*this.getZoomScale(T,l),W=_.distanceTo(m)||1,re=1.42,ve=re*re;function Pe(st){var ll=st?-1:1,iN=st?D:O,rN=D*D-O*O+ll*ve*ve*W*W,sN=2*iN*ve*W,Gu=rN/sN,Up=Math.sqrt(Gu*Gu+1)-Gu,oN=Up<1e-9?-18:Math.log(Up);return oN}function kt(st){return(Math.exp(st)-Math.exp(-st))/2}function dt(st){return(Math.exp(st)+Math.exp(-st))/2}function rn(st){return kt(st)/dt(st)}var Ot=Pe(0);function as(st){return O*(dt(Ot)/dt(Ot+re*st))}function Jj(st){return O*(dt(Ot)*rn(Ot+re*st)-kt(Ot))/ve}function eN(st){return 1-Math.pow(1-st,1.5)}var tN=Date.now(),Vp=(Pe(1)-Ot)/re,nN=d.duration?1e3*d.duration:1e3*Vp*.8;function Hp(){var st=(Date.now()-tN)/nN,ll=eN(st)*Vp;st<=1?(this._flyToFrame=H(Hp,this),this._move(this.unproject(m.add(_.subtract(m).multiplyBy(Jj(ll)/W)),T),this.getScaleZoom(O/as(ll),T),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Hp.call(this),this},flyToBounds:function(i,l){var d=this._getBoundsCenterZoom(i,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(i){return i=ee(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var d=this.getCenter(),m=this._limitCenter(d,this._zoom,ee(i));return d.equals(m)||this.panTo(m,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var d=F(l.paddingTopLeft||l.padding||[0,0]),m=F(l.paddingBottomRight||l.padding||[0,0]),_=this.project(this.getCenter()),k=this.project(i),T=this.getPixelBounds(),O=fe([T.min.add(d),T.max.subtract(m)]),D=O.getSize();if(!O.contains(k)){this._enforcingBounds=!0;var W=k.subtract(O.getCenter()),re=O.extend(k).getSize().subtract(D);_.x+=W.x<0?-re.x:re.x,_.y+=W.y<0?-re.y:re.y,this.panTo(this.unproject(_),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=a({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),m=l.divideBy(2).round(),_=d.divideBy(2).round(),k=m.subtract(_);return!k.x&&!k.y?this:(i.animate&&i.pan?this.panBy(k):(i.pan&&this._rawPanBy(k),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=a({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=c(this._handleGeolocationResponse,this),d=c(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,i):navigator.geolocation.getCurrentPosition(l,d,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,d=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,d=i.coords.longitude,m=new te(l,d),_=m.toBounds(i.coords.accuracy*2),k=this._locateOptions;if(k.setView){var T=this.getBoundsZoom(_);this.setView(m,k.maxZoom?Math.min(T,k.maxZoom):T)}var O={latlng:m,bounds:_,timestamp:i.timestamp};for(var D in i.coords)typeof i.coords[D]=="number"&&(O[D]=i.coords[D]);this.fire("locationfound",O)}},addHandler:function(i,l){if(!l)return this;var d=this[i]=new l(this);return this._handlers.push(d),this.options[i]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),qe(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(B(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)qe(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var d="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),m=ze("div",d,l||this._mapPane);return i&&(this._panes[i]=m),m},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),d=this.unproject(i.getTopRight());return new V(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,d){i=ee(i),d=F(d||[0,0]);var m=this.getZoom()||0,_=this.getMinZoom(),k=this.getMaxZoom(),T=i.getNorthWest(),O=i.getSouthEast(),D=this.getSize().subtract(d),W=fe(this.project(O,m),this.project(T,m)).getSize(),re=de.any3d?this.options.zoomSnap:1,ve=D.x/W.x,Pe=D.y/W.y,kt=l?Math.max(ve,Pe):Math.min(ve,Pe);return m=this.getScaleZoom(kt,m),re&&(m=Math.round(m/(re/100))*(re/100),m=l?Math.ceil(m/re)*re:Math.floor(m/re)*re),Math.max(_,Math.min(k,m))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var d=this._getTopLeftPoint(i,l);return new J(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(i)/d.scale(l)},getScaleZoom:function(i,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var m=d.zoom(i*d.scale(l));return isNaN(m)?1/0:m},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(oe(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng(F(i),l)},layerPointToLatLng:function(i){var l=F(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(oe(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(oe(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(ee(i))},distance:function(i,l){return this.options.crs.distance(oe(i),oe(l))},containerPointToLayerPoint:function(i){return F(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return F(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint(F(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(oe(i)))},mouseEventToContainerPoint:function(i){return ap(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=ip(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");Ne(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&de.any3d,Ce(i,"leaflet-container"+(de.touch?" leaflet-touch":"")+(de.retina?" leaflet-retina":"")+(de.ielt9?" leaflet-oldie":"")+(de.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=jo(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),rt(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(Ce(i.markerPane,"leaflet-zoom-hide"),Ce(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,d){rt(this._mapPane,new A(0,0));var m=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var _=this._zoom!==l;this._moveStart(_,d)._move(i,l)._moveEnd(_),this.fire("viewreset"),m&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,d,m){l===void 0&&(l=this._zoom);var _=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),m?d&&d.pinch&&this.fire("zoom",d):((_||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return B(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){rt(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[h(this._container)]=this;var l=i?Ue:Ne;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),de.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){B(this._resizeRequest),this._resizeRequest=H(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var d=[],m,_=l==="mouseout"||l==="mouseover",k=i.target||i.srcElement,T=!1;k;){if(m=this._targets[h(k)],m&&(l==="click"||l==="preclick")&&this._draggableMoved(m)){T=!0;break}if(m&&m.listens(l,!0)&&(_&&!Ou(k,i)||(d.push(m),_))||k===this._container)break;k=k.parentNode}return!d.length&&!T&&!_&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var d=i.type;d==="mousedown"&&Eu(l),this._fireDOMEvent(i,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,d){if(i.type==="click"){var m=a({},i);m.type="preclick",this._fireDOMEvent(m,m.type,d)}var _=this._findEventTargets(i,l);if(d){for(var k=[],T=0;T<d.length;T++)d[T].listens(l,!0)&&k.push(d[T]);_=k.concat(_)}if(_.length){l==="contextmenu"&&mt(i);var O=_[0],D={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var W=O.getLatLng&&(!O._radius||O._radius<=10);D.containerPoint=W?this.latLngToContainerPoint(O.getLatLng()):this.mouseEventToContainerPoint(i),D.layerPoint=this.containerPointToLayerPoint(D.containerPoint),D.latlng=W?O.getLatLng():this.layerPointToLatLng(D.layerPoint)}for(T=0;T<_.length;T++)if(_[T].fire(l,D,!0),D.originalEvent._stopped||_[T].options.bubblingMouseEvents===!1&&P(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return xr(this._mapPane)||new A(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var d=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var d=this.getSize()._divideBy(2);return this.project(i,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,d){var m=this._getNewPixelOrigin(d,l);return this.project(i,l)._subtract(m)},_latLngBoundsToNewLayerBounds:function(i,l,d){var m=this._getNewPixelOrigin(d,l);return fe([this.project(i.getSouthWest(),l)._subtract(m),this.project(i.getNorthWest(),l)._subtract(m),this.project(i.getSouthEast(),l)._subtract(m),this.project(i.getNorthEast(),l)._subtract(m)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,d){if(!d)return i;var m=this.project(i,l),_=this.getSize().divideBy(2),k=new J(m.subtract(_),m.add(_)),T=this._getBoundsOffset(k,d,l);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?i:this.unproject(m.add(T),l)},_limitOffset:function(i,l){if(!l)return i;var d=this.getPixelBounds(),m=new J(d.min.add(i),d.max.add(i));return i.add(this._getBoundsOffset(m,l))},_getBoundsOffset:function(i,l,d){var m=fe(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),_=m.min.subtract(i.min),k=m.max.subtract(i.max),T=this._rebound(_.x,-k.x),O=this._rebound(_.y,-k.y);return new A(T,O)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),d=this.getMaxZoom(),m=de.any3d?this.options.zoomSnap:1;return m&&(i=Math.round(i/m)*m),Math.max(l,Math.min(d,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){tt(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var d=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var i=this._proxy=ze("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var d=ju,m=this._proxy.style[d];vr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),m===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){qe(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();vr(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var m=this.getZoomScale(l),_=this._getCenterOffset(i)._divideBy(1-1/m);return d.animate!==!0&&!this.getSize().contains(_)?!1:(H(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,d,m){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,Ce(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:m}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&tt(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function gj(i,l){return new Ie(i,l)}var pn=Z.extend({options:{position:"topright"},initialize:function(i){v(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),d=this.getPosition(),m=i._controlCorners[d];return Ce(l,"leaflet-control"),d.indexOf("bottom")!==-1?m.insertBefore(l,m.firstChild):m.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(qe(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),Po=function(i){return new pn(i)};Ie.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",d=this._controlContainer=ze("div",l+"control-container",this._container);function m(_,k){var T=l+_+" "+l+k;i[_+k]=ze("div",T,d)}m("top","left"),m("top","right"),m("bottom","left"),m("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)qe(this._controlCorners[i]);qe(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var up=pn.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,d,m){return d<m?-1:m<d?1:0}},initialize:function(i,l,d){v(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var m in i)this._addLayer(i[m],m);for(m in l)this._addLayer(l[m],m,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return pn.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){Ce(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(Ce(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):tt(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return tt(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=ze("div",i),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ko(l),Iu(l);var m=this._section=ze("section",i+"-list");d&&(this._map.on("click",this.collapse,this),Ne(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var _=this._layersLink=ze("a",i+"-toggle",l);_.href="#",_.title="Layers",_.setAttribute("role","button"),Ne(_,{keydown:function(k){k.keyCode===13&&this._expandSafely()},click:function(k){mt(k),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=ze("div",i+"-base",m),this._separator=ze("div",i+"-separator",m),this._overlaysList=ze("div",i+"-overlays",m),l.appendChild(m)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,d){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(c(function(m,_){return this.options.sortFunction(m.layer,_.layer,m.name,_.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;Wa(this._baseLayersList),Wa(this._overlaysList),this._layerControlInputs=[];var i,l,d,m,_=0;for(d=0;d<this._layers.length;d++)m=this._layers[d],this._addItem(m),l=l||m.overlay,i=i||!m.overlay,_+=m.overlay?0:1;return this.options.hideSingleBase&&(i=i&&_>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(h(i.target)),d=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(i,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",m=document.createElement("div");return m.innerHTML=d,m.firstChild},_addItem:function(i){var l=document.createElement("label"),d=this._map.hasLayer(i.layer),m;i.overlay?(m=document.createElement("input"),m.type="checkbox",m.className="leaflet-control-layers-selector",m.defaultChecked=d):m=this._createRadioElement("leaflet-base-layers_"+h(this),d),this._layerControlInputs.push(m),m.layerId=h(i.layer),Ne(m,"click",this._onInputClick,this);var _=document.createElement("span");_.innerHTML=" "+i.name;var k=document.createElement("span");l.appendChild(k),k.appendChild(m),k.appendChild(_);var T=i.overlay?this._overlaysList:this._baseLayersList;return T.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,d,m=[],_=[];this._handlingClick=!0;for(var k=i.length-1;k>=0;k--)l=i[k],d=this._getLayer(l.layerId).layer,l.checked?m.push(d):l.checked||_.push(d);for(k=0;k<_.length;k++)this._map.hasLayer(_[k])&&this._map.removeLayer(_[k]);for(k=0;k<m.length;k++)this._map.hasLayer(m[k])||this._map.addLayer(m[k]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,d,m=this._map.getZoom(),_=i.length-1;_>=0;_--)l=i[_],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&m<d.options.minZoom||d.options.maxZoom!==void 0&&m>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,Ne(i,"click",mt),this.expand();var l=this;setTimeout(function(){Ue(i,"click",mt),l._preventClick=!1})}}),vj=function(i,l,d){return new up(i,l,d)},zu=pn.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",d=ze("div",l+" leaflet-bar"),m=this.options;return this._zoomInButton=this._createButton(m.zoomInText,m.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(m.zoomOutText,m.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,d,m,_){var k=ze("a",d,m);return k.innerHTML=i,k.href="#",k.title=l,k.setAttribute("role","button"),k.setAttribute("aria-label",l),ko(k),Ne(k,"click",_r),Ne(k,"click",_,this),Ne(k,"click",this._refocusOnMap,this),k},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";tt(this._zoomInButton,l),tt(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(Ce(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(Ce(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Ie.mergeOptions({zoomControl:!0}),Ie.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new zu,this.addControl(this.zoomControl))});var xj=function(i){return new zu(i)},dp=pn.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",d=ze("div",l),m=this.options;return this._addScales(m,l+"-line",d),i.on(m.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),d},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,d){i.metric&&(this._mScale=ze("div",l,d)),i.imperial&&(this._iScale=ze("div",l,d))},_update:function(){var i=this._map,l=i.getSize().y/2,d=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/i)},_updateImperial:function(i){var l=i*3.2808399,d,m,_;l>5280?(d=l/5280,m=this._getRoundNum(d),this._updateScale(this._iScale,m+" mi",m/d)):(_=this._getRoundNum(l),this._updateScale(this._iScale,_+" ft",_/l))},_updateScale:function(i,l,d){i.style.width=Math.round(this.options.maxWidth*d)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),d=i/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),yj=function(i){return new dp(i)},_j='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',Du=pn.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(de.inlineSvg?_j+" ":"")+"Leaflet</a>"},initialize:function(i){v(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=ze("div","leaflet-control-attribution"),ko(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),i.length&&d.push(i.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Ie.mergeOptions({attributionControl:!0}),Ie.addInitHook(function(){this.options.attributionControl&&new Du().addTo(this)});var wj=function(i){return new Du(i)};pn.Layers=up,pn.Zoom=zu,pn.Scale=dp,pn.Attribution=Du,Po.layers=vj,Po.zoom=xj,Po.scale=yj,Po.attribution=wj;var Bn=Z.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});Bn.addTo=function(i,l){return i.addHandler(l,this),this};var bj={Events:K},hp=de.touch?"touchstart mousedown":"mousedown",ki=ie.extend({options:{clickTolerance:3},initialize:function(i,l,d,m){v(this,m),this._element=i,this._dragStartTarget=l||i,this._preventOutline=d},enable:function(){this._enabled||(Ne(this._dragStartTarget,hp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(ki._dragging===this&&this.finishDrag(!0),Ue(this._dragStartTarget,hp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!Nu(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){ki._dragging===this&&this.finishDrag();return}if(!(ki._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(ki._dragging=this,this._preventOutline&&Eu(this._element),ku(),No(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,d=rp(this._element);this._startPoint=new A(l.clientX,l.clientY),this._startPos=xr(this._element),this._parentScale=Tu(d);var m=i.type==="mousedown";Ne(document,m?"mousemove":"touchmove",this._onMove,this),Ne(document,m?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,d=new A(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,mt(i),this._moved||(this.fire("dragstart"),this._moved=!0,Ce(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),Ce(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),rt(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){tt(document.body,"leaflet-dragging"),this._lastTarget&&(tt(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),Ue(document,"mousemove touchmove",this._onMove,this),Ue(document,"mouseup touchend touchcancel",this._onUp,this),Pu(),So();var l=this._moved&&this._moving;this._moving=!1,ki._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function fp(i,l,d){var m,_=[1,4,2,8],k,T,O,D,W,re,ve,Pe;for(k=0,re=i.length;k<re;k++)i[k]._code=wr(i[k],l);for(O=0;O<4;O++){for(ve=_[O],m=[],k=0,re=i.length,T=re-1;k<re;T=k++)D=i[k],W=i[T],D._code&ve?W._code&ve||(Pe=Ya(W,D,ve,l,d),Pe._code=wr(Pe,l),m.push(Pe)):(W._code&ve&&(Pe=Ya(W,D,ve,l,d),Pe._code=wr(Pe,l),m.push(Pe)),m.push(D));i=m}return i}function mp(i,l){var d,m,_,k,T,O,D,W,re;if(!i||i.length===0)throw new Error("latlngs not passed");nn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var ve=oe([0,0]),Pe=ee(i),kt=Pe.getNorthWest().distanceTo(Pe.getSouthWest())*Pe.getNorthEast().distanceTo(Pe.getNorthWest());kt<1700&&(ve=Fu(i));var dt=i.length,rn=[];for(d=0;d<dt;d++){var Ot=oe(i[d]);rn.push(l.project(oe([Ot.lat-ve.lat,Ot.lng-ve.lng])))}for(O=D=W=0,d=0,m=dt-1;d<dt;m=d++)_=rn[d],k=rn[m],T=_.y*k.x-k.y*_.x,D+=(_.x+k.x)*T,W+=(_.y+k.y)*T,O+=T*3;O===0?re=rn[0]:re=[D/O,W/O];var as=l.unproject(F(re));return oe([as.lat+ve.lat,as.lng+ve.lng])}function Fu(i){for(var l=0,d=0,m=0,_=0;_<i.length;_++){var k=oe(i[_]);l+=k.lat,d+=k.lng,m++}return oe([l/m,d/m])}var jj={__proto__:null,clipPolygon:fp,polygonCenter:mp,centroid:Fu};function pp(i,l){if(!l||!i.length)return i.slice();var d=l*l;return i=Cj(i,d),i=Sj(i,d),i}function gp(i,l,d){return Math.sqrt(Lo(i,l,d,!0))}function Nj(i,l,d){return Lo(i,l,d)}function Sj(i,l){var d=i.length,m=typeof Uint8Array<"u"?Uint8Array:Array,_=new m(d);_[0]=_[d-1]=1,Bu(i,_,l,0,d-1);var k,T=[];for(k=0;k<d;k++)_[k]&&T.push(i[k]);return T}function Bu(i,l,d,m,_){var k=0,T,O,D;for(O=m+1;O<=_-1;O++)D=Lo(i[O],i[m],i[_],!0),D>k&&(T=O,k=D);k>d&&(l[T]=1,Bu(i,l,d,m,T),Bu(i,l,d,T,_))}function Cj(i,l){for(var d=[i[0]],m=1,_=0,k=i.length;m<k;m++)kj(i[m],i[_])>l&&(d.push(i[m]),_=m);return _<k-1&&d.push(i[k-1]),d}var vp;function xp(i,l,d,m,_){var k=m?vp:wr(i,d),T=wr(l,d),O,D,W;for(vp=T;;){if(!(k|T))return[i,l];if(k&T)return!1;O=k||T,D=Ya(i,l,O,d,_),W=wr(D,d),O===k?(i=D,k=W):(l=D,T=W)}}function Ya(i,l,d,m,_){var k=l.x-i.x,T=l.y-i.y,O=m.min,D=m.max,W,re;return d&8?(W=i.x+k*(D.y-i.y)/T,re=D.y):d&4?(W=i.x+k*(O.y-i.y)/T,re=O.y):d&2?(W=D.x,re=i.y+T*(D.x-i.x)/k):d&1&&(W=O.x,re=i.y+T*(O.x-i.x)/k),new A(W,re,_)}function wr(i,l){var d=0;return i.x<l.min.x?d|=1:i.x>l.max.x&&(d|=2),i.y<l.min.y?d|=4:i.y>l.max.y&&(d|=8),d}function kj(i,l){var d=l.x-i.x,m=l.y-i.y;return d*d+m*m}function Lo(i,l,d,m){var _=l.x,k=l.y,T=d.x-_,O=d.y-k,D=T*T+O*O,W;return D>0&&(W=((i.x-_)*T+(i.y-k)*O)/D,W>1?(_=d.x,k=d.y):W>0&&(_+=T*W,k+=O*W)),T=i.x-_,O=i.y-k,m?T*T+O*O:new A(_,k)}function nn(i){return!N(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function yp(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),nn(i)}function _p(i,l){var d,m,_,k,T,O,D,W;if(!i||i.length===0)throw new Error("latlngs not passed");nn(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var re=oe([0,0]),ve=ee(i),Pe=ve.getNorthWest().distanceTo(ve.getSouthWest())*ve.getNorthEast().distanceTo(ve.getNorthWest());Pe<1700&&(re=Fu(i));var kt=i.length,dt=[];for(d=0;d<kt;d++){var rn=oe(i[d]);dt.push(l.project(oe([rn.lat-re.lat,rn.lng-re.lng])))}for(d=0,m=0;d<kt-1;d++)m+=dt[d].distanceTo(dt[d+1])/2;if(m===0)W=dt[0];else for(d=0,k=0;d<kt-1;d++)if(T=dt[d],O=dt[d+1],_=T.distanceTo(O),k+=_,k>m){D=(k-m)/_,W=[O.x-D*(O.x-T.x),O.y-D*(O.y-T.y)];break}var Ot=l.unproject(F(W));return oe([Ot.lat+re.lat,Ot.lng+re.lng])}var Pj={__proto__:null,simplify:pp,pointToSegmentDistance:gp,closestPointOnSegment:Nj,clipSegment:xp,_getEdgeIntersection:Ya,_getBitCode:wr,_sqClosestPointOnSegment:Lo,isFlat:nn,_flat:yp,polylineCenter:_p},Vu={project:function(i){return new A(i.lng,i.lat)},unproject:function(i){return new te(i.y,i.x)},bounds:new J([-180,-90],[180,90])},Hu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new J([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,d=this.R,m=i.lat*l,_=this.R_MINOR/d,k=Math.sqrt(1-_*_),T=k*Math.sin(m),O=Math.tan(Math.PI/4-m/2)/Math.pow((1-T)/(1+T),k/2);return m=-d*Math.log(Math.max(O,1e-10)),new A(i.lng*l*d,m)},unproject:function(i){for(var l=180/Math.PI,d=this.R,m=this.R_MINOR/d,_=Math.sqrt(1-m*m),k=Math.exp(-i.y/d),T=Math.PI/2-2*Math.atan(k),O=0,D=.1,W;O<15&&Math.abs(D)>1e-7;O++)W=_*Math.sin(T),W=Math.pow((1-W)/(1+W),_/2),D=Math.PI/2-2*Math.atan(k*W)-T,T+=D;return new te(T*l,i.x*l/d)}},Lj={__proto__:null,LonLat:Vu,Mercator:Hu,SphericalMercator:Te},Ej=a({},ge,{code:"EPSG:3395",projection:Hu,transformation:function(){var i=.5/(Math.PI*Hu.R);return Me(i,.5,-i,.5)}()}),wp=a({},ge,{code:"EPSG:4326",projection:Vu,transformation:Me(1/180,1,-1/180,.5)}),Tj=a({},ne,{projection:Vu,transformation:Me(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var d=l.lng-i.lng,m=l.lat-i.lat;return Math.sqrt(d*d+m*m)},infinite:!0});ne.Earth=ge,ne.EPSG3395=Ej,ne.EPSG3857=it,ne.EPSG900913=It,ne.EPSG4326=wp,ne.Simple=Tj;var gn=ie.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[h(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[h(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Ie.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=h(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return h(i)in this._layers},eachLayer:function(i,l){for(var d in this._layers)i.call(l,this._layers[d]);return this},_addLayers:function(i){i=i?N(i)?i:[i]:[];for(var l=0,d=i.length;l<d;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[h(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=h(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,d=this._getZoomSpan();for(var m in this._zoomBoundLayers){var _=this._zoomBoundLayers[m].options;i=_.minZoom===void 0?i:Math.min(i,_.minZoom),l=_.maxZoom===void 0?l:Math.max(l,_.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var ns=gn.extend({initialize:function(i,l){v(this,l),this._layers={};var d,m;if(i)for(d=0,m=i.length;d<m;d++)this.addLayer(i[d])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),d,m;for(d in this._layers)m=this._layers[d],m[i]&&m[i].apply(m,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var d in this._layers)i.call(l,this._layers[d]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return h(i)}}),Mj=function(i,l){return new ns(i,l)},ti=ns.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),ns.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),ns.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new V;for(var l in this._layers){var d=this._layers[l];i.extend(d.getBounds?d.getBounds():d.getLatLng())}return i}}),Rj=function(i,l){return new ti(i,l)},is=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){v(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var d=this._getIconUrl(i);if(!d){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var m=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(m,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(m.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),m},_setIconStyles:function(i,l){var d=this.options,m=d[l+"Size"];typeof m=="number"&&(m=[m,m]);var _=F(m),k=F(l==="shadow"&&d.shadowAnchor||d.iconAnchor||_&&_.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(d.className||""),k&&(i.style.marginLeft=-k.x+"px",i.style.marginTop=-k.y+"px"),_&&(i.style.width=_.x+"px",i.style.height=_.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return de.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function Aj(i){return new is(i)}var Eo=is.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof Eo.imagePath!="string"&&(Eo.imagePath=this._detectIconPath()),(this.options.imagePath||Eo.imagePath)+is.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(d,m,_){var k=m.exec(d);return k&&k[_]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=ze("div","leaflet-default-icon-path",document.body),l=jo(i,"background-image")||jo(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),bp=Bn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new ki(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),Ce(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&tt(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,d=l._map,m=this._marker.options.autoPanSpeed,_=this._marker.options.autoPanPadding,k=xr(l._icon),T=d.getPixelBounds(),O=d.getPixelOrigin(),D=fe(T.min._subtract(O).add(_),T.max._subtract(O).subtract(_));if(!D.contains(k)){var W=F((Math.max(D.max.x,k.x)-D.max.x)/(T.max.x-D.max.x)-(Math.min(D.min.x,k.x)-D.min.x)/(T.min.x-D.min.x),(Math.max(D.max.y,k.y)-D.max.y)/(T.max.y-D.max.y)-(Math.min(D.min.y,k.y)-D.min.y)/(T.min.y-D.min.y)).multiplyBy(m);d.panBy(W,{animate:!1}),this._draggable._newPos._add(W),this._draggable._startPos._add(W),rt(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=H(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(B(this._panRequest),this._panRequest=H(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,d=l._shadow,m=xr(l._icon),_=l._map.layerPointToLatLng(m);d&&rt(d,m),l._latlng=_,i.latlng=_,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){B(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Xa=gn.extend({options:{icon:new Eo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){v(this,l),this._latlng=oe(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=oe(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=i.icon.createIcon(this._icon),m=!1;d!==this._icon&&(this._icon&&this._removeIcon(),m=!0,i.title&&(d.title=i.title),d.tagName==="IMG"&&(d.alt=i.alt||"")),Ce(d,l),i.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ne(d,"focus",this._panOnFocus,this);var _=i.icon.createShadow(this._shadow),k=!1;_!==this._shadow&&(this._removeShadow(),k=!0),_&&(Ce(_,l),_.alt=""),this._shadow=_,i.opacity<1&&this._updateOpacity(),m&&this.getPane().appendChild(this._icon),this._initInteraction(),_&&k&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&Ue(this._icon,"focus",this._panOnFocus,this),qe(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&qe(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&rt(this._icon,i),this._shadow&&rt(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(Ce(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),bp)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new bp(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&tn(this._icon,i),this._shadow&&tn(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,d=l.iconSize?F(l.iconSize):F(0,0),m=l.iconAnchor?F(l.iconAnchor):F(0,0);i.panInside(this._latlng,{paddingTopLeft:m,paddingBottomRight:d.subtract(m)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function Ij(i,l){return new Xa(i,l)}var Pi=gn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return v(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ja=Pi.extend({options:{fill:!0,radius:10},initialize:function(i,l){v(this,l),this._latlng=oe(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=oe(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return Pi.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,d=this._clickTolerance(),m=[i+d,l+d];this._pxBounds=new J(this._point.subtract(m),this._point.add(m))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function Oj(i,l){return new Ja(i,l)}var Uu=Ja.extend({initialize:function(i,l,d){if(typeof l=="number"&&(l=a({},d,{radius:l})),v(this,l),this._latlng=oe(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new V(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:Pi.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,d=this._map,m=d.options.crs;if(m.distance===ge.distance){var _=Math.PI/180,k=this._mRadius/ge.R/_,T=d.project([l+k,i]),O=d.project([l-k,i]),D=T.add(O).divideBy(2),W=d.unproject(D).lat,re=Math.acos((Math.cos(k*_)-Math.sin(l*_)*Math.sin(W*_))/(Math.cos(l*_)*Math.cos(W*_)))/_;(isNaN(re)||re===0)&&(re=k/Math.cos(Math.PI/180*l)),this._point=D.subtract(d.getPixelOrigin()),this._radius=isNaN(re)?0:D.x-d.project([W,i-re]).x,this._radiusY=D.y-T.y}else{var ve=m.unproject(m.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(ve).x}this._updateBounds()}});function zj(i,l,d){return new Uu(i,l,d)}var ni=Pi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){v(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,d=null,m=Lo,_,k,T=0,O=this._parts.length;T<O;T++)for(var D=this._parts[T],W=1,re=D.length;W<re;W++){_=D[W-1],k=D[W];var ve=m(i,_,k,!0);ve<l&&(l=ve,d=m(i,_,k))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return _p(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=oe(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new V,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return nn(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],d=nn(i),m=0,_=i.length;m<_;m++)d?(l[m]=oe(i[m]),this._bounds.extend(l[m])):l[m]=this._convertLatLngs(i[m]);return l},_project:function(){var i=new J;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new A(i,i);this._rawPxBounds&&(this._pxBounds=new J([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,d){var m=i[0]instanceof te,_=i.length,k,T;if(m){for(T=[],k=0;k<_;k++)T[k]=this._map.latLngToLayerPoint(i[k]),d.extend(T[k]);l.push(T)}else for(k=0;k<_;k++)this._projectLatlngs(i[k],l,d)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,m,_,k,T,O,D;for(d=0,_=0,k=this._rings.length;d<k;d++)for(D=this._rings[d],m=0,T=D.length;m<T-1;m++)O=xp(D[m],D[m+1],i,m,!0),O&&(l[_]=l[_]||[],l[_].push(O[0]),(O[1]!==D[m+1]||m===T-2)&&(l[_].push(O[1]),_++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,d=0,m=i.length;d<m;d++)i[d]=pp(i[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var d,m,_,k,T,O,D=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(d=0,k=this._parts.length;d<k;d++)for(O=this._parts[d],m=0,T=O.length,_=T-1;m<T;_=m++)if(!(!l&&m===0)&&gp(i,O[_],O[m])<=D)return!0;return!1}});function Dj(i,l){return new ni(i,l)}ni._flat=yp;var rs=ni.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return mp(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=ni.prototype._convertLatLngs.call(this,i),d=l.length;return d>=2&&l[0]instanceof te&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(i){ni.prototype._setLatLngs.call(this,i),nn(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return nn(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,d=new A(l,l);if(i=new J(i.min.subtract(d),i.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var m=0,_=this._rings.length,k;m<_;m++)k=fp(this._rings[m],i,!0),k.length&&this._parts.push(k)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,d,m,_,k,T,O,D,W;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(k=0,D=this._parts.length;k<D;k++)for(d=this._parts[k],T=0,W=d.length,O=W-1;T<W;O=T++)m=d[T],_=d[O],m.y>i.y!=_.y>i.y&&i.x<(_.x-m.x)*(i.y-m.y)/(_.y-m.y)+m.x&&(l=!l);return l||ni.prototype._containsPoint.call(this,i,!0)}});function Fj(i,l){return new rs(i,l)}var ii=ti.extend({initialize:function(i,l){v(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=N(i)?i:i.features,d,m,_;if(l){for(d=0,m=l.length;d<m;d++)_=l[d],(_.geometries||_.geometry||_.features||_.coordinates)&&this.addData(_);return this}var k=this.options;if(k.filter&&!k.filter(i))return this;var T=el(i,k);return T?(T.feature=il(i),T.defaultOptions=T.options,this.resetStyle(T),k.onEachFeature&&k.onEachFeature(i,T),this.addLayer(T)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=a({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function el(i,l){var d=i.type==="Feature"?i.geometry:i,m=d?d.coordinates:null,_=[],k=l&&l.pointToLayer,T=l&&l.coordsToLatLng||$u,O,D,W,re;if(!m&&!d)return null;switch(d.type){case"Point":return O=T(m),jp(k,i,O,l);case"MultiPoint":for(W=0,re=m.length;W<re;W++)O=T(m[W]),_.push(jp(k,i,O,l));return new ti(_);case"LineString":case"MultiLineString":return D=tl(m,d.type==="LineString"?0:1,T),new ni(D,l);case"Polygon":case"MultiPolygon":return D=tl(m,d.type==="Polygon"?1:2,T),new rs(D,l);case"GeometryCollection":for(W=0,re=d.geometries.length;W<re;W++){var ve=el({geometry:d.geometries[W],type:"Feature",properties:i.properties},l);ve&&_.push(ve)}return new ti(_);case"FeatureCollection":for(W=0,re=d.features.length;W<re;W++){var Pe=el(d.features[W],l);Pe&&_.push(Pe)}return new ti(_);default:throw new Error("Invalid GeoJSON object.")}}function jp(i,l,d,m){return i?i(l,d):new Xa(d,m&&m.markersInheritOptions&&m)}function $u(i){return new te(i[1],i[0],i[2])}function tl(i,l,d){for(var m=[],_=0,k=i.length,T;_<k;_++)T=l?tl(i[_],l-1,d):(d||$u)(i[_]),m.push(T);return m}function Zu(i,l){return i=oe(i),i.alt!==void 0?[x(i.lng,l),x(i.lat,l),x(i.alt,l)]:[x(i.lng,l),x(i.lat,l)]}function nl(i,l,d,m){for(var _=[],k=0,T=i.length;k<T;k++)_.push(l?nl(i[k],nn(i[k])?0:l-1,d,m):Zu(i[k],m));return!l&&d&&_.length>0&&_.push(_[0].slice()),_}function ss(i,l){return i.feature?a({},i.feature,{geometry:l}):il(l)}function il(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var Wu={toGeoJSON:function(i){return ss(this,{type:"Point",coordinates:Zu(this.getLatLng(),i)})}};Xa.include(Wu),Uu.include(Wu),Ja.include(Wu),ni.include({toGeoJSON:function(i){var l=!nn(this._latlngs),d=nl(this._latlngs,l?1:0,!1,i);return ss(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),rs.include({toGeoJSON:function(i){var l=!nn(this._latlngs),d=l&&!nn(this._latlngs[0]),m=nl(this._latlngs,d?2:l?1:0,!0,i);return l||(m=[m]),ss(this,{type:(d?"Multi":"")+"Polygon",coordinates:m})}}),ns.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(i).geometry.coordinates)}),ss(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var d=l==="GeometryCollection",m=[];return this.eachLayer(function(_){if(_.toGeoJSON){var k=_.toGeoJSON(i);if(d)m.push(k.geometry);else{var T=il(k);T.type==="FeatureCollection"?m.push.apply(m,T.features):m.push(T)}}}),d?ss(this,{geometries:m,type:"GeometryCollection"}):{type:"FeatureCollection",features:m}}});function Np(i,l){return new ii(i,l)}var Bj=Np,rl=gn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,d){this._url=i,this._bounds=ee(l),v(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(Ce(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){qe(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&es(this._image),this},bringToBack:function(){return this._map&&ts(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=ee(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:ze("img");if(Ce(l,"leaflet-image-layer"),this._zoomAnimated&&Ce(l,"leaflet-zoom-animated"),this.options.className&&Ce(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onload=c(this.fire,this,"load"),l.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;vr(this._image,d,l)},_reset:function(){var i=this._image,l=new J(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();rt(i,l.min),i.style.width=d.x+"px",i.style.height=d.y+"px"},_updateOpacity:function(){tn(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),Vj=function(i,l,d){return new rl(i,l,d)},Sp=rl.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:ze("video");if(Ce(l,"leaflet-image-layer"),this._zoomAnimated&&Ce(l,"leaflet-zoom-animated"),this.options.className&&Ce(l,this.options.className),l.onselectstart=p,l.onmousemove=p,l.onloadeddata=c(this.fire,this,"load"),i){for(var d=l.getElementsByTagName("source"),m=[],_=0;_<d.length;_++)m.push(d[_].src);this._url=d.length>0?m:[l.src];return}N(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var k=0;k<this._url.length;k++){var T=ze("source");T.src=this._url[k],l.appendChild(T)}}});function Hj(i,l,d){return new Sp(i,l,d)}var Cp=rl.extend({_initImage:function(){var i=this._image=this._url;Ce(i,"leaflet-image-layer"),this._zoomAnimated&&Ce(i,"leaflet-zoom-animated"),this.options.className&&Ce(i,this.options.className),i.onselectstart=p,i.onmousemove=p}});function Uj(i,l,d){return new Cp(i,l,d)}var Vn=gn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof te||N(i))?(this._latlng=oe(i),v(this,l)):(v(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&tn(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&tn(this._container,1),this.bringToFront(),this.options.interactive&&(Ce(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(tn(this._container,0),this._removeTimeout=setTimeout(c(qe,void 0,this._container),200)):qe(this._container),this.options.interactive&&(tt(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=oe(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&es(this._container),this},bringToBack:function(){return this._map&&ts(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof ti){l=null;var d=this._source._layers;for(var m in d)if(d[m]._map){l=d[m];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=F(this.options.offset),d=this._getAnchor();this._zoomAnimated?rt(this._container,i.add(d)):l=l.add(i).add(d);var m=this._containerBottom=-l.y,_=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=m+"px",this._container.style.left=_+"px"}},_getAnchor:function(){return[0,0]}});Ie.include({_initOverlay:function(i,l,d,m){var _=l;return _ instanceof i||(_=new i(m).setContent(l)),d&&_.setLatLng(d),_}}),gn.include({_initOverlay:function(i,l,d,m){var _=d;return _ instanceof i?(v(_,m),_._source=this):(_=l&&!m?l:new i(m,this),_.setContent(d)),_}});var sl=Vn.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Vn.prototype.openOn.call(this,i)},onAdd:function(i){Vn.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof Pi||this._source.on("preclick",yr))},onRemove:function(i){Vn.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof Pi||this._source.off("preclick",yr))},getEvents:function(){var i=Vn.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=ze("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=ze("div",i+"-content-wrapper",l);if(this._contentNode=ze("div",i+"-content",d),ko(l),Iu(this._contentNode),Ne(l,"contextmenu",yr),this._tipContainer=ze("div",i+"-tip-container",l),this._tip=ze("div",i+"-tip",this._tipContainer),this.options.closeButton){var m=this._closeButton=ze("a",i+"-close-button",l);m.setAttribute("role","button"),m.setAttribute("aria-label","Close popup"),m.href="#close",m.innerHTML='<span aria-hidden="true">&#215;</span>',Ne(m,"click",function(_){mt(_),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var d=i.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var m=i.offsetHeight,_=this.options.maxHeight,k="leaflet-popup-scrolled";_&&m>_?(l.height=_+"px",Ce(i,k)):tt(i,k),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),d=this._getAnchor();rt(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(jo(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,m=this._containerWidth,_=new A(this._containerLeft,-d-this._containerBottom);_._add(xr(this._container));var k=i.layerPointToContainerPoint(_),T=F(this.options.autoPanPadding),O=F(this.options.autoPanPaddingTopLeft||T),D=F(this.options.autoPanPaddingBottomRight||T),W=i.getSize(),re=0,ve=0;k.x+m+D.x>W.x&&(re=k.x+m-W.x+D.x),k.x-re-O.x<0&&(re=k.x-O.x),k.y+d+D.y>W.y&&(ve=k.y+d-W.y+D.y),k.y-ve-O.y<0&&(ve=k.y-O.y),(re||ve)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([re,ve]))}},_getAnchor:function(){return F(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),$j=function(i,l){return new sl(i,l)};Ie.mergeOptions({closePopupOnClick:!0}),Ie.include({openPopup:function(i,l,d){return this._initOverlay(sl,i,l,d).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),gn.include({bindPopup:function(i,l){return this._popup=this._initOverlay(sl,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof ti||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){_r(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof Pi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var ol=Vn.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Vn.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Vn.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Vn.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=ze("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,d,m=this._map,_=this._container,k=m.latLngToContainerPoint(m.getCenter()),T=m.layerPointToContainerPoint(i),O=this.options.direction,D=_.offsetWidth,W=_.offsetHeight,re=F(this.options.offset),ve=this._getAnchor();O==="top"?(l=D/2,d=W):O==="bottom"?(l=D/2,d=0):O==="center"?(l=D/2,d=W/2):O==="right"?(l=0,d=W/2):O==="left"?(l=D,d=W/2):T.x<k.x?(O="right",l=0,d=W/2):(O="left",l=D+(re.x+ve.x)*2,d=W/2),i=i.subtract(F(l,d,!0)).add(re).add(ve),tt(_,"leaflet-tooltip-right"),tt(_,"leaflet-tooltip-left"),tt(_,"leaflet-tooltip-top"),tt(_,"leaflet-tooltip-bottom"),Ce(_,"leaflet-tooltip-"+O),rt(_,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&tn(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return F(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),Zj=function(i,l){return new ol(i,l)};Ie.include({openTooltip:function(i,l,d){return this._initOverlay(ol,i,l,d).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),gn.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(ol,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof ti||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(Ne(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),Ne(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,d,m;this._tooltip.options.sticky&&i.originalEvent&&(d=this._map.mouseEventToContainerPoint(i.originalEvent),m=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(m)),this._tooltip.setLatLng(l)}});var kp=is.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),d=this.options;if(d.html instanceof Element?(Wa(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var m=F(d.bgPos);l.style.backgroundPosition=-m.x+"px "+-m.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function Wj(i){return new kp(i)}is.Default=Eo;var To=gn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:de.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){v(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),qe(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(es(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(ts(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof A?i:new A(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,d=-i(-1/0,1/0),m=0,_=l.length,k;m<_;m++)k=l[m].style.zIndex,l[m]!==this._container&&k&&(d=i(d,+k));isFinite(d)&&(this.options.zIndex=d+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!de.ielt9){tn(this._container,this.options.opacity);var i=+new Date,l=!1,d=!1;for(var m in this._tiles){var _=this._tiles[m];if(!(!_.current||!_.loaded)){var k=Math.min(1,(i-_.loaded)/200);tn(_.el,k),k<1?l=!0:(_.active?d=!0:this._onOpaqueTile(_),_.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(B(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this))}},_onOpaqueTile:p,_initContainer:function(){this._container||(this._container=ze("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===i?(this._levels[d].el.style.zIndex=l-Math.abs(i-d),this._onUpdateLevel(d)):(qe(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var m=this._levels[i],_=this._map;return m||(m=this._levels[i]={},m.el=ze("div","leaflet-tile-container leaflet-zoom-animated",this._container),m.el.style.zIndex=l,m.origin=_.project(_.unproject(_.getPixelOrigin()),i).round(),m.zoom=i,this._setZoomTransform(m,_.getCenter(),_.getZoom()),p(m.el.offsetWidth),this._onCreateLevel(m)),this._level=m,m}},_onUpdateLevel:p,_onRemoveLevel:p,_onCreateLevel:p,_pruneTiles:function(){if(this._map){var i,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var m=l.coords;this._retainParent(m.x,m.y,m.z,m.z-5)||this._retainChildren(m.x,m.y,m.z,m.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)qe(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,d,m){var _=Math.floor(i/2),k=Math.floor(l/2),T=d-1,O=new A(+_,+k);O.z=+T;var D=this._tileCoordsToKey(O),W=this._tiles[D];return W&&W.active?(W.retain=!0,!0):(W&&W.loaded&&(W.retain=!0),T>m?this._retainParent(_,k,T,m):!1)},_retainChildren:function(i,l,d,m){for(var _=2*i;_<2*i+2;_++)for(var k=2*l;k<2*l+2;k++){var T=new A(_,k);T.z=d+1;var O=this._tileCoordsToKey(T),D=this._tiles[O];if(D&&D.active){D.retain=!0;continue}else D&&D.loaded&&(D.retain=!0);d+1<m&&this._retainChildren(_,k,d+1,m)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,d,m){var _=Math.round(l);this.options.maxZoom!==void 0&&_>this.options.maxZoom||this.options.minZoom!==void 0&&_<this.options.minZoom?_=void 0:_=this._clampZoom(_);var k=this.options.updateWhenZooming&&_!==this._tileZoom;(!m||k)&&(this._tileZoom=_,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),_!==void 0&&this._update(i),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],i,l)},_setZoomTransform:function(i,l,d){var m=this._map.getZoomScale(d,i.zoom),_=i.origin.multiplyBy(m).subtract(this._map._getNewPixelOrigin(l,d)).round();de.any3d?vr(i.el,_,m):rt(i.el,_)},_resetGrid:function(){var i=this._map,l=i.options.crs,d=this._tileSize=this.getTileSize(),m=this._tileZoom,_=this._map.getPixelWorldBounds(this._tileZoom);_&&(this._globalTileRange=this._pxBoundsToTileRange(_)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],m).x/d.x),Math.ceil(i.project([0,l.wrapLng[1]],m).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],m).y/d.x),Math.ceil(i.project([l.wrapLat[1],0],m).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),m=l.getZoomScale(d,this._tileZoom),_=l.project(i,this._tileZoom).floor(),k=l.getSize().divideBy(m*2);return new J(_.subtract(k),_.add(k))},_update:function(i){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var m=this._getTiledPixelBounds(i),_=this._pxBoundsToTileRange(m),k=_.getCenter(),T=[],O=this.options.keepBuffer,D=new J(_.getBottomLeft().subtract([O,-O]),_.getTopRight().add([O,-O]));if(!(isFinite(_.min.x)&&isFinite(_.min.y)&&isFinite(_.max.x)&&isFinite(_.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var W in this._tiles){var re=this._tiles[W].coords;(re.z!==this._tileZoom||!D.contains(new A(re.x,re.y)))&&(this._tiles[W].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(i,d);return}for(var ve=_.min.y;ve<=_.max.y;ve++)for(var Pe=_.min.x;Pe<=_.max.x;Pe++){var kt=new A(Pe,ve);if(kt.z=this._tileZoom,!!this._isValidTile(kt)){var dt=this._tiles[this._tileCoordsToKey(kt)];dt?dt.current=!0:T.push(kt)}}if(T.sort(function(Ot,as){return Ot.distanceTo(k)-as.distanceTo(k)}),T.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var rn=document.createDocumentFragment();for(Pe=0;Pe<T.length;Pe++)this._addTile(T[Pe],rn);this._level.el.appendChild(rn)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(i.x<d.min.x||i.x>d.max.x)||!l.wrapLat&&(i.y<d.min.y||i.y>d.max.y))return!1}if(!this.options.bounds)return!0;var m=this._tileCoordsToBounds(i);return ee(this.options.bounds).overlaps(m)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,d=this.getTileSize(),m=i.scaleBy(d),_=m.add(d),k=l.unproject(m,i.z),T=l.unproject(_,i.z);return[k,T]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),d=new V(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),d=new A(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(i){var l=this._tiles[i];l&&(qe(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){Ce(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=p,i.onmousemove=p,de.ielt9&&this.options.opacity<1&&tn(i,this.options.opacity)},_addTile:function(i,l){var d=this._getTilePos(i),m=this._tileCoordsToKey(i),_=this.createTile(this._wrapCoords(i),c(this._tileReady,this,i));this._initTile(_),this.createTile.length<2&&H(c(this._tileReady,this,i,null,_)),rt(_,d),this._tiles[m]={el:_,coords:i,current:!0},l.appendChild(_),this.fire("tileloadstart",{tile:_,coords:i})},_tileReady:function(i,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:i});var m=this._tileCoordsToKey(i);d=this._tiles[m],d&&(d.loaded=+new Date,this._map._fadeAnimated?(tn(d.el,0),B(this._fadeFrame),this._fadeFrame=H(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(Ce(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),de.ielt9||!this._map._fadeAnimated?H(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new A(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new J(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function Gj(i){return new To(i)}var os=To.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=v(this,l),l.detectRetina&&de.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var d=document.createElement("img");return Ne(d,"load",c(this._tileOnLoad,this,l,d)),Ne(d,"error",c(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(i),d},getTileUrl:function(i){var l={r:de.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=d),l["-y"]=d}return w(this._url,a(l,this.options))},_tileOnLoad:function(i,l){de.ielt9?setTimeout(c(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,d){var m=this.options.errorTileUrl;m&&l.getAttribute("src")!==m&&(l.src=m),i(d,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,m=this.options.zoomOffset;return d&&(i=l-i),i+m},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=p,l.onerror=p,!l.complete)){l.src=E;var d=this._tiles[i].coords;qe(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",E),To.prototype._removeTile.call(this,i)},_tileReady:function(i,l,d){if(!(!this._map||d&&d.getAttribute("src")===E))return To.prototype._tileReady.call(this,i,l,d)}});function Pp(i,l){return new os(i,l)}var Lp=os.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var d=a({},this.defaultWmsParams);for(var m in l)m in this.options||(d[m]=l[m]);l=v(this,l);var _=l.detectRetina&&de.retina?2:1,k=this.getTileSize();d.width=k.x*_,d.height=k.y*_,this.wmsParams=d},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,os.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),d=this._crs,m=fe(d.project(l[0]),d.project(l[1])),_=m.min,k=m.max,T=(this._wmsVersion>=1.3&&this._crs===wp?[_.y,_.x,k.y,k.x]:[_.x,_.y,k.x,k.y]).join(","),O=os.prototype.getTileUrl.call(this,i);return O+S(this.wmsParams,O,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(i,l){return a(this.wmsParams,i),l||this.redraw(),this}});function Kj(i,l){return new Lp(i,l)}os.WMS=Lp,Pp.wms=Kj;var ri=gn.extend({options:{padding:.1},initialize:function(i){v(this,i),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),Ce(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var d=this._map.getZoomScale(l,this._zoom),m=this._map.getSize().multiplyBy(.5+this.options.padding),_=this._map.project(this._center,l),k=m.multiplyBy(-d).add(_).subtract(this._map._getNewPixelOrigin(i,l));de.any3d?vr(this._container,k,d):rt(this._container,k)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new J(d,d.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),Ep=ri.extend({options:{tolerance:0},getEvents:function(){var i=ri.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){ri.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");Ne(i,"mousemove",this._onMouseMove,this),Ne(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),Ne(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){B(this._redrawRequest),delete this._ctx,qe(this._container),Ue(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var i=this._bounds,l=this._container,d=i.getSize(),m=de.retina?2:1;rt(l,i.min),l.width=m*d.x,l.height=m*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",de.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){ri.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[h(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,d=l.next,m=l.prev;d?d.prev=m:this._drawLast=m,m?m.next=d:this._drawFirst=d,delete i._order,delete this._layers[h(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),d=[],m,_;for(_=0;_<l.length;_++){if(m=Number(l[_]),isNaN(m))return;d.push(m)}i.options._dashArray=d}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||H(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new J,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var m=this._drawFirst;m;m=m.next)i=m.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var d,m,_,k,T=i._parts,O=T.length,D=this._ctx;if(O){for(D.beginPath(),d=0;d<O;d++){for(m=0,_=T[d].length;m<_;m++)k=T[d][m],D[m?"lineTo":"moveTo"](k.x,k.y);l&&D.closePath()}this._fillStroke(D,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,d=this._ctx,m=Math.max(Math.round(i._radius),1),_=(Math.max(Math.round(i._radiusY),1)||m)/m;_!==1&&(d.save(),d.scale(1,_)),d.beginPath(),d.arc(l.x,l.y/_,m,0,Math.PI*2,!1),_!==1&&d.restore(),this._fillStroke(d,i)}},_fillStroke:function(i,l){var d=l.options;d.fill&&(i.globalAlpha=d.fillOpacity,i.fillStyle=d.fillColor||d.color,i.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=d.opacity,i.lineWidth=d.weight,i.strokeStyle=d.color,i.lineCap=d.lineCap,i.lineJoin=d.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),d,m,_=this._drawFirst;_;_=_.next)d=_.layer,d.options.interactive&&d._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(d))&&(m=d);this._fireEvent(m?[m]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(tt(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var d,m,_=this._drawFirst;_;_=_.next)d=_.layer,d.options.interactive&&d._containsPoint(l)&&(m=d);m!==this._hoveredLayer&&(this._handleMouseOut(i),m&&(Ce(this._container,"leaflet-interactive"),this._fireEvent([m],i,"mouseover"),this._hoveredLayer=m)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,d){this._map._fireDOMEvent(l,d||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var d=l.next,m=l.prev;if(d)d.prev=m;else return;m?m.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var d=l.next,m=l.prev;if(m)m.next=d;else return;d?d.prev=m:m&&(this._drawLast=m),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function Tp(i){return de.canvas?new Ep(i):null}var Mo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),qj={_initContainer:function(){this._container=ze("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(ri.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=Mo("shape");Ce(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=Mo("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;qe(l),i.removeInteractiveTarget(l),delete this._layers[h(i)]},_updateStyle:function(i){var l=i._stroke,d=i._fill,m=i.options,_=i._container;_.stroked=!!m.stroke,_.filled=!!m.fill,m.stroke?(l||(l=i._stroke=Mo("stroke")),_.appendChild(l),l.weight=m.weight+"px",l.color=m.color,l.opacity=m.opacity,m.dashArray?l.dashStyle=N(m.dashArray)?m.dashArray.join(" "):m.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=m.lineCap.replace("butt","flat"),l.joinstyle=m.lineJoin):l&&(_.removeChild(l),i._stroke=null),m.fill?(d||(d=i._fill=Mo("fill")),_.appendChild(d),d.color=m.fillColor||m.color,d.opacity=m.fillOpacity):d&&(_.removeChild(d),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),d=Math.round(i._radius),m=Math.round(i._radiusY||d);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+m+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){es(i._container)},_bringToBack:function(i){ts(i._container)}},al=de.vml?Mo:In,Ro=ri.extend({_initContainer:function(){this._container=al("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=al("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){qe(this._container),Ue(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){ri.prototype._update.call(this);var i=this._bounds,l=i.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),rt(d,i.min),d.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=al("path");i.options.className&&Ce(l,i.options.className),i.options.interactive&&Ce(l,"leaflet-interactive"),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){qe(i._path),i.removeInteractiveTarget(i._path),delete this._layers[h(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,d=i.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,On(i._parts,l))},_updateCircle:function(i){var l=i._point,d=Math.max(Math.round(i._radius),1),m=Math.max(Math.round(i._radiusY),1)||d,_="a"+d+","+m+" 0 1,0 ",k=i._empty()?"M0 0":"M"+(l.x-d)+","+l.y+_+d*2+",0 "+_+-d*2+",0 ";this._setPath(i,k)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){es(i._path)},_bringToBack:function(i){ts(i._path)}});de.vml&&Ro.include(qj);function Mp(i){return de.svg||de.vml?new Ro(i):null}Ie.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&Tp(i)||Mp(i)}});var Rp=rs.extend({initialize:function(i,l){rs.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=ee(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function Qj(i,l){return new Rp(i,l)}Ro.create=al,Ro.pointsToPath=On,ii.geometryToLayer=el,ii.coordsToLatLng=$u,ii.coordsToLatLngs=tl,ii.latLngToCoords=Zu,ii.latLngsToCoords=nl,ii.getFeature=ss,ii.asFeature=il,Ie.mergeOptions({boxZoom:!0});var Ap=Bn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){Ne(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){Ue(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){qe(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),No(),ku(),this._startPoint=this._map.mouseEventToContainerPoint(i),Ne(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=ze("div","leaflet-zoom-box",this._container),Ce(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new J(this._point,this._startPoint),d=l.getSize();rt(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(qe(this._box),tt(this._container,"leaflet-crosshair")),So(),Pu(),Ue(document,{contextmenu:_r,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var l=new V(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Ie.addInitHook("addHandler","boxZoom",Ap),Ie.mergeOptions({doubleClickZoom:!0});var Ip=Bn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,d=l.getZoom(),m=l.options.zoomDelta,_=i.originalEvent.shiftKey?d-m:d+m;l.options.doubleClickZoom==="center"?l.setZoom(_):l.setZoomAround(i.containerPoint,_)}});Ie.addInitHook("addHandler","doubleClickZoom",Ip),Ie.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Op=Bn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new ki(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}Ce(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){tt(this._map._container,"leaflet-grab"),tt(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=ee(this._map.options.maxBounds);this._offsetLimit=fe(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),d=this._initialWorldOffset,m=this._draggable._newPos.x,_=(m-l+d)%i+l-d,k=(m+l+d)%i-l-d,T=Math.abs(_+d)<Math.abs(k+d)?_:k;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(i){var l=this._map,d=l.options,m=!d.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),m)l.fire("moveend");else{this._prunePositions(+new Date);var _=this._lastPos.subtract(this._positions[0]),k=(this._lastTime-this._times[0])/1e3,T=d.easeLinearity,O=_.multiplyBy(T/k),D=O.distanceTo([0,0]),W=Math.min(d.inertiaMaxSpeed,D),re=O.multiplyBy(W/D),ve=W/(d.inertiaDeceleration*T),Pe=re.multiplyBy(-ve/2).round();!Pe.x&&!Pe.y?l.fire("moveend"):(Pe=l._limitOffset(Pe,l.options.maxBounds),H(function(){l.panBy(Pe,{duration:ve,easeLinearity:T,noMoveStart:!0,animate:!0})}))}}});Ie.addInitHook("addHandler","dragging",Op),Ie.mergeOptions({keyboard:!0,keyboardPanDelta:80});var zp=Bn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),Ne(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),Ue(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,d=i.scrollTop||l.scrollTop,m=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(m,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},d=this.keyCodes,m,_;for(m=0,_=d.left.length;m<_;m++)l[d.left[m]]=[-1*i,0];for(m=0,_=d.right.length;m<_;m++)l[d.right[m]]=[i,0];for(m=0,_=d.down.length;m<_;m++)l[d.down[m]]=[0,i];for(m=0,_=d.up.length;m<_;m++)l[d.up[m]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},d=this.keyCodes,m,_;for(m=0,_=d.zoomIn.length;m<_;m++)l[d.zoomIn[m]]=i;for(m=0,_=d.zoomOut.length;m<_;m++)l[d.zoomOut[m]]=-i},_addHooks:function(){Ne(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){Ue(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,d=this._map,m;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(m=this._panKeys[l],i.shiftKey&&(m=F(m).multiplyBy(3)),d.options.maxBounds&&(m=d._limitOffset(F(m),d.options.maxBounds)),d.options.worldCopyJump){var _=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(m)));d.panTo(_)}else d.panBy(m)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;_r(i)}}});Ie.addInitHook("addHandler","keyboard",zp),Ie.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Dp=Bn.extend({addHooks:function(){Ne(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){Ue(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=lp(i),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var m=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),m),_r(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),d=this._map.options.zoomSnap||0;i._stop();var m=this._delta/(this._map.options.wheelPxPerZoomLevel*4),_=4*Math.log(2/(1+Math.exp(-Math.abs(m))))/Math.LN2,k=d?Math.ceil(_/d)*d:_,T=i._limitZoom(l+(this._delta>0?k:-k))-l;this._delta=0,this._startTime=null,T&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+T):i.setZoomAround(this._lastMousePos,l+T))}});Ie.addInitHook("addHandler","scrollWheelZoom",Dp);var Yj=600;Ie.mergeOptions({tapHold:de.touchNative&&de.safari&&de.mobile,tapTolerance:15});var Fp=Bn.extend({addHooks:function(){Ne(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){Ue(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new A(l.clientX,l.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(Ne(document,"touchend",mt),Ne(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),Yj),Ne(document,"touchend touchcancel contextmenu",this._cancel,this),Ne(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){Ue(document,"touchend",mt),Ue(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),Ue(document,"touchend touchcancel contextmenu",this._cancel,this),Ue(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new A(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var d=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Ie.addInitHook("addHandler","tapHold",Fp),Ie.mergeOptions({touchZoom:de.touch,bounceAtZoomLimits:!0});var Bp=Bn.extend({addHooks:function(){Ce(this._map._container,"leaflet-touch-zoom"),Ne(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){tt(this._map._container,"leaflet-touch-zoom"),Ue(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(i.touches[0]),m=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(m)._divideBy(2))),this._startDist=d.distanceTo(m),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),Ne(document,"touchmove",this._onTouchMove,this),Ne(document,"touchend touchcancel",this._onTouchEnd,this),mt(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(i.touches[0]),m=l.mouseEventToContainerPoint(i.touches[1]),_=d.distanceTo(m)/this._startDist;if(this._zoom=l.getScaleZoom(_,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&_<1||this._zoom>l.getMaxZoom()&&_>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,_===1)return}else{var k=d._add(m)._divideBy(2)._subtract(this._centerPoint);if(_===1&&k.x===0&&k.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(k),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),B(this._animRequest);var T=c(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=H(T,this,!0),mt(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,B(this._animRequest),Ue(document,"touchmove",this._onTouchMove,this),Ue(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Ie.addInitHook("addHandler","touchZoom",Bp),Ie.BoxZoom=Ap,Ie.DoubleClickZoom=Ip,Ie.Drag=Op,Ie.Keyboard=zp,Ie.ScrollWheelZoom=Dp,Ie.TapHold=Fp,Ie.TouchZoom=Bp,n.Bounds=J,n.Browser=de,n.CRS=ne,n.Canvas=Ep,n.Circle=Uu,n.CircleMarker=Ja,n.Class=Z,n.Control=pn,n.DivIcon=kp,n.DivOverlay=Vn,n.DomEvent=pj,n.DomUtil=fj,n.Draggable=ki,n.Evented=ie,n.FeatureGroup=ti,n.GeoJSON=ii,n.GridLayer=To,n.Handler=Bn,n.Icon=is,n.ImageOverlay=rl,n.LatLng=te,n.LatLngBounds=V,n.Layer=gn,n.LayerGroup=ns,n.LineUtil=Pj,n.Map=Ie,n.Marker=Xa,n.Mixin=bj,n.Path=Pi,n.Point=A,n.PolyUtil=jj,n.Polygon=rs,n.Polyline=ni,n.Popup=sl,n.PosAnimation=cp,n.Projection=Lj,n.Rectangle=Rp,n.Renderer=ri,n.SVG=Ro,n.SVGOverlay=Cp,n.TileLayer=os,n.Tooltip=ol,n.Transformation=Ae,n.Util=X,n.VideoOverlay=Sp,n.bind=c,n.bounds=fe,n.canvas=Tp,n.circle=zj,n.circleMarker=Oj,n.control=Po,n.divIcon=Wj,n.extend=a,n.featureGroup=Rj,n.geoJSON=Np,n.geoJson=Bj,n.gridLayer=Gj,n.icon=Aj,n.imageOverlay=Vj,n.latLng=oe,n.latLngBounds=ee,n.layerGroup=Mj,n.map=gj,n.marker=Ij,n.point=F,n.polygon=Fj,n.polyline=Dj,n.popup=$j,n.rectangle=Qj,n.setOptions=v,n.stamp=h,n.svg=Mp,n.svgOverlay=Uj,n.tileLayer=Pp,n.tooltip=Zj,n.transformation=Me,n.version=r,n.videoOverlay=Hj;var Xj=window.L;n.noConflict=function(){return window.L=Xj,this},window.L=n})})(Jh,Jh.exports);var _E=Jh.exports;const Oi=cf(_E);var Iv={exports:{}};(function(e,t){(function(n,r){r(t)})(lx,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(o){L.Util.setOptions(this,o),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var c=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,c?this._withAnimation:this._noAnimation),this._markerCluster=c?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(o){if(o instanceof L.LayerGroup)return this.addLayers([o]);if(!o.getLatLng)return this._nonPointGroup.addLayer(o),this.fire("layeradd",{layer:o}),this;if(!this._map)return this._needsClustering.push(o),this.fire("layeradd",{layer:o}),this;if(this.hasLayer(o))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(o,this._maxZoom),this.fire("layeradd",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var c=o,u=this._zoom;if(o.__parent)for(;c.__parent._zoom>=u;)c=c.__parent;return this._currentShownBounds.contains(c.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(o,c):this._animationAddLayerNonAnimated(o,c)),this},removeLayer:function(o){return o instanceof L.LayerGroup?this.removeLayers([o]):o.getLatLng?this._map?o.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(o)),this._removeLayer(o,!0),this.fire("layerremove",{layer:o}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),o.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(o)&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,o)&&this.hasLayer(o)&&this._needsRemoving.push({layer:o,latlng:o._latlng}),this.fire("layerremove",{layer:o}),this):(this._nonPointGroup.removeLayer(o),this.fire("layerremove",{layer:o}),this)},addLayers:function(o,c){if(!L.Util.isArray(o))return this.addLayer(o);var u=this._featureGroup,h=this._nonPointGroup,f=this.options.chunkedLoading,g=this.options.chunkInterval,p=this.options.chunkProgress,x=o.length,b=0,C=!0,v;if(this._map){var S=new Date().getTime(),j=L.bind(function(){var N=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();b<x;b++){if(f&&b%200===0){var P=new Date().getTime()-N;if(P>g)break}if(v=o[b],v instanceof L.LayerGroup){C&&(o=o.slice(),C=!1),this._extractNonGroupLayers(v,o),x=o.length;continue}if(!v.getLatLng){h.addLayer(v),c||this.fire("layeradd",{layer:v});continue}if(!this.hasLayer(v)&&(this._addLayer(v,this._maxZoom),c||this.fire("layeradd",{layer:v}),v.__parent&&v.__parent.getChildCount()===2)){var E=v.__parent.getAllChildMarkers(),R=E[0]===v?E[1]:E[0];u.removeLayer(R)}}p&&p(b,x,new Date().getTime()-S),b===x?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(j,this.options.chunkDelay)},this);j()}else for(var w=this._needsClustering;b<x;b++){if(v=o[b],v instanceof L.LayerGroup){C&&(o=o.slice(),C=!1),this._extractNonGroupLayers(v,o),x=o.length;continue}if(!v.getLatLng){h.addLayer(v);continue}this.hasLayer(v)||w.push(v)}return this},removeLayers:function(o){var c,u,h=o.length,f=this._featureGroup,g=this._nonPointGroup,p=!0;if(!this._map){for(c=0;c<h;c++){if(u=o[c],u instanceof L.LayerGroup){p&&(o=o.slice(),p=!1),this._extractNonGroupLayers(u,o),h=o.length;continue}this._arraySplice(this._needsClustering,u),g.removeLayer(u),this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u})}return this}if(this._unspiderfy){this._unspiderfy();var x=o.slice(),b=h;for(c=0;c<b;c++){if(u=x[c],u instanceof L.LayerGroup){this._extractNonGroupLayers(u,x),b=x.length;continue}this._unspiderfyLayer(u)}}for(c=0;c<h;c++){if(u=o[c],u instanceof L.LayerGroup){p&&(o=o.slice(),p=!1),this._extractNonGroupLayers(u,o),h=o.length;continue}if(!u.__parent){g.removeLayer(u),this.fire("layerremove",{layer:u});continue}this._removeLayer(u,!0,!0),this.fire("layerremove",{layer:u}),f.hasLayer(u)&&(f.removeLayer(u),u.clusterShow&&u.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(o){o.off(this._childMarkerEventHandlers,this),delete o.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var o=new L.LatLngBounds;this._topClusterLevel&&o.extend(this._topClusterLevel._bounds);for(var c=this._needsClustering.length-1;c>=0;c--)o.extend(this._needsClustering[c].getLatLng());return o.extend(this._nonPointGroup.getBounds()),o},eachLayer:function(o,c){var u=this._needsClustering.slice(),h=this._needsRemoving,f,g,p;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(u),g=u.length-1;g>=0;g--){for(f=!0,p=h.length-1;p>=0;p--)if(h[p].layer===u[g]){f=!1;break}f&&o.call(c,u[g])}this._nonPointGroup.eachLayer(o,c)},getLayers:function(){var o=[];return this.eachLayer(function(c){o.push(c)}),o},getLayer:function(o){var c=null;return o=parseInt(o,10),this.eachLayer(function(u){L.stamp(u)===o&&(c=u)}),c},hasLayer:function(o){if(!o)return!1;var c,u=this._needsClustering;for(c=u.length-1;c>=0;c--)if(u[c]===o)return!0;for(u=this._needsRemoving,c=u.length-1;c>=0;c--)if(u[c].layer===o)return!1;return!!(o.__parent&&o.__parent._group===this)||this._nonPointGroup.hasLayer(o)},zoomToShowLayer:function(o,c){var u=this._map;typeof c!="function"&&(c=function(){});var h=function(){(u.hasLayer(o)||u.hasLayer(o.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",h,this),this.off("animationend",h,this),u.hasLayer(o)?c():o.__parent._icon&&(this.once("spiderfied",c,this),o.__parent.spiderfy()))};o._icon&&this._map.getBounds().contains(o.getLatLng())?c():o.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",h,this),this._map.panTo(o.getLatLng())):(this._map.on("moveend",h,this),this.on("animationend",h,this),o.__parent.zoomToBounds())},onAdd:function(o){this._map=o;var c,u,h;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(o),this._nonPointGroup.addTo(o),this._gridClusters||this._generateInitialClusters(),this._maxLat=o.options.crs.projection.MAX_LATITUDE,c=0,u=this._needsRemoving.length;c<u;c++)h=this._needsRemoving[c],h.newlatlng=h.layer._latlng,h.layer._latlng=h.latlng;for(c=0,u=this._needsRemoving.length;c<u;c++)h=this._needsRemoving[c],this._removeLayer(h.layer,!0),h.layer._latlng=h.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),u=this._needsClustering,this._needsClustering=[],this.addLayers(u,!0)},onRemove:function(o){o.off("zoomend",this._zoomEnd,this),o.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(o){for(var c=o;c&&!c._icon;)c=c.__parent;return c||null},_arraySplice:function(o,c){for(var u=o.length-1;u>=0;u--)if(o[u]===c)return o.splice(u,1),!0},_removeFromGridUnclustered:function(o,c){for(var u=this._map,h=this._gridUnclustered,f=Math.floor(this._map.getMinZoom());c>=f&&h[c].removeObject(o,u.project(o.getLatLng(),c));c--);},_childMarkerDragStart:function(o){o.target.__dragStart=o.target._latlng},_childMarkerMoved:function(o){if(!this._ignoreMove&&!o.target.__dragStart){var c=o.target._popup&&o.target._popup.isOpen();this._moveChild(o.target,o.oldLatLng,o.latlng),c&&o.target.openPopup()}},_moveChild:function(o,c,u){o._latlng=c,this.removeLayer(o),o._latlng=u,this.addLayer(o)},_childMarkerDragEnd:function(o){var c=o.target.__dragStart;delete o.target.__dragStart,c&&this._moveChild(o.target,c,o.target._latlng)},_removeLayer:function(o,c,u){var h=this._gridClusters,f=this._gridUnclustered,g=this._featureGroup,p=this._map,x=Math.floor(this._map.getMinZoom());c&&this._removeFromGridUnclustered(o,this._maxZoom);var b=o.__parent,C=b._markers,v;for(this._arraySplice(C,o);b&&(b._childCount--,b._boundsNeedUpdate=!0,!(b._zoom<x));)c&&b._childCount<=1?(v=b._markers[0]===o?b._markers[1]:b._markers[0],h[b._zoom].removeObject(b,p.project(b._cLatLng,b._zoom)),f[b._zoom].addObject(v,p.project(v.getLatLng(),b._zoom)),this._arraySplice(b.__parent._childClusters,b),b.__parent._markers.push(v),v.__parent=b.__parent,b._icon&&(g.removeLayer(b),u||g.addLayer(v))):b._iconNeedsUpdate=!0,b=b.__parent;delete o.__parent},_isOrIsParent:function(o,c){for(;c;){if(o===c)return!0;c=c.parentNode}return!1},fire:function(o,c,u){if(c&&c.layer instanceof L.MarkerCluster){if(c.originalEvent&&this._isOrIsParent(c.layer._icon,c.originalEvent.relatedTarget))return;o="cluster"+o}L.FeatureGroup.prototype.fire.call(this,o,c,u)},listens:function(o,c){return L.FeatureGroup.prototype.listens.call(this,o,c)||L.FeatureGroup.prototype.listens.call(this,"cluster"+o,c)},_defaultIconCreateFunction:function(o){var c=o.getChildCount(),u=" marker-cluster-";return c<10?u+="small":c<100?u+="medium":u+="large",new L.DivIcon({html:"<div><span>"+c+"</span></div>",className:"marker-cluster"+u,iconSize:new L.Point(40,40)})},_bindEvents:function(){var o=this._map,c=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom;(c||h||f)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),o.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(o){var c=o.layer,u=c;if(!(o.type==="clusterkeypress"&&o.originalEvent&&o.originalEvent.keyCode!==13)){for(;u._childClusters.length===1;)u=u._childClusters[0];u._zoom===this._maxZoom&&u._childCount===c._childCount&&this.options.spiderfyOnMaxZoom?c.spiderfy():this.options.zoomToBoundsOnClick&&c.zoomToBounds(),this.options.spiderfyOnEveryZoom&&c.spiderfy(),o.originalEvent&&o.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(o){var c=this._map;this._inZoomAnimation||(this._shownPolygon&&c.removeLayer(this._shownPolygon),o.layer.getChildCount()>2&&o.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(o.layer.getConvexHull(),this.options.polygonOptions),c.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var o=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom,f=this._map;(o||u||h)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var o=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,o),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),o),this._currentShownBounds=o}},_generateInitialClusters:function(){var o=Math.ceil(this._map.getMaxZoom()),c=Math.floor(this._map.getMinZoom()),u=this.options.maxClusterRadius,h=u;typeof u!="function"&&(h=function(){return u}),this.options.disableClusteringAtZoom!==null&&(o=this.options.disableClusteringAtZoom-1),this._maxZoom=o,this._gridClusters={},this._gridUnclustered={};for(var f=o;f>=c;f--)this._gridClusters[f]=new L.DistanceGrid(h(f)),this._gridUnclustered[f]=new L.DistanceGrid(h(f));this._topClusterLevel=new this._markerCluster(this,c-1)},_addLayer:function(o,c){var u=this._gridClusters,h=this._gridUnclustered,f=Math.floor(this._map.getMinZoom()),g,p;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(o),o.on(this._childMarkerEventHandlers,this);c>=f;c--){g=this._map.project(o.getLatLng(),c);var x=u[c].getNearObject(g);if(x){x._addChild(o),o.__parent=x;return}if(x=h[c].getNearObject(g),x){var b=x.__parent;b&&this._removeLayer(x,!1);var C=new this._markerCluster(this,c,x,o);u[c].addObject(C,this._map.project(C._cLatLng,c)),x.__parent=C,o.__parent=C;var v=C;for(p=c-1;p>b._zoom;p--)v=new this._markerCluster(this,p,v),u[p].addObject(v,this._map.project(x.getLatLng(),p));b._addChild(v),this._removeFromGridUnclustered(x,c);return}h[c].addObject(o,g)}this._topClusterLevel._addChild(o),o.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(o){o instanceof L.MarkerCluster&&o._iconNeedsUpdate&&o._updateIcon()})},_enqueue:function(o){this._queue.push(o),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var o=0;o<this._queue.length;o++)this._queue[o].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var o=Math.round(this._map._zoom);this._processQueue(),this._zoom<o&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,o)):this._zoom>o?(this._animationStart(),this._animationZoomOut(this._zoom,o)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(o){var c=this._maxLat;return c!==void 0&&(o.getNorth()>=c&&(o._northEast.lat=1/0),o.getSouth()<=-c&&(o._southWest.lat=-1/0)),o},_animationAddLayerNonAnimated:function(o,c){if(c===o)this._featureGroup.addLayer(o);else if(c._childCount===2){c._addToMap();var u=c.getAllChildMarkers();this._featureGroup.removeLayer(u[0]),this._featureGroup.removeLayer(u[1])}else c._updateIcon()},_extractNonGroupLayers:function(o,c){var u=o.getLayers(),h=0,f;for(c=c||[];h<u.length;h++){if(f=u[h],f instanceof L.LayerGroup){this._extractNonGroupLayers(f,c);continue}c.push(f)}return c},_overrideMarkerIcon:function(o){var c=o.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[o]}});return c}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(o,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(o,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(o,c){this._animationAddLayerNonAnimated(o,c)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(o,c){var u=this._getExpandedVisibleBounds(),h=this._featureGroup,f=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(u,o,f,function(p){var x=p._latlng,b=p._markers,C;for(u.contains(x)||(x=null),p._isSingleParent()&&o+1===c?(h.removeLayer(p),p._recursivelyAddChildrenToMap(null,c,u)):(p.clusterHide(),p._recursivelyAddChildrenToMap(x,c,u)),g=b.length-1;g>=0;g--)C=b[g],u.contains(C._latlng)||h.removeLayer(C)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(u,c),h.eachLayer(function(p){!(p instanceof L.MarkerCluster)&&p._icon&&p.clusterShow()}),this._topClusterLevel._recursively(u,o,c,function(p){p._recursivelyRestoreChildPositions(c)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(u,o,f,function(p){h.removeLayer(p),p.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(o,c){this._animationZoomOutSingle(this._topClusterLevel,o-1,c),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),o,this._getExpandedVisibleBounds())},_animationAddLayer:function(o,c){var u=this,h=this._featureGroup;h.addLayer(o),c!==o&&(c._childCount>2?(c._updateIcon(),this._forceLayout(),this._animationStart(),o._setPos(this._map.latLngToLayerPoint(c.getLatLng())),o.clusterHide(),this._enqueue(function(){h.removeLayer(o),o.clusterShow(),u._animationEnd()})):(this._forceLayout(),u._animationStart(),u._animationZoomOutSingle(c,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(o,c,u){var h=this._getExpandedVisibleBounds(),f=Math.floor(this._map.getMinZoom());o._recursivelyAnimateChildrenInAndAddSelfToMap(h,f,c+1,u);var g=this;this._forceLayout(),o._recursivelyBecomeVisible(h,u),this._enqueue(function(){if(o._childCount===1){var p=o._markers[0];this._ignoreMove=!0,p.setLatLng(p.getLatLng()),this._ignoreMove=!1,p.clusterShow&&p.clusterShow()}else o._recursively(h,u,f,function(x){x._recursivelyRemoveChildrenFromMap(h,f,c+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(o){return new L.MarkerClusterGroup(o)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(o,c,u,h){L.Marker.prototype.initialize.call(this,u?u._cLatLng||u.getLatLng():new L.LatLng(0,0),{icon:this,pane:o.options.clusterPane}),this._group=o,this._zoom=c,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,u&&this._addChild(u),h&&this._addChild(h)},getAllChildMarkers:function(o,c){o=o||[];for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u].getAllChildMarkers(o,c);for(var h=this._markers.length-1;h>=0;h--)c&&this._markers[h].__dragStart||o.push(this._markers[h]);return o},getChildCount:function(){return this._childCount},zoomToBounds:function(o){for(var c=this._childClusters.slice(),u=this._group._map,h=u.getBoundsZoom(this._bounds),f=this._zoom+1,g=u.getZoom(),p;c.length>0&&h>f;){f++;var x=[];for(p=0;p<c.length;p++)x=x.concat(c[p]._childClusters);c=x}h>f?this._group._map.setView(this._latlng,f):h<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,o)},getBounds:function(){var o=new L.LatLngBounds;return o.extend(this._bounds),o},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(o,c){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(o),o instanceof L.MarkerCluster?(c||(this._childClusters.push(o),o.__parent=this),this._childCount+=o._childCount):(c||this._markers.push(o),this._childCount++),this.__parent&&this.__parent._addChild(o,!0)},_setClusterCenter:function(o){this._cLatLng||(this._cLatLng=o._cLatLng||o._latlng)},_resetBounds:function(){var o=this._bounds;o._southWest&&(o._southWest.lat=1/0,o._southWest.lng=1/0),o._northEast&&(o._northEast.lat=-1/0,o._northEast.lng=-1/0)},_recalculateBounds:function(){var o=this._markers,c=this._childClusters,u=0,h=0,f=this._childCount,g,p,x,b;if(f!==0){for(this._resetBounds(),g=0;g<o.length;g++)x=o[g]._latlng,this._bounds.extend(x),u+=x.lat,h+=x.lng;for(g=0;g<c.length;g++)p=c[g],p._boundsNeedUpdate&&p._recalculateBounds(),this._bounds.extend(p._bounds),x=p._wLatLng,b=p._childCount,u+=x.lat*b,h+=x.lng*b;this._latlng=this._wLatLng=new L.LatLng(u/f,h/f),this._boundsNeedUpdate=!1}},_addToMap:function(o){o&&(this._backupLatlng=this._latlng,this.setLatLng(o)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(o,c,u){this._recursively(o,this._group._map.getMinZoom(),u-1,function(h){var f=h._markers,g,p;for(g=f.length-1;g>=0;g--)p=f[g],p._icon&&(p._setPos(c),p.clusterHide())},function(h){var f=h._childClusters,g,p;for(g=f.length-1;g>=0;g--)p=f[g],p._icon&&(p._setPos(c),p.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(o,c,u,h){this._recursively(o,h,c,function(f){f._recursivelyAnimateChildrenIn(o,f._group._map.latLngToLayerPoint(f.getLatLng()).round(),u),f._isSingleParent()&&u-1===h?(f.clusterShow(),f._recursivelyRemoveChildrenFromMap(o,c,u)):f.clusterHide(),f._addToMap()})},_recursivelyBecomeVisible:function(o,c){this._recursively(o,this._group._map.getMinZoom(),c,null,function(u){u.clusterShow()})},_recursivelyAddChildrenToMap:function(o,c,u){this._recursively(u,this._group._map.getMinZoom()-1,c,function(h){if(c!==h._zoom)for(var f=h._markers.length-1;f>=0;f--){var g=h._markers[f];u.contains(g._latlng)&&(o&&(g._backupLatlng=g.getLatLng(),g.setLatLng(o),g.clusterHide&&g.clusterHide()),h._group._featureGroup.addLayer(g))}},function(h){h._addToMap(o)})},_recursivelyRestoreChildPositions:function(o){for(var c=this._markers.length-1;c>=0;c--){var u=this._markers[c];u._backupLatlng&&(u.setLatLng(u._backupLatlng),delete u._backupLatlng)}if(o-1===this._zoom)for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h]._restorePosition();else for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._recursivelyRestoreChildPositions(o)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(o,c,u,h){var f,g;this._recursively(o,c-1,u-1,function(p){for(g=p._markers.length-1;g>=0;g--)f=p._markers[g],(!h||!h.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())},function(p){for(g=p._childClusters.length-1;g>=0;g--)f=p._childClusters[g],(!h||!h.contains(f._latlng))&&(p._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())})},_recursively:function(o,c,u,h,f){var g=this._childClusters,p=this._zoom,x,b;if(c<=p&&(h&&h(this),f&&p===u&&f(this)),p<c||p<u)for(x=g.length-1;x>=0;x--)b=g[x],b._boundsNeedUpdate&&b._recalculateBounds(),o.intersects(b._bounds)&&b._recursively(o,c,u,h,f)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var o=this.options.opacity;return this.setOpacity(0),this.options.opacity=o,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(o){this._cellSize=o,this._sqCellSize=o*o,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(o,c){var u=this._getCoord(c.x),h=this._getCoord(c.y),f=this._grid,g=f[h]=f[h]||{},p=g[u]=g[u]||[],x=L.Util.stamp(o);this._objectPoint[x]=c,p.push(o)},updateObject:function(o,c){this.removeObject(o),this.addObject(o,c)},removeObject:function(o,c){var u=this._getCoord(c.x),h=this._getCoord(c.y),f=this._grid,g=f[h]=f[h]||{},p=g[u]=g[u]||[],x,b;for(delete this._objectPoint[L.Util.stamp(o)],x=0,b=p.length;x<b;x++)if(p[x]===o)return p.splice(x,1),b===1&&delete g[u],!0},eachObject:function(o,c){var u,h,f,g,p,x,b,C=this._grid;for(u in C){p=C[u];for(h in p)for(x=p[h],f=0,g=x.length;f<g;f++)b=o.call(c,x[f]),b&&(f--,g--)}},getNearObject:function(o){var c=this._getCoord(o.x),u=this._getCoord(o.y),h,f,g,p,x,b,C,v,S=this._objectPoint,j=this._sqCellSize,w=null;for(h=u-1;h<=u+1;h++)if(p=this._grid[h],p){for(f=c-1;f<=c+1;f++)if(x=p[f],x)for(g=0,b=x.length;g<b;g++)C=x[g],v=this._sqDist(S[L.Util.stamp(C)],o),(v<j||v<=j&&w===null)&&(j=v,w=C)}return w},_getCoord:function(o){var c=Math.floor(o/this._cellSize);return isFinite(c)?c:o},_sqDist:function(o,c){var u=c.x-o.x,h=c.y-o.y;return u*u+h*h}},function(){L.QuickHull={getDistant:function(o,c){var u=c[1].lat-c[0].lat,h=c[0].lng-c[1].lng;return h*(o.lat-c[0].lat)+u*(o.lng-c[0].lng)},findMostDistantPointFromBaseLine:function(o,c){var u=0,h=null,f=[],g,p,x;for(g=c.length-1;g>=0;g--){if(p=c[g],x=this.getDistant(p,o),x>0)f.push(p);else continue;x>u&&(u=x,h=p)}return{maxPoint:h,newPoints:f}},buildConvexHull:function(o,c){var u=[],h=this.findMostDistantPointFromBaseLine(o,c);return h.maxPoint?(u=u.concat(this.buildConvexHull([o[0],h.maxPoint],h.newPoints)),u=u.concat(this.buildConvexHull([h.maxPoint,o[1]],h.newPoints)),u):[o[0]]},getConvexHull:function(o){var c=!1,u=!1,h=!1,f=!1,g=null,p=null,x=null,b=null,C=null,v=null,S;for(S=o.length-1;S>=0;S--){var j=o[S];(c===!1||j.lat>c)&&(g=j,c=j.lat),(u===!1||j.lat<u)&&(p=j,u=j.lat),(h===!1||j.lng>h)&&(x=j,h=j.lng),(f===!1||j.lng<f)&&(b=j,f=j.lng)}u!==c?(v=p,C=g):(v=b,C=x);var w=[].concat(this.buildConvexHull([v,C],o),this.buildConvexHull([C,v],o));return w}}}(),L.MarkerCluster.include({getConvexHull:function(){var o=this.getAllChildMarkers(),c=[],u,h;for(h=o.length-1;h>=0;h--)u=o[h].getLatLng(),c.push(u);return L.QuickHull.getConvexHull(c)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var o=this.getAllChildMarkers(null,!0),c=this._group,u=c._map,h=u.latLngToLayerPoint(this._latlng),f;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?f=this._group.options.spiderfyShapePositions(o.length,h):o.length>=this._circleSpiralSwitchover?f=this._generatePointsSpiral(o.length,h):(h.y+=10,f=this._generatePointsCircle(o.length,h)),this._animationSpiderfy(o,f)}},unspiderfy:function(o){this._group._inZoomAnimation||(this._animationUnspiderfy(o),this._group._spiderfied=null)},_generatePointsCircle:function(o,c){var u=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+o),h=u/this._2PI,f=this._2PI/o,g=[],p,x;for(h=Math.max(h,35),g.length=o,p=0;p<o;p++)x=this._circleStartAngle+p*f,g[p]=new L.Point(c.x+h*Math.cos(x),c.y+h*Math.sin(x))._round();return g},_generatePointsSpiral:function(o,c){var u=this._group.options.spiderfyDistanceMultiplier,h=u*this._spiralLengthStart,f=u*this._spiralFootSeparation,g=u*this._spiralLengthFactor*this._2PI,p=0,x=[],b;for(x.length=o,b=o;b>=0;b--)b<o&&(x[b]=new L.Point(c.x+h*Math.cos(p),c.y+h*Math.sin(p))._round()),p+=f/h+b*5e-4,h+=g/p;return x},_noanimationUnspiderfy:function(){var o=this._group,c=o._map,u=o._featureGroup,h=this.getAllChildMarkers(null,!0),f,g;for(o._ignoreMove=!0,this.setOpacity(1),g=h.length-1;g>=0;g--)f=h[g],u.removeLayer(f),f._preSpiderfyLatlng&&(f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng),f.setZIndexOffset&&f.setZIndexOffset(0),f._spiderLeg&&(c.removeLayer(f._spiderLeg),delete f._spiderLeg);o.fire("unspiderfied",{cluster:this,markers:h}),o._ignoreMove=!1,o._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(o,c){var u=this._group,h=u._map,f=u._featureGroup,g=this._group.options.spiderLegPolylineOptions,p,x,b,C;for(u._ignoreMove=!0,p=0;p<o.length;p++)C=h.layerPointToLatLng(c[p]),x=o[p],b=new L.Polyline([this._latlng,C],g),h.addLayer(b),x._spiderLeg=b,x._preSpiderfyLatlng=x._latlng,x.setLatLng(C),x.setZIndexOffset&&x.setZIndexOffset(1e6),f.addLayer(x);this.setOpacity(.3),u._ignoreMove=!1,u.fire("spiderfied",{cluster:this,markers:o})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(o,c){var u=this,h=this._group,f=h._map,g=h._featureGroup,p=this._latlng,x=f.latLngToLayerPoint(p),b=L.Path.SVG,C=L.extend({},this._group.options.spiderLegPolylineOptions),v=C.opacity,S,j,w,N,P,E;for(v===void 0&&(v=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),b?(C.opacity=0,C.className=(C.className||"")+" leaflet-cluster-spider-leg"):C.opacity=v,h._ignoreMove=!0,S=0;S<o.length;S++)j=o[S],E=f.layerPointToLatLng(c[S]),w=new L.Polyline([p,E],C),f.addLayer(w),j._spiderLeg=w,b&&(N=w._path,P=N.getTotalLength()+.1,N.style.strokeDasharray=P,N.style.strokeDashoffset=P),j.setZIndexOffset&&j.setZIndexOffset(1e6),j.clusterHide&&j.clusterHide(),g.addLayer(j),j._setPos&&j._setPos(x);for(h._forceLayout(),h._animationStart(),S=o.length-1;S>=0;S--)E=f.layerPointToLatLng(c[S]),j=o[S],j._preSpiderfyLatlng=j._latlng,j.setLatLng(E),j.clusterShow&&j.clusterShow(),b&&(w=j._spiderLeg,N=w._path,N.style.strokeDashoffset=0,w.setStyle({opacity:v}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:u,markers:o})},200)},_animationUnspiderfy:function(o){var c=this,u=this._group,h=u._map,f=u._featureGroup,g=o?h._latLngToNewLayerPoint(this._latlng,o.zoom,o.center):h.latLngToLayerPoint(this._latlng),p=this.getAllChildMarkers(null,!0),x=L.Path.SVG,b,C,v,S,j,w;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),C=p.length-1;C>=0;C--)b=p[C],b._preSpiderfyLatlng&&(b.closePopup(),b.setLatLng(b._preSpiderfyLatlng),delete b._preSpiderfyLatlng,w=!0,b._setPos&&(b._setPos(g),w=!1),b.clusterHide&&(b.clusterHide(),w=!1),w&&f.removeLayer(b),x&&(v=b._spiderLeg,S=v._path,j=S.getTotalLength()+.1,S.style.strokeDashoffset=j,v.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var N=0;for(C=p.length-1;C>=0;C--)b=p[C],b._spiderLeg&&N++;for(C=p.length-1;C>=0;C--)b=p[C],b._spiderLeg&&(b.clusterShow&&b.clusterShow(),b.setZIndexOffset&&b.setZIndexOffset(0),N>1&&f.removeLayer(b),h.removeLayer(b._spiderLeg),delete b._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:c,markers:p})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(o){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(o))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(o){this._spiderfied&&this._spiderfied.unspiderfy(o)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(o){o._spiderLeg&&(this._featureGroup.removeLayer(o),o.clusterShow&&o.clusterShow(),o.setZIndexOffset&&o.setZIndexOffset(0),this._map.removeLayer(o._spiderLeg),delete o._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(o){return o?o instanceof L.MarkerClusterGroup?o=o._topClusterLevel.getAllChildMarkers():o instanceof L.LayerGroup?o=o._layers:o instanceof L.MarkerCluster?o=o.getAllChildMarkers():o instanceof L.Marker&&(o=[o]):o=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(o),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(o),this},_flagParentsIconsNeedUpdate:function(o){var c,u;for(c in o)for(u=o[c].__parent;u;)u._iconNeedsUpdate=!0,u=u.__parent},_refreshSingleMarkerModeMarkers:function(o){var c,u;for(c in o)u=o[c],this.hasLayer(u)&&u.setIcon(this._overrideMarkerIcon(u))}}),L.Marker.include({refreshIconOptions:function(o,c){var u=this.options.icon;return L.setOptions(u,o),this.setIcon(u),c&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=a,Object.defineProperty(n,"__esModule",{value:!0})})})(Iv,Iv.exports);const wE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABkAAAApCAYAAADAk4LOAAAFgUlEQVR4Aa1XA5BjWRTN2oW17d3YaZtr2962HUzbDNpjszW24mRt28p47v7zq/bXZtrp/lWnXr337j3nPCe85NcypgSFdugCpW5YoDAMRaIMqRi6aKq5E3YqDQO3qAwjVWrD8Ncq/RBpykd8oZUb/kaJutow8r1aP9II0WmLKLIsJyv1w/kqw9Ch2MYdB++12Onxee/QMwvf4/Dk/Lfp/i4nxTXtOoQ4pW5Aj7wpici1A9erdAN2OH64x8OSP9j3Ft3b7aWkTg/Fm91siTra0f9on5sQr9INejH6CUUUpavjFNq1B+Oadhxmnfa8RfEmN8VNAsQhPqF55xHkMzz3jSmChWU6f7/XZKNH+9+hBLOHYozuKQPxyMPUKkrX/K0uWnfFaJGS1QPRtZsOPtr3NsW0uyh6NNCOkU3Yz+bXbT3I8G3xE5EXLXtCXbbqwCO9zPQYPRTZ5vIDXD7U+w7rFDEoUUf7ibHIR4y6bLVPXrz8JVZEql13trxwue/uDivd3fkWRbS6/IA2bID4uk0UpF1N8qLlbBlXs4Ee7HLTfV1j54APvODnSfOWBqtKVvjgLKzF5YdEk5ewRkGlK0i33Eofffc7HT56jD7/6U+qH3Cx7SBLNntH5YIPvODnyfIXZYRVDPqgHtLs5ABHD3YzLuespb7t79FY34DjMwrVrcTuwlT55YMPvOBnRrJ4VXTdNnYug5ucHLBjEpt30701A3Ts+HEa73u6dT3FNWwflY86eMHPk+Yu+i6pzUpRrW7SNDg5JHR4KapmM5Wv2E8Tfcb1HoqqHMHU+uWDD7zg54mz5/2BSnizi9T1Dg4QQXLToGNCkb6tb1NU+QAlGr1++eADrzhn/u8Q2YZhQVlZ5+CAOtqfbhmaUCS1ezNFVm2imDbPmPng5wmz+gwh+oHDce0eUtQ6OGDIyR0uUhUsoO3vfDmmgOezH0mZN59x7MBi++WDL1g/eEiU3avlidO671bkLfwbw5XV2P8Pzo0ydy4t2/0eu33xYSOMOD8hTf4CrBtGMSoXfPLchX+J0ruSePw3LZeK0juPJbYzrhkH0io7B3k164hiGvawhOKMLkrQLyVpZg8rHFW7E2uHOL888IBPlNZ1FPzstSJM694fWr6RwpvcJK60+0HCILTBzZLFNdtAzJaohze60T8qBzyh5ZuOg5e7uwQppofEmf2++DYvmySqGBuKaicF1blQjhuHdvCIMvp8whTTfZzI7RldpwtSzL+F1+wkdZ2TBOW2gIF88PBTzD/gpeREAMEbxnJcaJHNHrpzji0gQCS6hdkEeYt9DF/2qPcEC8RM28Hwmr3sdNyht00byAut2k3gufWNtgtOEOFGUwcXWNDbdNbpgBGxEvKkOQsxivJx33iow0Vw5S6SVTrpVq11ysA2Rp7gTfPfktc6zhtXBBC+adRLshf6sG2RfHPZ5EAc4sVZ83yCN00Fk/4kggu40ZTvIEm5g24qtU4KjBrx/BTTH8ifVASAG7gKrnWxJDcU7x8X6Ecczhm3o6YicvsLXWfh3Ch1W0k8x0nXF+0fFxgt4phz8QvypiwCCFKMqXCnqXExjq10beH+UUA7+nG6mdG/Pu0f3LgFcGrl2s0kNNjpmoJ9o4B29CMO8dMT4Q5ox8uitF6fqsrJOr8qnwNbRzv6hSnG5wP+64C7h9lp30hKNtKdWjtdkbuPA19nJ7Tz3zR/ibgARbhb4AlhavcBebmTHcFl2fvYEnW0ox9xMxKBS8btJ+KiEbq9zA4RthQXDhPa0T9TEe69gWupwc6uBUphquXgf+/FrIjweHQS4/pduMe5ERUMHUd9xv8ZR98CxkS4F2n3EUrUZ10EYNw7BWm9x1GiPssi3GgiGRDKWRYZfXlON+dfNbM+GgIwYdwAAAAASUVORK5CYII=",bE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAABSCAMAAAAhFXfZAAAC91BMVEVMaXEzeak2f7I4g7g3g7cua5gzeKg8hJo3grY4g7c3grU0gLI2frE0daAubJc2gbQwd6QzeKk2gLMtd5sxdKIua5g1frA2f7IydaM0e6w2fq41fK01eqo3grgubJgta5cxdKI1f7AydaQydaMxc6EubJgvbJkwcZ4ubZkwcJwubZgubJcydqUydKIxapgubJctbJcubZcubJcvbJYubJcvbZkubJctbJctbZcubJg2f7AubJcrbZcubJcubJcua5g3grY0fq8ubJcubJdEkdEwhsw6i88vhswuhcsuhMtBjMgthMsrg8srgss6is8qgcs8i9A9iMYtg8spgcoogMo7hcMngMonf8olfso4gr8kfck5iM8jfMk4iM8he8k1fro7itAgesk2hs8eecgzfLcofssdeMg0hc4cd8g2hcsxeLQbdsgZdcgxeLImfcszhM0vda4xgckzhM4xg84wf8Yxgs4udKsvfcQucqhUndROmdM1fK0wcZ8vb5w0eqpQm9MzeKhXoNVcpdYydKNWn9VZotVKltJFjsIwcJ1Rms9OlslLmtH///8+kc9epdYzd6dbo9VHkMM2f7FHmNBClM8ydqVcpNY9hro3gLM9hLczealQmcw3fa46f7A8gLMxc6I3eagyc6FIldJMl9JSnNRSntNNl9JPnNJFi75UnM9ZodVKksg8kM45jc09e6ZHltFBk883gbRBh7pDk9EwcaBzn784g7dKkcY2i81Om9M7j85Llc81is09g7Q4grY/j9A0eqxKmdFFltBEjcXf6fFImdBCiLxJl9FGlNFBi78yiMxVndEvbpo6js74+vx+psPP3+o/ks5HkcpGmNCjwdZCkNDM3ehYoNJEls+lxNkxh8xHks0+jdC1zd5Lg6r+/v/H2ufz9/o3jM3t8/edvdM/k89Th61OiLBSjbZklbaTt9BfptdjmL1AicBHj8hGk9FAgK1dkLNTjLRekrdClc/k7fM0icy0y9tgp9c4jc2NtM9Dlc8zicxeXZn3AAAAQ3RSTlMAHDdTb4yPA+LtnEQmC4L2EmHqB7XA0d0sr478x4/Yd5i1zOfyPkf1sLVq4Nh3FvjxopQ2/STNuFzUwFIwxKaejILpIBEV9wAABhVJREFUeF6s1NdyFEcYBeBeoQIhRAkLlRDGrhIgY3BJL8CVeKzuyXFzzjkn5ZxzzuScg3PO8cKzu70JkO0LfxdTU//pM9vTu7Xgf6KqOVTb9X7toRrVEfBf1HTVjZccrT/2by1VV928Yty9ZbVuucdz90frG8DBjl9pVApbOstvmMuvVgaNXSfAAd6pGxpy6yxf5ph43pS/4f3uoaGm2rdu72S9xzOvMymkZFq/ptDrk90mhW7e4zl7HLzhxGWPR20xmSxJ/VqldG5m9XhaVOA1DadsNh3Pu5L2N6QtPO/32JpqQBVVk20oy/Pi2s23WEvyfHbe1thadVQttvm7Llf65gGmXK67XtupyoM7HQhmXdLS8oGWJNeOJ3C5fG5XCEJnkez3/oFdsvgJ4l2ANZwhrJKk/7OSXa+3Vw2WJMlKnGkobouYk6T0TyX30klOUnTD9HJ5qpckL3EW/w4XF3Xd0FGywXUrstrclVsqz5Pd/sXFYyDnPdrLcQODmGOK47IZb4CmibmMn+MYRzFZ5jg33ZL/EJrWcszHmANy3ARBK/IXtciJy8VsitPSdE3uuHxzougojcUdr8/32atnz/ev3f/K5wtpxUTpcaI45zusVDpYtZi+jg0oU9b3x74h7+n9ABvYEZeKaVq0sh0AtLKsFtqNBdeT0MrSzwwlq9+x6xAO4tgOtSzbCjrNQQiNvQUbUEubvzBUeGw26yDCsRHCoLkTHDa7IdOLIThs/gHvChszh2CimE8peRs47cxANI0lYNB5y1DljpOF0IhzBDPOZnDOqYYbeGKECbPzWnXludPphw5c2YBq5zlwXphIbO4VDCZ0gnPfUO1TwZoYwAs2ExPCedAu9DAjfQUjzITQb3jNj0KG2Sgt6BHaQUdYzWz+XmBktOHwanXjaSTcwwziBcuMOtwBmqPrTOxFQR/DRKKPqyur0aiW6cULYsx6tBm0jXpR/AUWR6HRq9WVW6MRhIq5jLyjbaCTDCijyYJNpCajdyobP/eTw0iexBAKkJ3gA5KcQb2zBXsIBckn+xVv8jkZSaEFHE+jFEleAEfayRU0MouNoBmB/L50Ai/HSLIHxcrpCvnhSQAuakKp2C/YbCylJjXRVy/z3+Kv/RrNcCo+WUzlVEhzKffnTQnxeN9fWF88fiNCUdSTsaufaChKWInHeysygfpIqagoakW+vV20J8uyl6TyNKEZWV4oRSPyCkWpgOLSbkCObT8o2r6tlG58HQquf6O0v50tB7JM7F4EORd2dx/K0w/KHsVkLPaoYrwgP/y7krr3SSMA4zj+OBgmjYkxcdIJQyQRKgg2viX9Hddi9UBb29LrKR7CVVEEEXWojUkXNyfTNDE14W9gbHJNuhjDettN3ZvbOvdOqCD3Jp/9l+/wJE+9PkYGjx/fqkys3S2rMozM/o2106rfMUINo6hVqz+eu/hd1c4xTg0TAfy5kV+4UG6+IthHTU9woWmxuKNbTfuCSfovBCxq7EtHqvYL4Sm6F8GVxsSXHMQ07TOi1DKtZxjWaaIyi4CXWjxPccUw8WVbMYY5wxC1mzEyXMJWkllpRloi+Kkoq69sxBTlElF6aAxYUbjXNlhlDZilDnM4U5SlN5biRsRHnbx3mbeWjEh4mEyiuJDl5XcWVmX5GvNkFgLWZM5qwsop4/AWfLhU1cR7k1VVvcYCWRkOI6Xy5gmnphCYIkvzuNYzHzosq2oNk2RtSs8khfUOfHIDgR6ysYBaMpl4uEgk2U/oJTs9AaTSwma7dT69geAE2ZpEjUsn2ieJNHeKfrI3EcAGJ2ZaNgVuC8EBctCLc57P5u5led6IOBkIYkuQMrmmjChs4VkfOerHqSBkPzZlhe06RslZ3zMjk2sscqKwY0RcjKK+LWbzd7KiHhkncs/siFJ+V5eXxD34B8nVuJEpGJNmxN2gH3vSvp7J70tF+D1Ej8qUJD1TkErAND2GZwTFg/LubvmgiBG3SOvdlsqFQrkEzJCL1rstlnVFROixZoDDSuXQFHESwVGlcuQcMb/b42NgjLowh5MTDFE3vNB5qStRIErdCQEh6pLPR92anSUb/wAIhldAaDMpGgAAAABJRU5ErkJggg==",jE="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACkAAAApCAQAAAACach9AAACMUlEQVR4Ae3ShY7jQBAE0Aoz/f9/HTMzhg1zrdKUrJbdx+Kd2nD8VNudfsL/Th///dyQN2TH6f3y/BGpC379rV+S+qqetBOxImNQXL8JCAr2V4iMQXHGNJxeCfZXhSRBcQMfvkOWUdtfzlLgAENmZDcmo2TVmt8OSM2eXxBp3DjHSMFutqS7SbmemzBiR+xpKCNUIRkdkkYxhAkyGoBvyQFEJEefwSmmvBfJuJ6aKqKWnAkvGZOaZXTUgFqYULWNSHUckZuR1HIIimUExutRxwzOLROIG4vKmCKQt364mIlhSyzAf1m9lHZHJZrlAOMMztRRiKimp/rpdJDc9Awry5xTZCte7FHtuS8wJgeYGrex28xNTd086Dik7vUMscQOa8y4DoGtCCSkAKlNwpgNtphjrC6MIHUkR6YWxxs6Sc5xqn222mmCRFzIt8lEdKx+ikCtg91qS2WpwVfBelJCiQJwvzixfI9cxZQWgiSJelKnwBElKYtDOb2MFbhmUigbReQBV0Cg4+qMXSxXSyGUn4UbF8l+7qdSGnTC0XLCmahIgUHLhLOhpVCtw4CzYXvLQWQbJNmxoCsOKAxSgBJno75avolkRw8iIAFcsdc02e9iyCd8tHwmeSSoKTowIgvscSGZUOA7PuCN5b2BX9mQM7S0wYhMNU74zgsPBj3HU7wguAfnxxjFQGBE6pwN+GjME9zHY7zGp8wVxMShYX9NXvEWD3HbwJf4giO4CFIQxXScH1/TM+04kkBiAAAAAElFTkSuQmCC";class NE{constructor(){this.allRestaurants=[],this.visibleRestaurants=[],this.spatialIndex=new Map,this.currentBounds=null,this.performanceMetrics={markersLoaded:0,renderTime:0,memoryUsage:0,lastUpdate:0},this.MAX_MARKERS_PER_VIEWPORT=1e3,this.GRID_SIZE=.01,this.MIN_ZOOM_FOR_INDIVIDUAL_MARKERS=12,this.PERFORMANCE_MONITORING_INTERVAL=5e3,this.startPerformanceMonitoring()}async initializeDataset(t){const n=performance.now();this.allRestaurants=t,this.buildSpatialIndex(),performance.now()-n,this.performanceMetrics.lastUpdate=Date.now()}buildSpatialIndex(){this.spatialIndex.clear();for(const t of this.allRestaurants){const n=this.getGridKey(t.latitude,t.longitude);this.spatialIndex.has(n)||this.spatialIndex.set(n,[]),this.spatialIndex.get(n).push(t)}}getGridKey(t,n){const r=Math.floor(t/this.GRID_SIZE)*this.GRID_SIZE,a=Math.floor(n/this.GRID_SIZE)*this.GRID_SIZE;return`${r.toFixed(3)},${a.toFixed(3)}`}updateViewport(t){const n=performance.now();this.currentBounds=t;const r=this.getRestaurantsInViewport(t),a=this.applyPerformanceFiltering(r,t);this.visibleRestaurants=a;const o=performance.now()-n;return this.performanceMetrics.markersLoaded=a.length,this.performanceMetrics.renderTime=o,a}getRestaurantsInViewport(t){const n=[],r=Math.floor(t.south/this.GRID_SIZE)*this.GRID_SIZE,a=Math.ceil(t.north/this.GRID_SIZE)*this.GRID_SIZE,o=Math.floor(t.west/this.GRID_SIZE)*this.GRID_SIZE,c=Math.ceil(t.east/this.GRID_SIZE)*this.GRID_SIZE;for(let u=r;u<=a;u+=this.GRID_SIZE)for(let h=o;h<=c;h+=this.GRID_SIZE){const f=`${u.toFixed(3)},${h.toFixed(3)}`,g=this.spatialIndex.get(f)||[];for(const p of g)this.isInBounds(p,t)&&n.push(p)}return n}isInBounds(t,n){return t.latitude>=n.south&&t.latitude<=n.north&&t.longitude>=n.west&&t.longitude<=n.east}applyPerformanceFiltering(t,n){let r=this.MAX_MARKERS_PER_VIEWPORT;return n.zoom<10?r=500:n.zoom<12?r=600:n.zoom<14?r=800:r=1e3,t.length<=r?t:this.prioritizeRestaurants(t,r)}prioritizeRestaurants(t,n){const r=[...t].sort((o,c)=>{const u=parseFloat(o.veganScore)||0,h=parseFloat(c.veganScore)||0;if(u!==h)return h-u;const f=o.rating||0,g=c.rating||0;return f!==g?g-f:Math.random()-.5}),a=Math.max(0,n);return r.slice(0,a)}getClusteringStrategy(t){return t<this.MIN_ZOOM_FOR_INDIVIDUAL_MARKERS?"cluster":t>15?"individual":"hybrid"}cleanup(){this.visibleRestaurants=[],window.gc&&window.gc()}getPerformanceMetrics(){return{...this.performanceMetrics}}startPerformanceMonitoring(){setInterval(()=>{performance.memory&&(this.performanceMetrics.memoryUsage=performance.memory.usedJSHeapSize/1024/1024),this.performanceMetrics.markersLoaded>this.MAX_MARKERS_PER_VIEWPORT*.9,this.performanceMetrics.renderTime>100},this.PERFORMANCE_MONITORING_INTERVAL)}searchInViewport(t){if(!t.trim())return this.visibleRestaurants;const n=t.toLowerCase();return this.visibleRestaurants.filter(r=>{var a;return r.name.toLowerCase().includes(n)||((a=r.cuisineTypes)==null?void 0:a.some(o=>o.toLowerCase().includes(n)))})}getRestaurantsByTier(t){const r={premium:4,good:3,basic:0}[t];return this.visibleRestaurants.filter(a=>(parseFloat(a.veganScore)||0)>=r)}updateRestaurants(t){const n=new Set(t.map(r=>r.id));this.allRestaurants=this.allRestaurants.filter(r=>!n.has(r.id)),this.allRestaurants.push(...t),this.buildSpatialIndex()}getStatistics(){return{totalRestaurants:this.allRestaurants.length,visibleRestaurants:this.visibleRestaurants.length,gridCells:this.spatialIndex.size,averageRestaurantsPerCell:this.allRestaurants.length/this.spatialIndex.size,performanceMetrics:this.performanceMetrics,memoryEstimate:`${(this.allRestaurants.length*200/1024/1024).toFixed(2)}MB`}}}delete Oi.Icon.Default.prototype._getIconUrl;Oi.Icon.Default.mergeOptions({iconUrl:wE,iconRetinaUrl:bE,shadowUrl:jE});const SE=({restaurants:e,onRestaurantClick:t,onMapMove:n,searchQuery:r="",center:a=[42.6977,23.3219],zoom:o=10,className:c="",highlightedRestaurants:u=new Set,userFavorites:h=[],aiHighlightedRestaurants:f=new Set,isAuthenticated:g=!1})=>{const p=y.useRef(null),x=y.useRef(null),b=y.useRef(null),C=y.useRef(null),v=y.useRef([]),[S,j]=y.useState(!1),[w,N]=y.useState({}),[P,E]=y.useState(!1);y.useEffect(()=>{C.current||(C.current=new NE)},[]),y.useEffect(()=>{if(!x.current||p.current)return;const H=window.innerWidth<768,B={center:a,zoom:o,zoomControl:!0,attributionControl:!1,preferCanvas:!0,maxZoom:18,minZoom:8,touchZoom:!0,dragging:!0};H&&(B.tap=!0,B.tapTolerance=40);const X=Oi.map(x.current,B);Oi.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"© OpenStreetMap contributors",maxZoom:18,updateWhenZooming:!1,updateWhenIdle:!0}).addTo(X);const Z=Oi.markerClusterGroup({chunkedLoading:!0,spiderfyOnEveryZoom:!1,showCoverageOnHover:!1,zoomToBoundsOnClick:!0,removeOutsideVisibleBounds:!0,maxClusterRadius:60,iconCreateFunction:K=>{const ie=K.getChildCount();let A,$;return ie<=20?(A="vg-cluster vg-cl-small",$=35):ie<=50?(A="vg-cluster vg-cl-medium",$=45):(A="vg-cluster vg-cl-large",$=55),Oi.divIcon({html:`<div class="${A}"><span>${ie}</span></div>`,className:"vg-cluster-marker",iconSize:[$,$],iconAnchor:[$/2,$/2]})}});console.log("[OptimizedMap] MarkerCluster group created successfully"),X.addLayer(Z),p.current=X,b.current=Z,H&&(setTimeout(()=>{X.invalidateSize()},100),setTimeout(()=>{X.invalidateSize(!0)},500));const ce=G(()=>{if(!p.current||!C.current)return;const K=p.current.getBounds(),ie=p.current.getZoom(),A={north:K.getNorth(),south:K.getSouth(),east:K.getEast(),west:K.getWest(),zoom:ie},$=C.current.updateViewport(A);R($),N(C.current.getStatistics()),n==null||n(A)},300);return X.on("moveend",ce),X.on("zoomend",ce),E(!0),()=>{var K;p.current&&(p.current.remove(),p.current=null),(K=C.current)==null||K.cleanup()}},[a,o,n]),y.useEffect(()=>{if(!C.current||!e.length)return;(async()=>{j(!0);const B=setTimeout(()=>{j(!1)},3e3);try{if(await C.current.initializeDataset(e),p.current){const X=p.current.getBounds(),Z=p.current.getZoom(),ce={north:X.getNorth(),south:X.getSouth(),east:X.getEast(),west:X.getWest(),zoom:Z},K=C.current.updateViewport(ce);R(K)}N(C.current.getStatistics())}catch{}finally{clearTimeout(B),j(!1)}})()},[e]),y.useEffect(()=>{if(!C.current||!P)return;const H=C.current.searchInViewport(r);R(H)},[r,P]);const R=y.useCallback(H=>{if(!b.current)return;if(H.length===0){b.current.clearLayers(),v.current=[];return}const B=performance.now();b.current.clearLayers(),v.current=[];const X=[];H.slice(0,500).forEach(A=>{const $=parseFloat(A.veganScore)||0,F=f.has(parseInt(A.id)),J=h.includes(A.id),fe=F?"#9333ea":z($),V=Oi.marker([A.latitude,A.longitude],{icon:I($,fe,F,J),riseOnHover:!1}),ee=V.bindPopup(U(A),{maxWidth:300,className:"custom-popup"});V.on("popupopen",()=>{const te=ee.getPopup();if(te){const oe=te.getElement();if(oe){const ne=oe.querySelector(".info-icon"),ge=oe.querySelector(".score-explanation");ne&&ge&&ne.addEventListener("click",ye=>{ye.stopPropagation();const Te=ge.style.display==="none";ge.style.display=Te?"block":"none"})}}}),V.on("click",()=>{t==null||t(A)}),X.push(V)}),H.length>0;const ce=50;let K=0;const ie=()=>{if(K<X.length&&b.current){const A=X.slice(K,Math.min(K+ce,X.length));b.current.addLayers(A),K+=ce,requestAnimationFrame(ie)}};requestAnimationFrame(ie),v.current=X,performance.now()-B},[t,h,f]),I=(H,B,X=!1,Z=!1)=>Oi.divIcon({className:"custom-marker",html:`
        <div style="width: 30px; height: 30px; background-color: ${B}; border-radius: 50% 50% 50% 0; transform: rotate(-45deg); position: relative; border: 2px solid white; box-shadow: 0 2px 4px rgba(0,0,0,0.3);">
          <div style="transform: rotate(45deg); position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%) rotate(45deg); color: white; font-weight: bold; font-size: 12px;">
            ${H.toFixed(1)}
          </div>
        </div>
      `,iconSize:[30,30],iconAnchor:[15,30],popupAnchor:[0,-30]}),z=H=>H>=4?"#22c55e":H>=3?"#eab308":H>=2?"#f97316":"#ef4444",U=H=>{var K;const B=parseFloat(H.veganScore)||0,X=Math.min(5,Math.max(0,Math.round(B))),Z="★".repeat(X)+"☆".repeat(5-X),ce=ie=>ie>=4.5?"Excellent vegan options":ie>=3.5?"Good vegan choices":ie>=2.5?"Some vegan options":ie>=1.5?"Limited vegan options":"Few vegan options";return`
      <div class="restaurant-popup">
        <h3 class="popup-title">${H.name}</h3>
        <div class="popup-score">
          <span class="stars">${Z}</span>
          <span class="score-value">${B.toFixed(1)}/5</span>
          <span class="info-icon" title="Click for score details">ℹ️</span>
        </div>
        <div class="score-description">${ce(B)}</div>
        <div class="score-explanation" style="display: none;">
          <div class="explanation-header">AI Vegan Score Analysis</div>
          <div class="explanation-content">
            <p>Score based on:</p>
            <ul>
              <li>Menu analysis for vegan options</li>
              <li>Ingredient transparency</li>
              <li>Kitchen safety practices</li>
              <li>Staff training on dietary needs</li>
            </ul>
            <div class="explanation-footer">Powered by AI • Updated regularly</div>
          </div>
        </div>
        ${(K=H.cuisineTypes)!=null&&K.length?`<div class="popup-cuisine">${H.cuisineTypes.join(", ")}</div>`:""}
        ${H.address?`<div class="popup-address">${H.address}</div>`:""}
      </div>
    `};function G(H,B){let X;return(...Z)=>{X||(H.apply(null,Z),X=!0,setTimeout(()=>X=!1,B))}}return s.jsxs("div",{className:`relative w-full h-full ${c}`,children:[s.jsx("div",{ref:x,className:"w-full h-full",style:{minHeight:"400px",height:"100%",position:"relative",zIndex:1,backgroundColor:"#f5f5f5"}}),S&&s.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-50 flex items-center justify-center",style:{zIndex:10,pointerEvents:"none"},children:s.jsxs("div",{className:"flex flex-col items-center",children:[s.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500"}),s.jsx("p",{className:"mt-2 text-gray-600 text-sm",children:"Loading map..."})]})}),!1,s.jsx("style",{children:`
        .cluster-icon {
          background: none !important;
          border: none !important;
        }
        .cluster-marker {
          background: #3B82F6;
          color: white;
          border-radius: 50%;
          display: flex;
          align-items: center;
          justify-content: center;
          font-weight: bold;
          font-size: 12px;
          border: 2px solid white;
          box-shadow: 0 2px 4px rgba(0,0,0,0.2);
          will-change: transform; /* Optimize for animations */
        }
        .cluster-small { 
          width: 30px; 
          height: 30px; 
          font-size: 11px;
          background: #10b981;
        }
        .cluster-medium { 
          width: 40px; 
          height: 40px; 
          font-size: 12px;
          background: #f59e0b;
        }
        .cluster-large { 
          width: 50px; 
          height: 50px; 
          font-size: 14px;
          background: #ef4444;
        }
        .custom-marker {
          background: none;
          border: none;
        }
        .marker-pin {
          width: 24px;
          height: 24px;
          border-radius: 50%;
          border: 2px solid white;
          display: flex;
          align-items: center;
          justify-content: center;
          color: white;
          font-weight: bold;
          font-size: 10px;
          box-shadow: 0 2px 4px rgba(0,0,0,0.3);
        }
        .restaurant-popup {
          min-width: 200px;
        }
        .popup-title {
          font-size: 16px;
          font-weight: bold;
          margin: 0 0 8px 0;
          color: #1f2937;
        }
        .popup-score {
          display: flex;
          align-items: center;
          gap: 8px;
          margin-bottom: 8px;
        }
        .stars {
          color: #f59e0b;
          letter-spacing: 2px;
        }
        .score-value {
          color: #6b7280;
          font-size: 14px;
        }
        .popup-cuisine {
          color: #6b7280;
          font-size: 12px;
          margin-bottom: 4px;
        }
        .popup-address {
          color: #9ca3af;
          font-size: 12px;
          line-height: 1.4;
        }
        .info-icon {
          cursor: pointer;
          opacity: 0.6;
          transition: opacity 0.2s;
          font-size: 14px;
        }
        .info-icon:hover {
          opacity: 1;
        }
        .score-description {
          color: #4b5563;
          font-size: 13px;
          margin-bottom: 8px;
          font-weight: 500;
        }
        .score-explanation {
          background: #f9fafb;
          border: 1px solid #e5e7eb;
          border-radius: 6px;
          padding: 12px;
          margin-top: 8px;
          margin-bottom: 8px;
        }
        .explanation-header {
          font-weight: 600;
          color: #374151;
          margin-bottom: 8px;
          font-size: 13px;
        }
        .explanation-content {
          font-size: 12px;
          color: #6b7280;
        }
        .explanation-content p {
          margin: 0 0 6px 0;
        }
        .explanation-content ul {
          margin: 0;
          padding-left: 16px;
          list-style: disc;
        }
        .explanation-content li {
          margin: 2px 0;
        }
        .explanation-footer {
          margin-top: 8px;
          padding-top: 8px;
          border-top: 1px solid #e5e7eb;
          font-size: 11px;
          color: #9ca3af;
        }
      `})]})};var Ld="focusScope.autoFocusOnMount",Ed="focusScope.autoFocusOnUnmount",Ov={bubbles:!1,cancelable:!0},CE="FocusScope",Cm=y.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:o,...c}=e,[u,h]=y.useState(null),f=$t(a),g=$t(o),p=y.useRef(null),x=Be(t,v=>h(v)),b=y.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;y.useEffect(()=>{if(r){let v=function(N){if(b.paused||!u)return;const P=N.target;u.contains(P)?p.current=P:Ri(p.current,{select:!0})},S=function(N){if(b.paused||!u)return;const P=N.relatedTarget;P!==null&&(u.contains(P)||Ri(p.current,{select:!0}))},j=function(N){if(document.activeElement===document.body)for(const E of N)E.removedNodes.length>0&&Ri(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",S);const w=new MutationObserver(j);return u&&w.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),w.disconnect()}}},[r,u,b.paused]),y.useEffect(()=>{if(u){Dv.add(b);const v=document.activeElement;if(!u.contains(v)){const j=new CustomEvent(Ld,Ov);u.addEventListener(Ld,f),u.dispatchEvent(j),j.defaultPrevented||(kE(ME(ww(u)),{select:!0}),document.activeElement===v&&Ri(u))}return()=>{u.removeEventListener(Ld,f),setTimeout(()=>{const j=new CustomEvent(Ed,Ov);u.addEventListener(Ed,g),u.dispatchEvent(j),j.defaultPrevented||Ri(v??document.body,{select:!0}),u.removeEventListener(Ed,g),Dv.remove(b)},0)}}},[u,f,g,b]);const C=y.useCallback(v=>{if(!n&&!r||b.paused)return;const S=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,j=document.activeElement;if(S&&j){const w=v.currentTarget,[N,P]=PE(w);N&&P?!v.shiftKey&&j===P?(v.preventDefault(),n&&Ri(N,{select:!0})):v.shiftKey&&j===N&&(v.preventDefault(),n&&Ri(P,{select:!0})):j===w&&v.preventDefault()}},[n,r,b.paused]);return s.jsx(xe.div,{tabIndex:-1,...c,ref:x,onKeyDown:C})});Cm.displayName=CE;function kE(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ri(r,{select:t}),document.activeElement!==n)return}function PE(e){const t=ww(e),n=zv(t,e),r=zv(t.reverse(),e);return[n,r]}function ww(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function zv(e,t){for(const n of e)if(!LE(n,{upTo:t}))return n}function LE(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function EE(e){return e instanceof HTMLInputElement&&"select"in e}function Ri(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&EE(e)&&t&&e.select()}}var Dv=TE();function TE(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Fv(e,t),e.unshift(t)},remove(t){var n;e=Fv(e,t),(n=e[0])==null||n.resume()}}}function Fv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function ME(e){return e.filter(t=>t.tagName!=="A")}var Td=0;function bw(){y.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??Bv()),document.body.insertAdjacentElement("beforeend",e[1]??Bv()),Td++,()=>{Td===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),Td--}},[])}function Bv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var qn=function(){return qn=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},qn.apply(this,arguments)};function jw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function RE(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,o;r<a;r++)(o||!(r in t))&&(o||(o=Array.prototype.slice.call(t,0,r)),o[r]=t[r]);return e.concat(o||Array.prototype.slice.call(t))}var Yl="right-scroll-bar-position",Xl="width-before-scroll-bar",AE="with-scroll-bars-hidden",IE="--removed-body-scroll-bar-size";function Md(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function OE(e,t){var n=y.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var zE=typeof window<"u"?y.useLayoutEffect:y.useEffect,Vv=new WeakMap;function DE(e,t){var n=OE(null,function(r){return e.forEach(function(a){return Md(a,r)})});return zE(function(){var r=Vv.get(n);if(r){var a=new Set(r),o=new Set(e),c=n.current;a.forEach(function(u){o.has(u)||Md(u,null)}),o.forEach(function(u){a.has(u)||Md(u,c)})}Vv.set(n,e)},[e]),n}function FE(e){return e}function BE(e,t){t===void 0&&(t=FE);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(o){var c=t(o,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(o){for(r=!0;n.length;){var c=n;n=[],c.forEach(o)}n={push:function(u){return o(u)},filter:function(){return n}}},assignMedium:function(o){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(o),c=n}var h=function(){var g=c;c=[],g.forEach(o)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(g){c.push(g),f()},filter:function(g){return c=c.filter(g),n}}}};return a}function VE(e){e===void 0&&(e={});var t=BE(null);return t.options=qn({async:!0,ssr:!1},e),t}var Nw=function(e){var t=e.sideCar,n=jw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return y.createElement(r,qn({},n))};Nw.isSideCarExport=!0;function HE(e,t){return e.useMedium(t),Nw}var Sw=VE(),Rd=function(){},cu=y.forwardRef(function(e,t){var n=y.useRef(null),r=y.useState({onScrollCapture:Rd,onWheelCapture:Rd,onTouchMoveCapture:Rd}),a=r[0],o=r[1],c=e.forwardProps,u=e.children,h=e.className,f=e.removeScrollBar,g=e.enabled,p=e.shards,x=e.sideCar,b=e.noIsolation,C=e.inert,v=e.allowPinchZoom,S=e.as,j=S===void 0?"div":S,w=e.gapMode,N=jw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),P=x,E=DE([n,t]),R=qn(qn({},N),a);return y.createElement(y.Fragment,null,g&&y.createElement(P,{sideCar:Sw,removeScrollBar:f,shards:p,noIsolation:b,inert:C,setCallbacks:o,allowPinchZoom:!!v,lockRef:n,gapMode:w}),c?y.cloneElement(y.Children.only(u),qn(qn({},R),{ref:E})):y.createElement(j,qn({},R,{className:h,ref:E}),u))});cu.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cu.classNames={fullWidth:Xl,zeroRight:Yl};var UE=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function $E(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=UE();return t&&e.setAttribute("nonce",t),e}function ZE(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function WE(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var GE=function(){var e=0,t=null;return{add:function(n){e==0&&(t=$E())&&(ZE(t,n),WE(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},KE=function(){var e=GE();return function(t,n){y.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},Cw=function(){var e=KE(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},qE={left:0,top:0,right:0,gap:0},Ad=function(e){return parseInt(e||"",10)||0},QE=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[Ad(n),Ad(r),Ad(a)]},YE=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return qE;var t=QE(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},XE=Cw(),Is="data-scroll-locked",JE=function(e,t,n,r){var a=e.left,o=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(AE,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(Is,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(o,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Yl,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Xl,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Yl," .").concat(Yl,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Xl," .").concat(Xl,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Is,`] {
    `).concat(IE,": ").concat(u,`px;
  }
`)},Hv=function(){var e=parseInt(document.body.getAttribute(Is)||"0",10);return isFinite(e)?e:0},eT=function(){y.useEffect(function(){return document.body.setAttribute(Is,(Hv()+1).toString()),function(){var e=Hv()-1;e<=0?document.body.removeAttribute(Is):document.body.setAttribute(Is,e.toString())}},[])},tT=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;eT();var o=y.useMemo(function(){return YE(a)},[a]);return y.createElement(XE,{styles:JE(o,!t,a,n?"":"!important")})},ef=!1;if(typeof window<"u")try{var Tl=Object.defineProperty({},"passive",{get:function(){return ef=!0,!0}});window.addEventListener("test",Tl,Tl),window.removeEventListener("test",Tl,Tl)}catch{ef=!1}var cs=ef?{passive:!1}:!1,nT=function(e){return e.tagName==="TEXTAREA"},kw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!nT(e)&&n[t]==="visible")},iT=function(e){return kw(e,"overflowY")},rT=function(e){return kw(e,"overflowX")},Uv=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=Pw(e,r);if(a){var o=Lw(e,r),c=o[1],u=o[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},sT=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},oT=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},Pw=function(e,t){return e==="v"?iT(t):rT(t)},Lw=function(e,t){return e==="v"?sT(t):oT(t)},aT=function(e,t){return e==="h"&&t==="rtl"?-1:1},lT=function(e,t,n,r,a){var o=aT(e,window.getComputedStyle(t).direction),c=o*r,u=n.target,h=t.contains(u),f=!1,g=c>0,p=0,x=0;do{var b=Lw(e,u),C=b[0],v=b[1],S=b[2],j=v-S-o*C;(C||j)&&Pw(e,u)&&(p+=j,x+=C),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(g&&(Math.abs(p)<1||!a)||!g&&(Math.abs(x)<1||!a))&&(f=!0),f},Ml=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},$v=function(e){return[e.deltaX,e.deltaY]},Zv=function(e){return e&&"current"in e?e.current:e},cT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},uT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},dT=0,us=[];function hT(e){var t=y.useRef([]),n=y.useRef([0,0]),r=y.useRef(),a=y.useState(dT++)[0],o=y.useState(Cw)[0],c=y.useRef(e);y.useEffect(function(){c.current=e},[e]),y.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=RE([e.lockRef.current],(e.shards||[]).map(Zv),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=y.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var j=Ml(v),w=n.current,N="deltaX"in v?v.deltaX:w[0]-j[0],P="deltaY"in v?v.deltaY:w[1]-j[1],E,R=v.target,I=Math.abs(N)>Math.abs(P)?"h":"v";if("touches"in v&&I==="h"&&R.type==="range")return!1;var z=Uv(I,R);if(!z)return!0;if(z?E=I:(E=I==="v"?"h":"v",z=Uv(I,R)),!z)return!1;if(!r.current&&"changedTouches"in v&&(N||P)&&(r.current=E),!E)return!0;var U=r.current||E;return lT(U,S,v,U==="h"?N:P,!0)},[]),h=y.useCallback(function(v){var S=v;if(!(!us.length||us[us.length-1]!==o)){var j="deltaY"in S?$v(S):Ml(S),w=t.current.filter(function(E){return E.name===S.type&&(E.target===S.target||S.target===E.shadowParent)&&cT(E.delta,j)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var N=(c.current.shards||[]).map(Zv).filter(Boolean).filter(function(E){return E.contains(S.target)}),P=N.length>0?u(S,N[0]):!c.current.noIsolation;P&&S.cancelable&&S.preventDefault()}}},[]),f=y.useCallback(function(v,S,j,w){var N={name:v,delta:S,target:j,should:w,shadowParent:fT(j)};t.current.push(N),setTimeout(function(){t.current=t.current.filter(function(P){return P!==N})},1)},[]),g=y.useCallback(function(v){n.current=Ml(v),r.current=void 0},[]),p=y.useCallback(function(v){f(v.type,$v(v),v.target,u(v,e.lockRef.current))},[]),x=y.useCallback(function(v){f(v.type,Ml(v),v.target,u(v,e.lockRef.current))},[]);y.useEffect(function(){return us.push(o),e.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:x}),document.addEventListener("wheel",h,cs),document.addEventListener("touchmove",h,cs),document.addEventListener("touchstart",g,cs),function(){us=us.filter(function(v){return v!==o}),document.removeEventListener("wheel",h,cs),document.removeEventListener("touchmove",h,cs),document.removeEventListener("touchstart",g,cs)}},[]);var b=e.removeScrollBar,C=e.inert;return y.createElement(y.Fragment,null,C?y.createElement(o,{styles:uT(a)}):null,b?y.createElement(tT,{gapMode:e.gapMode}):null)}function fT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const mT=HE(Sw,hT);var km=y.forwardRef(function(e,t){return y.createElement(cu,qn({},e,{ref:t,sideCar:mT}))});km.classNames=cu.classNames;var pT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ds=new WeakMap,Rl=new WeakMap,Al={},Id=0,Ew=function(e){return e&&(e.host||Ew(e.parentNode))},gT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=Ew(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},vT=function(e,t,n,r){var a=gT(t,Array.isArray(e)?e:[e]);Al[n]||(Al[n]=new WeakMap);var o=Al[n],c=[],u=new Set,h=new Set(a),f=function(p){!p||u.has(p)||(u.add(p),f(p.parentNode))};a.forEach(f);var g=function(p){!p||h.has(p)||Array.prototype.forEach.call(p.children,function(x){if(u.has(x))g(x);else try{var b=x.getAttribute(r),C=b!==null&&b!=="false",v=(ds.get(x)||0)+1,S=(o.get(x)||0)+1;ds.set(x,v),o.set(x,S),c.push(x),v===1&&C&&Rl.set(x,!0),S===1&&x.setAttribute(n,"true"),C||x.setAttribute(r,"true")}catch(j){console.error("aria-hidden: cannot operate on ",x,j)}})};return g(t),u.clear(),Id++,function(){c.forEach(function(p){var x=ds.get(p)-1,b=o.get(p)-1;ds.set(p,x),o.set(p,b),x||(Rl.has(p)||p.removeAttribute(r),Rl.delete(p)),b||p.removeAttribute(n)}),Id--,Id||(ds=new WeakMap,ds=new WeakMap,Rl=new WeakMap,Al={})}},Tw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=pT(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),vT(r,a,n,"aria-hidden")):function(){return null}},Pm="Dialog",[Mw,HR]=en(Pm),[xT,An]=Mw(Pm),Rw=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:o,modal:c=!0}=e,u=y.useRef(null),h=y.useRef(null),[f=!1,g]=yi({prop:r,defaultProp:a,onChange:o});return s.jsx(xT,{scope:t,triggerRef:u,contentRef:h,contentId:rr(),titleId:rr(),descriptionId:rr(),open:f,onOpenChange:g,onOpenToggle:y.useCallback(()=>g(p=>!p),[g]),modal:c,children:n})};Rw.displayName=Pm;var Aw="DialogTrigger",yT=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=An(Aw,n),o=Be(t,a.triggerRef);return s.jsx(xe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":Tm(a.open),...r,ref:o,onClick:he(e.onClick,a.onOpenToggle)})});yT.displayName=Aw;var Lm="DialogPortal",[_T,Iw]=Mw(Lm,{forceMount:void 0}),Ow=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,o=An(Lm,t);return s.jsx(_T,{scope:t,forceMount:n,children:y.Children.map(r,c=>s.jsx(Ni,{present:n||o.open,children:s.jsx(Jc,{asChild:!0,container:a,children:c})}))})};Ow.displayName=Lm;var Rc="DialogOverlay",zw=y.forwardRef((e,t)=>{const n=Iw(Rc,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=An(Rc,e.__scopeDialog);return o.modal?s.jsx(Ni,{present:r||o.open,children:s.jsx(bT,{...a,ref:t})}):null});zw.displayName=Rc;var wT=so("DialogOverlay.RemoveScroll"),bT=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=An(Rc,n);return s.jsx(km,{as:wT,allowPinchZoom:!0,shards:[a.contentRef],children:s.jsx(xe.div,{"data-state":Tm(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Gr="DialogContent",Dw=y.forwardRef((e,t)=>{const n=Iw(Gr,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,o=An(Gr,e.__scopeDialog);return s.jsx(Ni,{present:r||o.open,children:o.modal?s.jsx(jT,{...a,ref:t}):s.jsx(NT,{...a,ref:t})})});Dw.displayName=Gr;var jT=y.forwardRef((e,t)=>{const n=An(Gr,e.__scopeDialog),r=y.useRef(null),a=Be(t,n.contentRef,r);return y.useEffect(()=>{const o=r.current;if(o)return Tw(o)},[]),s.jsx(Fw,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:he(e.onCloseAutoFocus,o=>{var c;o.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:he(e.onPointerDownOutside,o=>{const c=o.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&o.preventDefault()}),onFocusOutside:he(e.onFocusOutside,o=>o.preventDefault())})}),NT=y.forwardRef((e,t)=>{const n=An(Gr,e.__scopeDialog),r=y.useRef(!1),a=y.useRef(!1);return s.jsx(Fw,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,o),o.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),o.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:o=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,o),o.defaultPrevented||(r.current=!0,o.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=o.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&a.current&&o.preventDefault()}})}),Fw=y.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:o,...c}=e,u=An(Gr,n),h=y.useRef(null),f=Be(t,h);return bw(),s.jsxs(s.Fragment,{children:[s.jsx(Cm,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:o,children:s.jsx(za,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":Tm(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),s.jsxs(s.Fragment,{children:[s.jsx(ST,{titleId:u.titleId}),s.jsx(kT,{contentRef:h,descriptionId:u.descriptionId})]})]})}),Em="DialogTitle",Bw=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=An(Em,n);return s.jsx(xe.h2,{id:a.titleId,...r,ref:t})});Bw.displayName=Em;var Vw="DialogDescription",Hw=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=An(Vw,n);return s.jsx(xe.p,{id:a.descriptionId,...r,ref:t})});Hw.displayName=Vw;var Uw="DialogClose",$w=y.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=An(Uw,n);return s.jsx(xe.button,{type:"button",...r,ref:t,onClick:he(e.onClick,()=>a.onOpenChange(!1))})});$w.displayName=Uw;function Tm(e){return e?"open":"closed"}var Zw="DialogTitleWarning",[UR,Ww]=K2(Zw,{contentName:Gr,titleName:Em,docsSlug:"dialog"}),ST=({titleId:e})=>{const t=Ww(Zw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return y.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},CT="DialogDescriptionWarning",kT=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Ww(CT).contentName}}.`;return y.useEffect(()=>{var o;const a=(o=e.current)==null?void 0:o.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},PT=Rw,LT=Ow,Gw=zw,Kw=Dw,qw=Bw,Qw=Hw,ET=$w;const TT=PT,MT=LT,Yw=y.forwardRef(({className:e,...t},n)=>s.jsx(Gw,{ref:n,className:_e("fixed inset-0 z-[999] bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Yw.displayName=Gw.displayName;const Xw=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(MT,{children:[s.jsx(Yw,{}),s.jsxs(Kw,{ref:r,className:_e("fixed left-[50%] top-[50%] z-[1000] grid w-[calc(100vw-2rem)] max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-4 sm:p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] rounded-lg max-h-[calc(100vh-env(safe-area-inset-top)-env(safe-area-inset-bottom)-2rem)] overflow-y-auto",e),...n,children:[t,s.jsxs(ET,{className:"absolute right-2 top-2 sm:right-4 sm:top-4 min-h-[44px] min-w-[44px] flex items-center justify-center rounded-md opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground active:scale-[0.98] touch-manipulation",children:[s.jsx(fo,{className:"h-5 w-5 sm:h-4 sm:w-4"}),s.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xw.displayName=Kw.displayName;const Jw=({className:e,...t})=>s.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Jw.displayName="DialogHeader";const e1=y.forwardRef(({className:e,...t},n)=>s.jsx(qw,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));e1.displayName=qw.displayName;const RT=y.forwardRef(({className:e,...t},n)=>s.jsx(Qw,{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));RT.displayName=Qw.displayName;const AT=Fa("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function sr({className:e,variant:t,...n}){return s.jsx("div",{className:_e(AT({variant:t}),e),...n})}function t1({restaurantId:e,size:t="md",showLabel:n=!1}){const{isAuthenticated:r}=Xr(),{toast:a}=Ct(),o=Rn(),{data:c=[]}=at({queryKey:["/api/favorites"],enabled:r,retry:!1}),u=c.some(b=>b.id===e),h=Mt({mutationFn:async()=>await En(`/api/favorites/${e}`,"POST"),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/favorites"]}),a({title:"Added to favorites",description:"Restaurant saved to your favorites list"})},onError:b=>{a({title:"Error",description:"Failed to add to favorites",variant:"destructive"})}}),f=Mt({mutationFn:async()=>await En(`/api/favorites/${e}`,"DELETE"),onSuccess:()=>{o.invalidateQueries({queryKey:["/api/favorites"]}),a({title:"Removed from favorites",description:"Restaurant removed from your favorites list"})},onError:b=>{a({title:"Error",description:"Failed to remove from favorites",variant:"destructive"})}}),g=()=>{if(!r){a({title:"Login required",description:"Please login to save favorites",variant:"destructive"});return}u?f.mutate():h.mutate()},p={sm:"h-8 w-8",md:"h-10 w-10",lg:"h-12 w-12"},x={sm:"h-4 w-4",md:"h-5 w-5",lg:"h-6 w-6"};return s.jsxs(Q,{onClick:g,variant:u?"default":"outline",size:"icon",className:`${p[t]} ${u?"bg-red-500 hover:bg-red-600 text-white":""}`,disabled:h.isPending||f.isPending,children:[s.jsx($r,{className:`${x[t]} ${u?"fill-current":""}`}),n&&s.jsx("span",{className:"ml-2",children:u?"Saved":"Save"})]})}const Le={spacing:{xs:"4px",sm:"8px",md:"16px",lg:"24px",xl:"32px","2xl":"48px","3xl":"64px"},modalSizes:{small:{width:"320px",maxWidth:"90vw",minHeight:"200px"},medium:{width:"480px",maxWidth:"90vw",minHeight:"300px"},large:{width:"640px",maxWidth:"95vw",minHeight:"400px"},fullScreen:{width:"100vw",height:"100vh",maxWidth:"none"}},popupSizes:{tooltip:{maxWidth:"280px",padding:"12px"},scoreExplanation:{width:"320px",maxWidth:"90vw",padding:"16px"},restaurantCard:{width:"360px",maxWidth:"95vw",minHeight:"200px",padding:"20px"}},typography:{h1:{fontSize:"28px",fontWeight:"700",lineHeight:"1.2"},h2:{fontSize:"24px",fontWeight:"600",lineHeight:"1.3"},h3:{fontSize:"20px",fontWeight:"600",lineHeight:"1.4"},h4:{fontSize:"18px",fontWeight:"600",lineHeight:"1.4"},body:{fontSize:"16px",fontWeight:"400",lineHeight:"1.5"},bodySmall:{fontSize:"14px",fontWeight:"400",lineHeight:"1.4"},caption:{fontSize:"12px",fontWeight:"400",lineHeight:"1.3"}},colors:{primary:"#22C55E",primaryHover:"#16A34A",secondary:"#3B82F6",secondaryHover:"#2563EB",text:{primary:"#111827",secondary:"#6B7280",muted:"#9CA3AF"},background:{primary:"#FFFFFF",secondary:"#F9FAFB",overlay:"rgba(0, 0, 0, 0.5)"},border:"#E5E7EB",success:"#10B981",warning:"#F59E0B",error:"#EF4444"},shadows:{sm:"0 1px 2px 0 rgba(0, 0, 0, 0.05)",md:"0 4px 6px -1px rgba(0, 0, 0, 0.1)",lg:"0 10px 15px -3px rgba(0, 0, 0, 0.1)",xl:"0 20px 25px -5px rgba(0, 0, 0, 0.1)"},borderRadius:{sm:"4px",md:"8px",lg:"12px",xl:"16px",full:"9999px"},zIndex:{base:0,dropdown:10,overlay:20,modal:30,popover:40,tooltip:50,toast:60}};function n1({score:e,breakdown:t,restaurantName:n}){const[r,a]=y.useState(!1),o=u=>u>=4.5?"Excellent vegan options":u>=3.5?"Good vegan choices":u>=2.5?"Some vegan options":u>=1.5?"Limited vegan options":"Few vegan options",c=u=>u>=4?"text-green-600":u>=3?"text-yellow-600":"text-red-600";return s.jsxs("div",{className:"relative inline-block",children:[s.jsxs("div",{className:"flex items-center gap-2 cursor-pointer",onClick:()=>a(!r),children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zr,{className:`w-4 h-4 ${c(e)} fill-current`}),s.jsx("span",{className:`ml-1 font-semibold ${c(e)}`,children:e.toFixed(1)})]}),s.jsx(qk,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})]}),r&&s.jsxs("div",{className:"absolute z-10 mt-2",style:{position:"absolute",top:"100%",left:"0",marginTop:"8px",width:Le.popupSizes.scoreExplanation.width,maxWidth:Le.popupSizes.scoreExplanation.maxWidth,padding:Le.popupSizes.scoreExplanation.padding,backgroundColor:Le.colors.background.primary,border:`1px solid ${Le.colors.border}`,borderRadius:Le.borderRadius.lg,boxShadow:Le.shadows.lg,zIndex:Le.zIndex.popover},children:[s.jsxs("div",{style:{marginBottom:Le.spacing.md},children:[s.jsxs("h4",{style:{...Le.typography.h4,color:Le.colors.text.primary,marginBottom:Le.spacing.xs},children:["Vegan Score: ",o(e)]}),s.jsxs("p",{style:{...Le.typography.bodySmall,color:Le.colors.text.secondary},children:["AI analysis of ",n,"'s vegan-friendliness"]})]}),t?s.jsx("div",{className:"space-y-2",children:s.jsxs("div",{className:"text-sm",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Menu Variety:"}),s.jsxs("span",{className:"font-medium",children:[t.menuVariety,"/5"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Clear Labeling:"}),s.jsxs("span",{className:"font-medium",children:[t.ingredientClarity,"/5"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Staff Knowledge:"}),s.jsxs("span",{className:"font-medium",children:[t.staffKnowledge,"/5"]})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{children:"Safety Measures:"}),s.jsxs("span",{className:"font-medium",children:[t.crossContamination,"/5"]})]})]})}):s.jsxs("div",{className:"text-sm text-gray-600",children:[s.jsx("p",{children:"Score based on:"}),s.jsxs("ul",{className:"mt-1 ml-4 list-disc",children:[s.jsx("li",{children:"Menu analysis for vegan options"}),s.jsx("li",{children:"Ingredient transparency"}),s.jsx("li",{children:"Kitchen safety practices"}),s.jsx("li",{children:"Staff training on dietary needs"})]})]}),s.jsx("div",{className:"mt-3 pt-3 border-t text-xs text-gray-500",children:"Powered by AI • Updated regularly"})]})]})}function IT({restaurant:e,isOpen:t,onClose:n}){if(!e)return null;const r=e.veganScore?parseFloat(e.veganScore):0,a=e.rating?parseFloat(e.rating):0,o=()=>{if(!e.openingHours||typeof e.openingHours!="object")return["Hours not available"];const c=e.openingHours;return c.weekday_text&&Array.isArray(c.weekday_text)?c.weekday_text.slice(0,3):["Hours not available"]};return s.jsx(TT,{open:t,onOpenChange:n,children:s.jsxs(Xw,{className:"max-w-2xl max-h-[90vh] overflow-y-auto lg:max-h-[90vh] sm:max-h-[calc(100vh-env(safe-area-inset-top)-env(safe-area-inset-bottom)-2rem)] sm:rounded-t-2xl sm:rounded-b-none sm:bottom-0 sm:top-auto sm:translate-y-0 mobile-modal",children:[s.jsxs(Jw,{className:"flex flex-row items-start justify-between",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx(e1,{className:"text-xl font-semibold mb-2",children:e.name}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"text-sm",children:e.address})]})]}),s.jsx(t1,{restaurantId:e.id,size:"lg"})]}),s.jsxs("div",{className:"space-y-6",children:[s.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-lg",children:"Vegan Friendliness"}),s.jsx("p",{className:"text-sm text-gray-600",children:"AI-calculated score based on menu, staff knowledge, and policies"})]}),s.jsx("div",{className:"text-right",children:s.jsx(n1,{score:r/2,restaurantName:e.name})})]})}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"space-y-3",children:[a>0&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zr,{className:"h-4 w-4 text-yellow-500 mr-2"}),s.jsx("span",{className:"font-medium",children:a.toFixed(1)}),s.jsx("span",{className:"text-gray-600 ml-1",children:"Google Rating"})]}),e.phoneNumber&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(kc,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsx("a",{href:`tel:${e.phoneNumber}`,className:"text-blue-600 hover:underline",children:e.phoneNumber})]}),e.website&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(L_,{className:"h-4 w-4 text-gray-500 mr-2"}),s.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]}),e.priceLevel&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-gray-500 mr-2",children:"Price:"}),s.jsx("span",{className:"font-medium",children:"€".repeat(parseInt(e.priceLevel.toString()))})]})]}),s.jsx("div",{className:"space-y-3",children:s.jsxs("div",{className:"flex items-start",children:[s.jsx(k_,{className:"h-4 w-4 text-gray-500 mr-2 mt-1"}),s.jsxs("div",{children:[s.jsx("div",{className:"font-medium text-sm",children:"Opening Hours"}),s.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:o().map((c,u)=>s.jsx("div",{children:c},u))})]})]})})]}),e.cuisineTypes&&e.cuisineTypes.length>0&&s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium mb-2",children:"Cuisine Types"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.cuisineTypes.filter(c=>!["point_of_interest","establishment"].includes(c)).slice(0,6).map(c=>s.jsx(sr,{variant:"secondary",className:"text-xs",children:c.replace(/_/g," ").toLowerCase()},c))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsxs(Q,{onClick:()=>{const c=encodeURIComponent(`${e.name} ${e.address}`);window.open(`https://www.google.com/maps/search/?api=1&query=${c}`,"_blank")},className:"flex-1",children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),"Get Directions"]}),e.phoneNumber&&s.jsxs(Q,{variant:"outline",onClick:()=>window.open(`tel:${e.phoneNumber}`,"_self"),className:"flex-1",children:[s.jsx(kc,{className:"h-4 w-4 mr-2"}),"Call"]}),s.jsxs(Q,{variant:"outline",onClick:()=>{const c=`${window.location.origin}/?restaurant=${e.id}`;navigator.share?navigator.share({title:e.name,text:`Check out ${e.name} on VeganMapAI`,url:c}):navigator.clipboard.writeText(c)},className:"flex-1",children:[s.jsx("i",{className:"fas fa-share-alt mr-2"}),"Share"]})]})]})]})})}function OT({restaurant:e,onClose:t,onNavigate:n,onViewDetails:r}){const{user:a}=Xr(),{toast:o}=Ct(),c=Rn(),u=e.veganScore?parseFloat(e.veganScore):0,h=e.rating?parseFloat(e.rating):0,{data:f=!1}=at({queryKey:["/api/favorites/check",e.id],queryFn:async()=>{if(!a)return!1;const b=await fetch(`/api/favorites/check/${e.id}`);return b.ok?(await b.json()).isFavorite:!1},enabled:!!a}),g=Mt({mutationFn:async b=>b==="add"?En("/api/favorites","POST",{restaurantId:e.id}):En(`/api/favorites/${e.id}`,"DELETE"),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/favorites"]}),c.invalidateQueries({queryKey:["/api/favorites/check",e.id]}),o({title:f?"Премахнато от любими":"Добавено в любими",description:`${e.name} беше ${f?"премахнат от":"добавен в"} любимите ти ресторанти`})},onError:()=>{o({title:"Грешка",description:"Възникна проблем с добавянето в любими",variant:"destructive"})}}),p=()=>{if(!a){o({title:"Трябва да влезете",description:"Влезте в профила си за да добавяте любими ресторанти",variant:"destructive"});return}g.mutate(f?"remove":"add")},x=b=>b>=8.5?"bg-green-600":b>=7?"bg-green-500":b>=5.5?"bg-yellow-500":b>=4?"bg-orange-500":"bg-red-500";return s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[1999]",onClick:t,style:{touchAction:"manipulation"}}),s.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-2xl border-t border-gray-200 p-4 z-[2000] rounded-t-2xl",onClick:b=>b.stopPropagation(),style:{touchAction:"manipulation"},children:[s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-2",children:e.name}),s.jsxs("div",{className:"flex items-center text-gray-600",children:[s.jsx(dn,{className:"h-4 w-4 mr-1 flex-shrink-0"}),s.jsx("span",{className:"text-sm line-clamp-1",children:e.address})]})]}),s.jsx(Q,{onClick:t,variant:"ghost",size:"sm",className:"p-1 h-8 w-8 rounded-full hover:bg-gray-100",children:s.jsx(fo,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center mb-1",children:[s.jsx(oP,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Vegan Score"})]}),s.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded text-white text-sm font-bold ${x(u)}`,children:[u>0?u.toFixed(1):"?","/10"]})]}),s.jsxs("div",{className:"text-center",children:[s.jsxs("div",{className:"flex items-center justify-center mb-1",children:[s.jsx(Zr,{className:"h-4 w-4 mr-1"}),s.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Maps Score"})]}),s.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-500 text-white text-sm font-bold",children:[h>0?h.toFixed(1):"?","/5"]})]})]}),s.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[s.jsxs(Q,{onClick:n,className:"bg-blue-600 hover:bg-blue-700 text-white py-3 px-3 rounded-lg flex items-center justify-center font-semibold text-sm touch-manipulation",size:"sm",children:[s.jsx(E_,{className:"h-4 w-4 mr-1"}),"Навигирай"]}),s.jsxs(Q,{onClick:r,className:"bg-green-600 hover:bg-green-700 text-white py-3 px-3 rounded-lg flex items-center justify-center font-semibold text-sm touch-manipulation",size:"sm",children:[s.jsx(Gk,{className:"h-4 w-4 mr-1"}),"Разгледай"]}),s.jsxs(Q,{onClick:p,disabled:g.isPending,className:`${f?"bg-red-600 hover:bg-red-700":"bg-gray-600 hover:bg-gray-700"} text-white py-3 px-3 rounded-lg flex items-center justify-center font-semibold text-sm touch-manipulation`,size:"sm",children:[s.jsx($r,{className:`h-4 w-4 mr-1 ${f?"fill-current":""}`}),"Любими"]})]})]})]})}var zT="Label",i1=y.forwardRef((e,t)=>s.jsx(xe.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));i1.displayName=zT;var r1=i1;const DT=Fa("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),De=y.forwardRef(({className:e,...t},n)=>s.jsx(r1,{ref:n,className:_e(DT(),e),...t}));De.displayName=r1.displayName;function Wv(e,[t,n]){return Math.min(n,Math.max(t,e))}var FT=y.createContext(void 0);function uu(e){const t=y.useContext(FT);return e||t||"ltr"}function du(e){const t=y.useRef({value:e,previous:e});return y.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var BT=[" ","Enter","ArrowUp","ArrowDown"],VT=[" ","Enter"],Va="Select",[hu,fu,HT]=um(Va),[vo,$R]=en(Va,[HT,ou]),mu=ou(),[UT,pr]=vo(Va),[$T,ZT]=vo(Va),s1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:o,value:c,defaultValue:u,onValueChange:h,dir:f,name:g,autoComplete:p,disabled:x,required:b,form:C}=e,v=mu(t),[S,j]=y.useState(null),[w,N]=y.useState(null),[P,E]=y.useState(!1),R=uu(f),[I=!1,z]=yi({prop:r,defaultProp:a,onChange:o}),[U,G]=yi({prop:c,defaultProp:u,onChange:h}),H=y.useRef(null),B=S?C||!!S.closest("form"):!0,[X,Z]=y.useState(new Set),ce=Array.from(X).map(K=>K.props.value).join(";");return s.jsx(QL,{...v,children:s.jsxs(UT,{required:b,scope:t,trigger:S,onTriggerChange:j,valueNode:w,onValueNodeChange:N,valueNodeHasChildren:P,onValueNodeHasChildrenChange:E,contentId:rr(),value:U,onValueChange:G,open:I,onOpenChange:z,dir:R,triggerPointerDownPosRef:H,disabled:x,children:[s.jsx(hu.Provider,{scope:t,children:s.jsx($T,{scope:e.__scopeSelect,onNativeOptionAdd:y.useCallback(K=>{Z(ie=>new Set(ie).add(K))},[]),onNativeOptionRemove:y.useCallback(K=>{Z(ie=>{const A=new Set(ie);return A.delete(K),A})},[]),children:n})}),B?s.jsxs(E1,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:p,value:U,onChange:K=>G(K.target.value),disabled:x,form:C,children:[U===void 0?s.jsx("option",{value:""}):null,Array.from(X)]},ce):null]})})};s1.displayName=Va;var o1="SelectTrigger",a1=y.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,o=mu(n),c=pr(o1,n),u=c.disabled||r,h=Be(t,c.onTriggerChange),f=fu(n),g=y.useRef("touch"),[p,x,b]=T1(v=>{const S=f().filter(N=>!N.disabled),j=S.find(N=>N.value===c.value),w=M1(S,v,j);w!==void 0&&c.onValueChange(w.value)}),C=v=>{u||(c.onOpenChange(!0),b()),v&&(c.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return s.jsx(uw,{asChild:!0,...o,children:s.jsx(xe.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":L1(c.value)?"":void 0,...a,ref:h,onClick:he(a.onClick,v=>{v.currentTarget.focus(),g.current!=="mouse"&&C(v)}),onPointerDown:he(a.onPointerDown,v=>{g.current=v.pointerType;const S=v.target;S.hasPointerCapture(v.pointerId)&&S.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(C(v),v.preventDefault())}),onKeyDown:he(a.onKeyDown,v=>{const S=p.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&x(v.key),!(S&&v.key===" ")&&BT.includes(v.key)&&(C(),v.preventDefault())})})})});a1.displayName=o1;var l1="SelectValue",c1=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:o,placeholder:c="",...u}=e,h=pr(l1,n),{onValueNodeHasChildrenChange:f}=h,g=o!==void 0,p=Be(t,h.onValueNodeChange);return St(()=>{f(g)},[f,g]),s.jsx(xe.span,{...u,ref:p,style:{pointerEvents:"none"},children:L1(h.value)?s.jsx(s.Fragment,{children:c}):o})});c1.displayName=l1;var WT="SelectIcon",u1=y.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return s.jsx(xe.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});u1.displayName=WT;var GT="SelectPortal",d1=e=>s.jsx(Jc,{asChild:!0,...e});d1.displayName=GT;var Kr="SelectContent",h1=y.forwardRef((e,t)=>{const n=pr(Kr,e.__scopeSelect),[r,a]=y.useState();if(St(()=>{a(new DocumentFragment)},[]),!n.open){const o=r;return o?Yr.createPortal(s.jsx(f1,{scope:e.__scopeSelect,children:s.jsx(hu.Slot,{scope:e.__scopeSelect,children:s.jsx("div",{children:e.children})})}),o):null}return s.jsx(m1,{...e,ref:t})});h1.displayName=Kr;var xn=10,[f1,gr]=vo(Kr),KT="SelectContentImpl",qT=so("SelectContent.RemoveScroll"),m1=y.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:o,onPointerDownOutside:c,side:u,sideOffset:h,align:f,alignOffset:g,arrowPadding:p,collisionBoundary:x,collisionPadding:b,sticky:C,hideWhenDetached:v,avoidCollisions:S,...j}=e,w=pr(Kr,n),[N,P]=y.useState(null),[E,R]=y.useState(null),I=Be(t,ne=>P(ne)),[z,U]=y.useState(null),[G,H]=y.useState(null),B=fu(n),[X,Z]=y.useState(!1),ce=y.useRef(!1);y.useEffect(()=>{if(N)return Tw(N)},[N]),bw();const K=y.useCallback(ne=>{const[ge,...ye]=B().map(Me=>Me.ref.current),[Te]=ye.slice(-1),Ae=document.activeElement;for(const Me of ne)if(Me===Ae||(Me==null||Me.scrollIntoView({block:"nearest"}),Me===ge&&E&&(E.scrollTop=0),Me===Te&&E&&(E.scrollTop=E.scrollHeight),Me==null||Me.focus(),document.activeElement!==Ae))return},[B,E]),ie=y.useCallback(()=>K([z,N]),[K,z,N]);y.useEffect(()=>{X&&ie()},[X,ie]);const{onOpenChange:A,triggerPointerDownPosRef:$}=w;y.useEffect(()=>{if(N){let ne={x:0,y:0};const ge=Te=>{var Ae,Me;ne={x:Math.abs(Math.round(Te.pageX)-(((Ae=$.current)==null?void 0:Ae.x)??0)),y:Math.abs(Math.round(Te.pageY)-(((Me=$.current)==null?void 0:Me.y)??0))}},ye=Te=>{ne.x<=10&&ne.y<=10?Te.preventDefault():N.contains(Te.target)||A(!1),document.removeEventListener("pointermove",ge),$.current=null};return $.current!==null&&(document.addEventListener("pointermove",ge),document.addEventListener("pointerup",ye,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ge),document.removeEventListener("pointerup",ye,{capture:!0})}}},[N,A,$]),y.useEffect(()=>{const ne=()=>A(!1);return window.addEventListener("blur",ne),window.addEventListener("resize",ne),()=>{window.removeEventListener("blur",ne),window.removeEventListener("resize",ne)}},[A]);const[F,J]=T1(ne=>{const ge=B().filter(Ae=>!Ae.disabled),ye=ge.find(Ae=>Ae.ref.current===document.activeElement),Te=M1(ge,ne,ye);Te&&setTimeout(()=>Te.ref.current.focus())}),fe=y.useCallback((ne,ge,ye)=>{const Te=!ce.current&&!ye;(w.value!==void 0&&w.value===ge||Te)&&(U(ne),Te&&(ce.current=!0))},[w.value]),V=y.useCallback(()=>N==null?void 0:N.focus(),[N]),ee=y.useCallback((ne,ge,ye)=>{const Te=!ce.current&&!ye;(w.value!==void 0&&w.value===ge||Te)&&H(ne)},[w.value]),te=r==="popper"?tf:p1,oe=te===tf?{side:u,sideOffset:h,align:f,alignOffset:g,arrowPadding:p,collisionBoundary:x,collisionPadding:b,sticky:C,hideWhenDetached:v,avoidCollisions:S}:{};return s.jsx(f1,{scope:n,content:N,viewport:E,onViewportChange:R,itemRefCallback:fe,selectedItem:z,onItemLeave:V,itemTextRefCallback:ee,focusSelectedItem:ie,selectedItemText:G,position:r,isPositioned:X,searchRef:F,children:s.jsx(km,{as:qT,allowPinchZoom:!0,children:s.jsx(Cm,{asChild:!0,trapped:w.open,onMountAutoFocus:ne=>{ne.preventDefault()},onUnmountAutoFocus:he(a,ne=>{var ge;(ge=w.trigger)==null||ge.focus({preventScroll:!0}),ne.preventDefault()}),children:s.jsx(za,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:o,onPointerDownOutside:c,onFocusOutside:ne=>ne.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:s.jsx(te,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:ne=>ne.preventDefault(),...j,...oe,onPlaced:()=>Z(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",...j.style},onKeyDown:he(j.onKeyDown,ne=>{const ge=ne.ctrlKey||ne.altKey||ne.metaKey;if(ne.key==="Tab"&&ne.preventDefault(),!ge&&ne.key.length===1&&J(ne.key),["ArrowUp","ArrowDown","Home","End"].includes(ne.key)){let Te=B().filter(Ae=>!Ae.disabled).map(Ae=>Ae.ref.current);if(["ArrowUp","End"].includes(ne.key)&&(Te=Te.slice().reverse()),["ArrowUp","ArrowDown"].includes(ne.key)){const Ae=ne.target,Me=Te.indexOf(Ae);Te=Te.slice(Me+1)}setTimeout(()=>K(Te)),ne.preventDefault()}})})})})})})});m1.displayName=KT;var QT="SelectItemAlignedPosition",p1=y.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,o=pr(Kr,n),c=gr(Kr,n),[u,h]=y.useState(null),[f,g]=y.useState(null),p=Be(t,I=>g(I)),x=fu(n),b=y.useRef(!1),C=y.useRef(!0),{viewport:v,selectedItem:S,selectedItemText:j,focusSelectedItem:w}=c,N=y.useCallback(()=>{if(o.trigger&&o.valueNode&&u&&f&&v&&S&&j){const I=o.trigger.getBoundingClientRect(),z=f.getBoundingClientRect(),U=o.valueNode.getBoundingClientRect(),G=j.getBoundingClientRect();if(o.dir!=="rtl"){const Ae=G.left-z.left,Me=U.left-Ae,it=I.left-Me,It=I.width+it,In=Math.max(It,z.width),On=window.innerWidth-xn,mn=Wv(Me,[xn,Math.max(xn,On-In)]);u.style.minWidth=It+"px",u.style.left=mn+"px"}else{const Ae=z.right-G.right,Me=window.innerWidth-U.right-Ae,it=window.innerWidth-I.right-Me,It=I.width+it,In=Math.max(It,z.width),On=window.innerWidth-xn,mn=Wv(Me,[xn,Math.max(xn,On-In)]);u.style.minWidth=It+"px",u.style.right=mn+"px"}const H=x(),B=window.innerHeight-xn*2,X=v.scrollHeight,Z=window.getComputedStyle(f),ce=parseInt(Z.borderTopWidth,10),K=parseInt(Z.paddingTop,10),ie=parseInt(Z.borderBottomWidth,10),A=parseInt(Z.paddingBottom,10),$=ce+K+X+A+ie,F=Math.min(S.offsetHeight*5,$),J=window.getComputedStyle(v),fe=parseInt(J.paddingTop,10),V=parseInt(J.paddingBottom,10),ee=I.top+I.height/2-xn,te=B-ee,oe=S.offsetHeight/2,ne=S.offsetTop+oe,ge=ce+K+ne,ye=$-ge;if(ge<=ee){const Ae=H.length>0&&S===H[H.length-1].ref.current;u.style.bottom="0px";const Me=f.clientHeight-v.offsetTop-v.offsetHeight,it=Math.max(te,oe+(Ae?V:0)+Me+ie),It=ge+it;u.style.height=It+"px"}else{const Ae=H.length>0&&S===H[0].ref.current;u.style.top="0px";const it=Math.max(ee,ce+v.offsetTop+(Ae?fe:0)+oe)+ye;u.style.height=it+"px",v.scrollTop=ge-ee+v.offsetTop}u.style.margin=`${xn}px 0`,u.style.minHeight=F+"px",u.style.maxHeight=B+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[x,o.trigger,o.valueNode,u,f,v,S,j,o.dir,r]);St(()=>N(),[N]);const[P,E]=y.useState();St(()=>{f&&E(window.getComputedStyle(f).zIndex)},[f]);const R=y.useCallback(I=>{I&&C.current===!0&&(N(),w==null||w(),C.current=!1)},[N,w]);return s.jsx(XT,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:R,children:s.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:P},children:s.jsx(xe.div,{...a,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});p1.displayName=QT;var YT="SelectPopperPosition",tf=y.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=xn,...o}=e,c=mu(n);return s.jsx(dw,{...c,...o,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...o.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tf.displayName=YT;var[XT,Mm]=vo(Kr,{}),nf="SelectViewport",g1=y.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,o=gr(nf,n),c=Mm(nf,n),u=Be(t,o.onViewportChange),h=y.useRef(0);return s.jsxs(s.Fragment,{children:[s.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),s.jsx(hu.Slot,{scope:n,children:s.jsx(xe.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:he(a.onScroll,f=>{const g=f.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:x}=c;if(x!=null&&x.current&&p){const b=Math.abs(h.current-g.scrollTop);if(b>0){const C=window.innerHeight-xn*2,v=parseFloat(p.style.minHeight),S=parseFloat(p.style.height),j=Math.max(v,S);if(j<C){const w=j+b,N=Math.min(C,w),P=w-N;p.style.height=N+"px",p.style.bottom==="0px"&&(g.scrollTop=P>0?P:0,p.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});g1.displayName=nf;var v1="SelectGroup",[JT,eM]=vo(v1),tM=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=rr();return s.jsx(JT,{scope:n,id:a,children:s.jsx(xe.div,{role:"group","aria-labelledby":a,...r,ref:t})})});tM.displayName=v1;var x1="SelectLabel",y1=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=eM(x1,n);return s.jsx(xe.div,{id:a.id,...r,ref:t})});y1.displayName=x1;var Ac="SelectItem",[nM,_1]=vo(Ac),w1=y.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:o,...c}=e,u=pr(Ac,n),h=gr(Ac,n),f=u.value===r,[g,p]=y.useState(o??""),[x,b]=y.useState(!1),C=Be(t,w=>{var N;return(N=h.itemRefCallback)==null?void 0:N.call(h,w,r,a)}),v=rr(),S=y.useRef("touch"),j=()=>{a||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return s.jsx(nM,{scope:n,value:r,disabled:a,textId:v,isSelected:f,onItemTextChange:y.useCallback(w=>{p(N=>N||((w==null?void 0:w.textContent)??"").trim())},[]),children:s.jsx(hu.ItemSlot,{scope:n,value:r,disabled:a,textValue:g,children:s.jsx(xe.div,{role:"option","aria-labelledby":v,"data-highlighted":x?"":void 0,"aria-selected":f&&x,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:C,onFocus:he(c.onFocus,()=>b(!0)),onBlur:he(c.onBlur,()=>b(!1)),onClick:he(c.onClick,()=>{S.current!=="mouse"&&j()}),onPointerUp:he(c.onPointerUp,()=>{S.current==="mouse"&&j()}),onPointerDown:he(c.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:he(c.onPointerMove,w=>{var N;S.current=w.pointerType,a?(N=h.onItemLeave)==null||N.call(h):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:he(c.onPointerLeave,w=>{var N;w.currentTarget===document.activeElement&&((N=h.onItemLeave)==null||N.call(h))}),onKeyDown:he(c.onKeyDown,w=>{var P;((P=h.searchRef)==null?void 0:P.current)!==""&&w.key===" "||(VT.includes(w.key)&&j(),w.key===" "&&w.preventDefault())})})})})});w1.displayName=Ac;var Qo="SelectItemText",b1=y.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...o}=e,c=pr(Qo,n),u=gr(Qo,n),h=_1(Qo,n),f=ZT(Qo,n),[g,p]=y.useState(null),x=Be(t,j=>p(j),h.onItemTextChange,j=>{var w;return(w=u.itemTextRefCallback)==null?void 0:w.call(u,j,h.value,h.disabled)}),b=g==null?void 0:g.textContent,C=y.useMemo(()=>s.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:v,onNativeOptionRemove:S}=f;return St(()=>(v(C),()=>S(C)),[v,S,C]),s.jsxs(s.Fragment,{children:[s.jsx(xe.span,{id:h.textId,...o,ref:x}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?Yr.createPortal(o.children,c.valueNode):null]})});b1.displayName=Qo;var j1="SelectItemIndicator",N1=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return _1(j1,n).isSelected?s.jsx(xe.span,{"aria-hidden":!0,...r,ref:t}):null});N1.displayName=j1;var rf="SelectScrollUpButton",S1=y.forwardRef((e,t)=>{const n=gr(rf,e.__scopeSelect),r=Mm(rf,e.__scopeSelect),[a,o]=y.useState(!1),c=Be(t,r.onScrollButtonChange);return St(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=h.scrollTop>0;o(f)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),a?s.jsx(k1,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});S1.displayName=rf;var sf="SelectScrollDownButton",C1=y.forwardRef((e,t)=>{const n=gr(sf,e.__scopeSelect),r=Mm(sf,e.__scopeSelect),[a,o]=y.useState(!1),c=Be(t,r.onScrollButtonChange);return St(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<f;o(g)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),a?s.jsx(k1,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});C1.displayName=sf;var k1=y.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,o=gr("SelectScrollButton",n),c=y.useRef(null),u=fu(n),h=y.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return y.useEffect(()=>()=>h(),[h]),St(()=>{var g;const f=u().find(p=>p.ref.current===document.activeElement);(g=f==null?void 0:f.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),s.jsx(xe.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:he(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:he(a.onPointerMove,()=>{var f;(f=o.onItemLeave)==null||f.call(o),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:he(a.onPointerLeave,()=>{h()})})}),iM="SelectSeparator",P1=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return s.jsx(xe.div,{"aria-hidden":!0,...r,ref:t})});P1.displayName=iM;var of="SelectArrow",rM=y.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=mu(n),o=pr(of,n),c=gr(of,n);return o.open&&c.position==="popper"?s.jsx(hw,{...a,...r,ref:t}):null});rM.displayName=of;function L1(e){return e===""||e===void 0}var E1=y.forwardRef((e,t)=>{const{value:n,...r}=e,a=y.useRef(null),o=Be(t,a),c=du(n);return y.useEffect(()=>{const u=a.current,h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==n&&g){const p=new Event("change",{bubbles:!0});g.call(u,n),u.dispatchEvent(p)}},[c,n]),s.jsx(Da,{asChild:!0,children:s.jsx("select",{...r,ref:o,defaultValue:n})})});E1.displayName="BubbleSelect";function T1(e){const t=$t(e),n=y.useRef(""),r=y.useRef(0),a=y.useCallback(c=>{const u=n.current+c;t(u),function h(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(u)},[t]),o=y.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return y.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,o]}function M1(e,t,n){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,o=n?e.indexOf(n):-1;let c=sM(e,Math.max(o,0));a.length===1&&(c=c.filter(f=>f!==n));const h=c.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function sM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var oM=s1,R1=a1,aM=c1,lM=u1,cM=d1,A1=h1,uM=g1,I1=y1,O1=w1,dM=b1,hM=N1,z1=S1,D1=C1,F1=P1;const Rm=oM,Am=aM,pu=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(R1,{ref:r,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,s.jsx(lM,{asChild:!0,children:s.jsx(N_,{className:"h-4 w-4 opacity-50"})})]}));pu.displayName=R1.displayName;const B1=y.forwardRef(({className:e,...t},n)=>s.jsx(z1,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx($k,{className:"h-4 w-4"})}));B1.displayName=z1.displayName;const V1=y.forwardRef(({className:e,...t},n)=>s.jsx(D1,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:s.jsx(N_,{className:"h-4 w-4"})}));V1.displayName=D1.displayName;const gu=y.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>s.jsx(cM,{children:s.jsxs(A1,{ref:a,className:_e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[s.jsx(B1,{}),s.jsx(uM,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),s.jsx(V1,{})]})}));gu.displayName=A1.displayName;const fM=y.forwardRef(({className:e,...t},n)=>s.jsx(I1,{ref:n,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));fM.displayName=I1.displayName;const Cn=y.forwardRef(({className:e,children:t,...n},r)=>s.jsxs(O1,{ref:r,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[s.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:s.jsx(hM,{children:s.jsx(j_,{className:"h-4 w-4"})})}),s.jsx(dM,{children:t})]}));Cn.displayName=O1.displayName;const mM=y.forwardRef(({className:e,...t},n)=>s.jsx(F1,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));mM.displayName=F1.displayName;function H1({restaurants:e,onFiltersChange:t,onClose:n,isMobile:r=!1}){const[a,o]=y.useState({cuisineType:"all",minVeganScore:0,priceLevel:"all",maxDistance:10}),c=Array.from(new Set(e.flatMap(f=>f.cuisineTypes||[]).filter(f=>f&&f!=="establishment"&&f!=="point_of_interest"&&f!=="food"))).sort();y.useEffect(()=>{t(a)},[a,t]);const u=()=>{o({cuisineType:"all",minVeganScore:0,priceLevel:"all",maxDistance:10})},h=r?"space-y-6 p-4":"bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg p-4 w-64";return s.jsxs("div",{className:h,children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(R_,{className:"w-5 h-5 text-blue-600 mr-2"}),s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Filters"})]}),n&&s.jsx(Q,{onClick:n,variant:"ghost",size:"icon",className:"h-8 w-8 rounded-full hover:bg-gray-100",children:s.jsx(fo,{className:"h-4 w-4"})})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{className:"text-sm font-medium text-gray-700",children:"Cuisine Type"}),s.jsxs(Rm,{value:a.cuisineType,onValueChange:f=>o(g=>({...g,cuisineType:f})),children:[s.jsx(pu,{className:"w-full",children:s.jsx(Am,{placeholder:"All cuisines"})}),s.jsxs(gu,{children:[s.jsx(Cn,{value:"all",children:"All cuisines"}),c.map(f=>s.jsx(Cn,{value:f,children:f.charAt(0).toUpperCase()+f.slice(1)},f))]})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{className:"text-sm font-medium text-gray-700",children:["Minimum Vegan Score: ",a.minVeganScore," ⭐"]}),s.jsx("input",{type:"range",min:"0",max:"5",step:"0.5",value:a.minVeganScore,onChange:f=>o(g=>({...g,minVeganScore:parseFloat(f.target.value)})),className:"w-full h-2 bg-gradient-to-r from-red-200 via-yellow-200 to-green-200 rounded-lg appearance-none cursor-pointer",style:{touchAction:"manipulation"}}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsx("span",{children:"0 ⭐"}),s.jsx("span",{children:"2.5 ⭐"}),s.jsx("span",{children:"5 ⭐"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{className:"text-sm font-medium text-gray-700",children:"Price Level"}),s.jsxs("div",{className:"grid grid-cols-5 gap-1",children:[s.jsx(Q,{variant:a.priceLevel==="all"?"default":"outline",size:"sm",onClick:()=>o(f=>({...f,priceLevel:"all"})),className:"text-xs px-2 py-1",children:"All"}),[1,2,3,4].map(f=>s.jsx(Q,{variant:a.priceLevel===f.toString()?"default":"outline",size:"sm",onClick:()=>o(g=>({...g,priceLevel:f.toString()})),className:"text-xs px-2 py-1",children:"$".repeat(f)},f))]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs(De,{className:"text-sm font-medium text-gray-700",children:["Max Distance: ",a.maxDistance," km"]}),s.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:a.maxDistance,onChange:f=>o(g=>({...g,maxDistance:parseInt(f.target.value)})),className:"w-full h-2 bg-gradient-to-r from-blue-200 to-blue-400 rounded-lg appearance-none cursor-pointer",style:{touchAction:"manipulation"}}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[s.jsx("span",{children:"1 km"}),s.jsx("span",{children:"25 km"}),s.jsx("span",{children:"50 km"})]})]}),s.jsx(Q,{onClick:u,variant:"outline",className:"w-full mt-4",children:"Clear Filters"})]})}function pM(e,t){const n=y.useRef(null),{threshold:r=50,enabled:a=!0}=t;y.useEffect(()=>{if(!e.current||!a)return;const o=e.current;let c=null;const u=f=>{const g=f.touches[0];c={x:g.clientX,y:g.clientY},n.current=c},h=f=>{if(!c)return;const g=f.changedTouches[0],p=g.clientX-c.x,x=g.clientY-c.y;Math.abs(x)>Math.abs(p)?x>r&&t.onSwipeDown?t.onSwipeDown():x<-r&&t.onSwipeUp&&t.onSwipeUp():p>r&&t.onSwipeRight?t.onSwipeRight():p<-r&&t.onSwipeLeft&&t.onSwipeLeft(),c=null,n.current=null};return o.addEventListener("touchstart",u,{passive:!0}),o.addEventListener("touchend",h,{passive:!0}),()=>{o.removeEventListener("touchstart",u),o.removeEventListener("touchend",h)}},[e,t,r,a])}function gM({restaurants:e,filteredCount:t,totalCount:n,onFiltersChange:r}){const[a,o]=y.useState(!1),c=y.useRef(null);return pM(c,{onSwipeDown:()=>o(!1),enabled:a}),s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"sm:hidden",children:s.jsxs(Q,{onClick:()=>o(!a),className:"w-14 h-14 min-w-[56px] min-h-[56px] bg-gradient-to-r from-blue-500 to-blue-600 hover:from-blue-600 hover:to-blue-700 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center active:scale-95",style:{touchAction:"manipulation"},children:[s.jsx("span",{className:"text-white text-xl",children:"🎚️"}),t!==n&&s.jsx("span",{className:"absolute -top-1 -right-1 bg-red-500 text-white text-xs rounded-full w-5 h-5 flex items-center justify-center font-bold",children:t})]})}),a&&s.jsx("div",{className:"sm:hidden fixed inset-0 bg-black/50 backdrop-blur-sm z-[1001]",onClick:()=>o(!1),children:s.jsxs("div",{ref:c,className:"fixed bottom-0 left-0 right-0 bg-white rounded-t-3xl shadow-2xl max-h-[80vh] overflow-y-auto mobile-modal swipe-area",style:{maxHeight:"calc(80vh - env(safe-area-inset-bottom))",paddingBottom:"env(safe-area-inset-bottom, 20px)"},onClick:u=>u.stopPropagation(),children:[s.jsx("div",{className:"flex justify-center pt-2 pb-1",children:s.jsx("div",{className:"w-12 h-1 bg-gray-300 rounded-full"})}),s.jsx("div",{className:"sticky top-0 bg-white p-4 pb-0 border-b border-gray-100",children:s.jsxs("div",{className:"flex items-center justify-between mb-2",children:[s.jsx("h3",{className:"text-lg font-bold text-gray-800",children:"Filter Restaurants"}),s.jsxs("span",{className:"text-sm text-gray-600 font-medium",children:[t," of ",n," restaurants"]})]})}),s.jsx(H1,{restaurants:e,onFiltersChange:r,onClose:()=>o(!1),isMobile:!0})]})})]})}const Sn=y.forwardRef(({className:e,type:t,...n},r)=>s.jsx("input",{type:t,className:_e("flex h-10 min-h-[44px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm touch-manipulation",e),ref:r,...n}));Sn.displayName="Input";var Im="Checkbox",[vM,ZR]=en(Im),[xM,yM]=vM(Im),U1=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:o,required:c,disabled:u,value:h="on",onCheckedChange:f,form:g,...p}=e,[x,b]=y.useState(null),C=Be(t,P=>b(P)),v=y.useRef(!1),S=x?g||!!x.closest("form"):!0,[j=!1,w]=yi({prop:a,defaultProp:o,onChange:f}),N=y.useRef(j);return y.useEffect(()=>{const P=x==null?void 0:x.form;if(P){const E=()=>w(N.current);return P.addEventListener("reset",E),()=>P.removeEventListener("reset",E)}},[x,w]),s.jsxs(xM,{scope:n,state:j,disabled:u,children:[s.jsx(xe.button,{type:"button",role:"checkbox","aria-checked":or(j)?"mixed":j,"aria-required":c,"data-state":W1(j),"data-disabled":u?"":void 0,disabled:u,value:h,...p,ref:C,onKeyDown:he(e.onKeyDown,P=>{P.key==="Enter"&&P.preventDefault()}),onClick:he(e.onClick,P=>{w(E=>or(E)?!0:!E),S&&(v.current=P.isPropagationStopped(),v.current||P.stopPropagation())})}),S&&s.jsx(_M,{control:x,bubbles:!v.current,name:r,value:h,checked:j,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"},defaultChecked:or(o)?!1:o})]})});U1.displayName=Im;var $1="CheckboxIndicator",Z1=y.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,o=yM($1,n);return s.jsx(Ni,{present:r||or(o.state)||o.state===!0,children:s.jsx(xe.span,{"data-state":W1(o.state),"data-disabled":o.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});Z1.displayName=$1;var _M=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...o}=e,c=y.useRef(null),u=du(n),h=su(t);y.useEffect(()=>{const g=c.current,p=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(p,"checked").set;if(u!==n&&b){const C=new Event("click",{bubbles:r});g.indeterminate=or(n),b.call(g,or(n)?!1:n),g.dispatchEvent(C)}},[u,n,r]);const f=y.useRef(or(n)?!1:n);return s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??f.current,...o,tabIndex:-1,ref:c,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function or(e){return e==="indeterminate"}function W1(e){return or(e)?"indeterminate":e?"checked":"unchecked"}var G1=U1,wM=Z1;const kr=y.forwardRef(({className:e,...t},n)=>s.jsx(G1,{ref:n,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:s.jsx(wM,{className:_e("flex items-center justify-center text-current"),children:s.jsx(j_,{className:"h-4 w-4"})})}));kr.displayName=G1.displayName;const bM=[{value:"1",label:"$ - Евтино"},{value:"2",label:"$$ - Умерено"},{value:"3",label:"$$$ - Скъпо"},{value:"4",label:"$$$$ - Много скъпо"}],jM=["Вегански","Вегетариански","Индийска","Средиземноморска","Азиатска","Мексиканска","Италианска","Тайландска","Китайска","Японска","Гръцка","Ливанска"],Gv=["Глутен","Лактоза","Ядки","Соя","Яйца","Риба","Ракообразни","Сусам"];function NM({isOpen:e,onClose:t,onApplyFilters:n,initialFilters:r}){const[a,o]=y.useState(r||{minVeganScore:0,minGoogleScore:0,maxDistance:10,priceRange:[],cuisineTypes:[],allergies:[],customAllergy:""}),[c,u]=y.useState(""),h=(v,S)=>{o(j=>({...j,priceRange:S?[...j.priceRange,v]:j.priceRange.filter(w=>w!==v)}))},f=(v,S)=>{o(j=>({...j,cuisineTypes:S?[...j.cuisineTypes,v]:j.cuisineTypes.filter(w=>w!==v)}))},g=(v,S)=>{o(j=>({...j,allergies:S?[...j.allergies,v]:j.allergies.filter(w=>w!==v)}))},p=()=>{c.trim()&&!a.allergies.includes(c.trim())&&(o(v=>({...v,allergies:[...v.allergies,c.trim()]})),u(""))},x=v=>{o(S=>({...S,allergies:S.allergies.filter(j=>j!==v)}))},b=()=>{n(a),t()},C=()=>{o({minVeganScore:0,minGoogleScore:0,maxDistance:10,priceRange:[],cuisineTypes:[],allergies:[],customAllergy:""}),u("")};return e?s.jsxs("div",{className:"fixed inset-0 bg-white z-[2001] overflow-y-auto",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between shadow-sm",children:[s.jsxs(Q,{onClick:t,variant:"ghost",size:"sm",className:"flex items-center",children:[s.jsx(mm,{className:"h-4 w-4 mr-2"}),"Назад"]}),s.jsx("h1",{className:"text-lg font-semibold",children:"Разширено търсене"}),s.jsxs(Q,{onClick:b,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white flex items-center",children:[s.jsx(T_,{className:"h-4 w-4 mr-2"}),"Запази"]})]}),s.jsxs("div",{className:"p-4 space-y-6",children:[s.jsxs("div",{children:[s.jsxs(De,{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Минимален Vegan Score: ",a.minVeganScore]}),s.jsx("input",{type:"range",min:"0",max:"10",step:"0.5",value:a.minVeganScore,onChange:v=>o(S=>({...S,minVeganScore:parseFloat(v.target.value)})),className:"w-full h-4 bg-gradient-to-r from-red-200 via-yellow-200 to-green-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[s.jsx("span",{children:"0 - Слабо"}),s.jsx("span",{children:"5 - Добре"}),s.jsx("span",{children:"10 - Отлично"})]})]}),s.jsxs("div",{children:[s.jsxs(De,{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Минимален Google Rating: ",a.minGoogleScore]}),s.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:a.minGoogleScore,onChange:v=>o(S=>({...S,minGoogleScore:parseFloat(v.target.value)})),className:"w-full h-4 bg-gradient-to-r from-red-200 to-green-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[s.jsx("span",{children:"0 ⭐"}),s.jsx("span",{children:"2.5 ⭐⭐⭐"}),s.jsx("span",{children:"5 ⭐⭐⭐⭐⭐"})]})]}),s.jsxs("div",{children:[s.jsxs(De,{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Максимално разстояние: ",a.maxDistance," км"]}),s.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:a.maxDistance,onChange:v=>o(S=>({...S,maxDistance:parseInt(v.target.value)})),className:"w-full h-4 bg-gradient-to-r from-green-200 to-red-200 rounded-lg appearance-none cursor-pointer"}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[s.jsx("span",{children:"1 км"}),s.jsx("span",{children:"25 км"}),s.jsx("span",{children:"50 км"})]})]}),s.jsxs("div",{children:[s.jsx(De,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Ценови диапазон"}),s.jsx("div",{className:"space-y-2",children:bM.map(v=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kr,{id:`price-${v.value}`,checked:a.priceRange.includes(v.value),onCheckedChange:S=>h(v.value,S)}),s.jsx(De,{htmlFor:`price-${v.value}`,className:"text-sm",children:v.label})]},v.value))})]}),s.jsxs("div",{children:[s.jsx(De,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Тип кухня"}),s.jsx("div",{className:"grid grid-cols-2 gap-2",children:jM.map(v=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kr,{id:`cuisine-${v}`,checked:a.cuisineTypes.includes(v),onCheckedChange:S=>f(v,S)}),s.jsx(De,{htmlFor:`cuisine-${v}`,className:"text-sm",children:v})]},v))})]}),s.jsxs("div",{children:[s.jsx(De,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Алергии и диетични ограничения"}),s.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[Gv.map(v=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kr,{id:`allergy-${v}`,checked:a.allergies.includes(v),onCheckedChange:S=>g(v,S)}),s.jsx(De,{htmlFor:`allergy-${v}`,className:"text-sm",children:v})]},v)),a.allergies.filter(v=>!Gv.includes(v)).map(v=>s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(kr,{id:`custom-allergy-${v}`,checked:!0,onCheckedChange:S=>{S||x(v)}}),s.jsx(De,{htmlFor:`custom-allergy-${v}`,className:"text-sm text-purple-700 font-medium",children:v}),s.jsx("button",{onClick:()=>x(v),className:"ml-1 text-red-500 hover:text-red-700 text-xs",children:s.jsx(fo,{className:"h-3 w-3"})})]},v))]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{className:"text-xs text-gray-600",children:"Добави специфична алергия:"}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Sn,{value:c,onChange:v=>u(v.target.value),placeholder:"Напр. авокадо, киноа...",className:"text-sm"}),s.jsx(Q,{onClick:p,size:"sm",variant:"outline",disabled:!c.trim(),children:"Добави"})]})]})]}),s.jsx("div",{className:"pt-4 border-t border-gray-200",children:s.jsx(Q,{onClick:C,variant:"outline",className:"w-full py-3 text-gray-600 border-gray-300 hover:bg-gray-50",children:"Нулирай всички филтри"})})]})]}):null}function SM({searchQuery:e,onSearchChange:t,showSuggestions:n,onShowSuggestions:r,searchSuggestions:a,onOpenChat:o,onOpenAdvancedSearch:c,onOpenProfile:u,showFavoritesOnly:h=!1,onToggleFavorites:f,isAuthenticated:g=!1}){return s.jsx("header",{className:"lg:hidden fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-lg z-[99999]",style:{position:"fixed",top:"env(safe-area-inset-top, 0px)",left:0,right:0,width:"100%",paddingTop:"env(safe-area-inset-top, 0px)",zIndex:99999},children:s.jsxs("div",{className:"flex items-center px-4 py-2 h-16",children:[s.jsxs("div",{className:"flex-1 relative mr-2",children:[s.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-full shadow-sm flex items-center px-3",style:{minHeight:"44px"},children:[s.jsx("div",{className:"text-gray-400 mr-2 text-sm",children:"🔍"}),s.jsx("input",{type:"text",placeholder:"Search vegan places...",className:"flex-1 outline-none text-gray-700 text-sm bg-transparent",value:e,onChange:p=>t(p.target.value),onFocus:()=>r(e.length>1),onBlur:()=>setTimeout(()=>r(!1),200)}),e&&s.jsx("button",{onClick:()=>t(""),className:"ml-2 text-gray-400 hover:text-gray-600 text-lg p-2 -m-2",style:{minWidth:"44px",minHeight:"44px",display:"flex",alignItems:"center",justifyContent:"center"},children:"×"})]}),n&&a.length>0&&s.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 max-h-80 overflow-y-auto z-[100000]",children:[a.filter(p=>p.type==="restaurant").slice(0,15).map((p,x)=>s.jsx("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>{t(p.name),r(!1)},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-green-600 text-sm",children:"🍽️"})})}),s.jsxs("div",{className:"flex-1 min-w-0",children:[s.jsx("div",{className:"text-gray-900 font-medium truncate",children:p.name}),s.jsx("div",{className:"text-sm text-gray-500 truncate",children:p.address})]}),p.veganScore&&s.jsx("div",{className:"flex-shrink-0",children:s.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[p.veganScore,"/10"]})})]})},`restaurant-${x}`)),a.filter(p=>p.type==="cuisine").slice(0,5).map((p,x)=>s.jsx("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>{t(p.name),r(!1)},children:s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"flex-shrink-0",children:s.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:s.jsx("span",{className:"text-blue-600 text-sm",children:"🏷️"})})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"text-gray-700 capitalize font-medium",children:p.name}),s.jsx("div",{className:"text-sm text-gray-500",children:"Cuisine type"})]})]})},`cuisine-${x}`)),a.length===0&&s.jsxs("div",{className:"p-4 text-center text-gray-500",children:[s.jsx("div",{className:"text-sm",children:"No results found"}),s.jsx("div",{className:"text-xs mt-1",children:"Try a different search term"})]})]})]}),s.jsxs("div",{className:"flex items-center gap-2",children:[s.jsx("button",{onClick:c||(()=>{}),className:"w-11 h-11 min-w-[44px] min-h-[44px] bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 active:scale-95",title:"Advanced Search",style:{touchAction:"manipulation"},children:s.jsx("span",{className:"text-white text-sm",children:"⚙️"})}),s.jsx("button",{onClick:o||(()=>window.location.href="/ai-chat"),className:"w-11 h-11 min-w-[44px] min-h-[44px] bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 active:scale-95",title:"AI Voice Assistant",style:{touchAction:"manipulation"},children:s.jsx("span",{className:"text-white text-sm",children:"🎤"})}),g&&s.jsx("button",{onClick:f,className:`w-11 h-11 min-w-[44px] min-h-[44px] rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 active:scale-95 ${h?"bg-red-500 hover:bg-red-600":"bg-gradient-to-r from-red-500 to-red-600"}`,title:h?"Show all restaurants":"Show favorites only",style:{touchAction:"manipulation"},children:s.jsx($r,{className:"w-4 h-4 text-white",fill:h?"currentColor":"none"})}),s.jsx("button",{onClick:u,className:"w-11 h-11 min-w-[44px] min-h-[44px] bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center text-white text-xs font-medium shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 active:scale-95",style:{touchAction:"manipulation"},children:s.jsx("i",{className:"fas fa-user text-sm"})})]})]})})}function CM(){const[e,t]=y.useState(null),[n,r]=y.useState(null),[a,o]=y.useState(!1),c=()=>new Promise((u,h)=>{if(!navigator.geolocation){const f="Geolocation is not supported by this browser";r(f),h(new Error(f));return}o(!0),r(null),navigator.geolocation.getCurrentPosition(f=>{const g={lat:f.coords.latitude,lng:f.coords.longitude,accuracy:f.coords.accuracy};t(g),o(!1),u(g)},f=>{let g="Failed to get location";switch(f.code){case f.PERMISSION_DENIED:g="Location access denied by user";break;case f.POSITION_UNAVAILABLE:g="Location information unavailable";break;case f.TIMEOUT:g="Location request timed out";break}r(g),o(!1),h(new Error(g))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})});return y.useEffect(()=>{c().catch(()=>{})},[]),{position:e,error:n,loading:a,getCurrentPosition:c}}function kM({restaurants:e,filteredCount:t,totalCount:n,onFiltersChange:r}){const[a,o]=y.useState(!1);return s.jsxs(s.Fragment,{children:[s.jsxs(Q,{onClick:()=>o(!a),variant:"outline",className:"bg-white hover:bg-gray-50 border-gray-300 text-gray-700 font-medium shadow-sm hover:shadow-md transition-all duration-200",children:[s.jsx(R_,{className:"w-4 h-4 mr-2"}),"Filters",t!==n&&s.jsxs("span",{className:"ml-2 bg-blue-100 text-blue-700 px-2 py-0.5 rounded-full text-xs font-bold",children:[t,"/",n]})]}),a&&s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 z-[998]",onClick:()=>o(!1)}),s.jsx("div",{className:"absolute top-full right-0 mt-2 z-[999]",children:s.jsx(H1,{restaurants:e,onFiltersChange:r,onClose:()=>o(!1),isMobile:!1})})]})]})}function PM({isOpen:e,onClose:t,title:n,size:r="medium",children:a,className:o=""}){const c=y.useRef(null),u=Le.modalSizes[r];return y.useEffect(()=>{if(!e)return;const h=g=>{g.key==="Escape"&&t()},f=g=>{c.current&&!c.current.contains(g.target)&&t()};return document.addEventListener("keydown",h),document.addEventListener("mousedown",f),document.body.style.overflow="hidden",()=>{document.removeEventListener("keydown",h),document.removeEventListener("mousedown",f),document.body.style.overflow="unset"}},[e,t]),e?s.jsx("div",{className:"modal-overlay",style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:Le.colors.background.overlay,display:"flex",alignItems:"center",justifyContent:"center",zIndex:Le.zIndex.modal,padding:Le.spacing.md},children:s.jsxs("div",{ref:c,className:`modal-content ${o}`,style:{backgroundColor:Le.colors.background.primary,borderRadius:Le.borderRadius.lg,boxShadow:Le.shadows.xl,width:u.width,maxWidth:u.maxWidth,minHeight:r==="fullScreen"?"100vh":u.minHeight,maxHeight:"90vh",overflow:"auto",position:"relative"},children:[n&&s.jsxs("div",{className:"modal-header",style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:`${Le.spacing.lg} ${Le.spacing.lg} ${Le.spacing.md}`,borderBottom:`1px solid ${Le.colors.border}`},children:[s.jsx("h2",{style:{...Le.typography.h3,color:Le.colors.text.primary,margin:0},children:n}),s.jsx("button",{onClick:t,className:"modal-close-button",style:{background:"none",border:"none",cursor:"pointer",padding:Le.spacing.sm,borderRadius:Le.borderRadius.md,color:Le.colors.text.secondary,display:"flex",alignItems:"center",justifyContent:"center"},children:s.jsx(fo,{size:20})})]}),s.jsx("div",{className:"modal-body",style:{padding:Le.spacing.lg},children:a})]})}):null}const LM=["Healthy vegan near me","Restaurants without soy","Best rated vegan places","Cheap vegetarian food","Italian vegan restaurants","Gluten-free vegan options"];function EM({isOpen:e,onClose:t,onSearchResults:n}){const[r,a]=y.useState(""),[o,c]=y.useState(!1),[u,h]=y.useState(null),[f,g]=y.useState(""),p=async()=>{if(r.trim()){c(!0),g(""),h(null);try{const x=await fetch("/api/ai-search",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({query:r})});if(!x.ok){const C=await x.json();throw new Error(C.message||"Connection problem - please try again")}const b=await x.json();h(b),n(b.restaurants)}catch(x){g(x.message||"AI search taking longer than expected... Please try again")}finally{c(!1)}}};return s.jsx(PM,{isOpen:e,onClose:t,size:"large",className:"ai-search-modal",children:s.jsxs("div",{className:"ai-search-content",children:[s.jsx("div",{style:{background:"linear-gradient(to right, #3B82F6, #8B5CF6)",margin:`-${Le.spacing.lg}`,marginBottom:Le.spacing.lg,padding:Le.spacing.lg,borderRadius:`${Le.borderRadius.lg} ${Le.borderRadius.lg} 0 0`},children:s.jsxs("div",{className:"flex items-center",children:[s.jsx(Cc,{className:"w-8 h-8 text-white mr-3"}),s.jsx("h2",{style:{...Le.typography.h2,color:"white",margin:0},children:"AI Restaurant Search"})]})}),s.jsxs("div",{className:"p-4 sm:p-6",children:[s.jsx("div",{className:"mb-6",children:s.jsxs("div",{className:"relative",children:[s.jsx(Sn,{placeholder:"Ask me anything about vegan restaurants...",value:r,onChange:x=>a(x.target.value),onKeyPress:x=>x.key==="Enter"&&p(),className:"pr-12 text-lg py-6",disabled:o}),s.jsx(Q,{onClick:p,disabled:o||!r.trim(),className:"absolute right-1 top-1 bottom-1 px-4",children:o?s.jsx(bv,{className:"w-5 h-5 animate-spin"}):s.jsx(M_,{className:"w-5 h-5"})})]})}),!u&&!o&&s.jsxs("div",{className:"mb-6",children:[s.jsx("p",{className:"text-sm text-gray-600 mb-3",children:"Try these example searches:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:LM.map((x,b)=>s.jsx(Q,{variant:"outline",size:"sm",onClick:()=>{a(x),setTimeout(()=>p(),100)},className:"text-sm",children:x},b))})]}),o&&s.jsxs("div",{className:"text-center py-12",children:[s.jsx(bv,{className:"w-12 h-12 animate-spin mx-auto text-blue-500 mb-4"}),s.jsx("p",{className:"text-gray-600",children:"AI is analyzing restaurants..."})]}),f&&s.jsx("div",{className:"bg-red-50 border border-red-200 rounded-lg p-4 mb-4",children:s.jsx("p",{className:"text-red-600",children:f})}),u&&!o&&s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-4",children:[s.jsx("p",{className:"text-blue-800 font-medium mb-2",children:"AI Analysis:"}),s.jsx("p",{className:"text-blue-700",children:u.explanation})]}),s.jsxs("div",{children:[s.jsxs("h3",{className:"font-bold text-lg mb-3",children:["Found ",u.restaurants.length," matching restaurants:"]}),s.jsx("div",{className:"space-y-3 max-h-96 overflow-y-auto",children:u.restaurants.map(x=>s.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-colors",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold text-gray-800",children:x.name}),s.jsxs("p",{className:"text-sm text-gray-600 flex items-center mt-1",children:[s.jsx(dn,{className:"w-4 h-4 mr-1"}),x.address]}),s.jsxs("div",{className:"flex items-center gap-4 mt-2",children:[s.jsxs("span",{className:"text-sm flex items-center",children:[s.jsx(Zr,{className:"w-4 h-4 text-yellow-500 mr-1"}),x.veganScore||0," vegan"]}),s.jsxs("span",{className:"text-sm flex items-center",children:[s.jsx(Zr,{className:"w-4 h-4 text-blue-500 mr-1"}),x.rating||0," Google"]}),x.priceLevel&&s.jsxs("span",{className:"text-sm flex items-center",children:[s.jsx(P_,{className:"w-4 h-4 text-green-500 mr-1"}),"$".repeat(x.priceLevel)]})]})]})})},x.id))})]}),s.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[s.jsx(Q,{onClick:()=>{t()},className:"flex-1",children:"Show on Map"}),s.jsx(Q,{onClick:()=>{a(""),h(null)},variant:"outline",children:"New Search"})]})]})]})]})})}function TM({isOpen:e,onClose:t,onShowFavorites:n}){var C;const{user:r,isAuthenticated:a,isLoading:o}=Xr(),c=Rn(),[u,h]=y.useState("profile"),[f,g]=y.useState({searchRadius:10}),{data:p}=at({queryKey:["/api/user/stats"],enabled:a,retry:!1}),{data:x}=at({queryKey:["/api/favorites"],enabled:a,retry:!1});y.useEffect(()=>{navigator.geolocation&&a&&navigator.geolocation.getCurrentPosition(v=>{g(S=>({...S,defaultLat:v.coords.latitude,defaultLng:v.coords.longitude}))},()=>{g(v=>({...v,defaultLat:42.6977,defaultLng:23.3219}))})},[a]);const b=Mt({mutationFn:async v=>await En("/api/user/preferences",{method:"POST",body:JSON.stringify(v)}),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/user/preferences"]})}});return e?s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[1002]",onClick:t}),s.jsx("div",{className:"fixed top-1/2 left-1/2 transform -translate-x-1/2 -translate-y-1/2 w-full max-w-md z-[1003] px-4",children:s.jsxs(le,{className:"bg-white shadow-2xl rounded-2xl overflow-hidden",children:[s.jsx("div",{className:"bg-gradient-to-r from-green-500 to-green-600 p-6",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center",children:[s.jsx(Gh,{className:"w-8 h-8 text-white mr-3"}),s.jsx("h2",{className:"text-2xl font-bold text-white",children:a?"My Profile":"Profile"})]}),s.jsx(Q,{onClick:t,variant:"ghost",size:"icon",className:"text-white hover:bg-white/20",children:"✕"})]})}),s.jsx("div",{className:"p-6",children:o?s.jsx("div",{className:"text-center py-8",children:s.jsx("p",{className:"text-gray-500",children:"Loading..."})}):a?s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"flex space-x-1 mb-6 bg-gray-100 rounded-lg p-1",children:[s.jsx(Q,{onClick:()=>h("profile"),variant:u==="profile"?"default":"ghost",className:"flex-1",children:"Profile"}),s.jsx(Q,{onClick:()=>h("preferences"),variant:u==="preferences"?"default":"ghost",className:"flex-1",children:"Preferences"})]}),u==="profile"?s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-20 h-20 bg-green-100 rounded-full mx-auto mb-3 flex items-center justify-center",children:s.jsx(Gh,{className:"w-10 h-10 text-green-600"})}),s.jsx("h3",{className:"text-xl font-semibold text-gray-800",children:(r==null?void 0:r.firstName)||(r==null?void 0:r.email)||"User"}),s.jsx("p",{className:"text-gray-600 text-sm",children:r==null?void 0:r.email})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{className:"bg-blue-50 rounded-lg p-4 text-center",children:[s.jsx($r,{className:"w-8 h-8 text-blue-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:(x==null?void 0:x.length)||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Favorites"})]}),s.jsxs("div",{className:"bg-purple-50 rounded-lg p-4 text-center",children:[s.jsx(M_,{className:"w-8 h-8 text-purple-600 mx-auto mb-2"}),s.jsx("p",{className:"text-2xl font-bold text-gray-800",children:(p==null?void 0:p.searchesCount)||0}),s.jsx("p",{className:"text-sm text-gray-600",children:"Searches"})]})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs(Q,{onClick:()=>{n(),t()},className:"w-full bg-green-500 hover:bg-green-600 text-white",children:[s.jsx($r,{className:"w-4 h-4 mr-2"}),"View My Favorites"]}),s.jsx(Q,{onClick:()=>window.location.href="/api/logout",variant:"outline",className:"w-full",children:"Logout"})]})]}):s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs(De,{className:"text-sm font-medium text-gray-700 mb-2 flex items-center",children:[s.jsx(dn,{className:"w-4 h-4 mr-1"}),"Default Location"]}),s.jsxs("div",{className:"bg-gray-50 rounded-lg p-3",children:[s.jsx("p",{className:"text-sm text-gray-600",children:f.defaultLat&&f.defaultLng?`${f.defaultLat.toFixed(4)}, ${f.defaultLng.toFixed(4)}`:"Sofia Center (Default)"}),s.jsx(Q,{size:"sm",variant:"link",className:"mt-1 p-0 h-auto",onClick:()=>{navigator.geolocation&&navigator.geolocation.getCurrentPosition(v=>{g(S=>({...S,defaultLat:v.coords.latitude,defaultLng:v.coords.longitude}))},()=>alert("Location access denied"))},children:"Update to current location"})]})]}),s.jsxs("div",{children:[s.jsxs(De,{className:"text-sm font-medium text-gray-700 mb-2",children:["Minimum Vegan Score: ",f.minVeganScore||0," ⭐"]}),s.jsx("input",{type:"range",min:"0",max:"5",step:"0.5",value:f.minVeganScore||0,onChange:v=>g(S=>({...S,minVeganScore:parseFloat(v.target.value)})),className:"w-full h-2 bg-gradient-to-r from-red-200 via-yellow-200 to-green-200 rounded-lg appearance-none cursor-pointer"})]}),s.jsxs("div",{children:[s.jsx(De,{className:"text-sm font-medium text-gray-700 mb-2",children:"Search Radius"}),s.jsxs(Rm,{value:((C=f.searchRadius)==null?void 0:C.toString())||"10",onValueChange:v=>g(S=>({...S,searchRadius:parseInt(v)})),children:[s.jsx(pu,{children:s.jsx(Am,{})}),s.jsxs(gu,{children:[s.jsx(Cn,{value:"5",children:"5 km"}),s.jsx(Cn,{value:"10",children:"10 km"}),s.jsx(Cn,{value:"25",children:"25 km"}),s.jsx(Cn,{value:"50",children:"50 km"})]})]})]}),s.jsx(Q,{onClick:()=>b.mutate(f),className:"w-full bg-green-500 hover:bg-green-600 text-white",disabled:b.isPending,children:b.isPending?"Saving...":"Save Preferences"})]})]}):s.jsxs("div",{className:"text-center py-8",children:[s.jsx(Qk,{className:"w-16 h-16 text-gray-400 mx-auto mb-4"}),s.jsx("h3",{className:"text-xl font-semibold text-gray-800 mb-2",children:"Login to Access Profile"}),s.jsx("p",{className:"text-gray-600 mb-6",children:"Create an account to save favorites, track visits, and personalize your experience!"}),s.jsx(Q,{onClick:()=>window.location.href="/api/login",className:"bg-green-500 hover:bg-green-600 text-white",children:"Login with Replit"}),s.jsxs("div",{className:"mt-6 text-left bg-gray-50 rounded-lg p-4",children:[s.jsx("h4",{className:"font-semibold text-gray-800 mb-2",children:"Benefits of logging in:"}),s.jsxs("ul",{className:"space-y-1 text-sm text-gray-600",children:[s.jsx("li",{children:"• Save your favorite restaurants"}),s.jsx("li",{children:"• Track restaurants you've visited"}),s.jsx("li",{children:"• Set default location and preferences"}),s.jsx("li",{children:"• Get personalized recommendations"}),s.jsx("li",{children:"• Access your search history"})]})]})]})})]})})]}):null}function Kv(){const[,e]=ji(),{position:t,loading:n,error:r,getCurrentPosition:a}=CM(),{toast:o}=Ct(),[c,u]=y.useState(null),[h,f]=y.useState(!1),[g,p]=y.useState(!1),[x,b]=y.useState(!1),[C,v]=y.useState(""),[S,j]=y.useState([]),[w,N]=y.useState([]),[P,E]=y.useState(!1),[R,I]=y.useState(typeof window<"u"&&window.innerWidth<1024),[z,U]=y.useState(0),[G,H]=y.useState(0),[B,X]=y.useState({cuisineType:"all",minVeganScore:0,priceLevel:"all",maxDistance:500}),[Z,ce]=y.useState(!1),[K,ie]=y.useState(new Set),[A,$]=y.useState(!1),[F,J]=y.useState(!1),{isAuthenticated:fe}=Xr(),{data:V=[]}=at({queryKey:["/api/favorites"],enabled:fe,retry:!1}),ee=new URLSearchParams(window.location.search),te=ee.get("lat"),oe=ee.get("lng"),ne=ee.get("restaurant"),ge=te&&oe?{lat:parseFloat(te),lng:parseFloat(oe)}:t,{data:ye=[],isLoading:Te}=at({queryKey:["/api/restaurants/public/map-data"],queryFn:async()=>{const Y=await fetch("/api/restaurants/public/map-data");if(!Y.ok)throw new Error("Failed to fetch restaurants");const Ve=await Y.json();return Ve.restaurants||Ve}});y.useEffect(()=>{},[Te,ye.length]),y.useEffect(()=>{if(ye.length>0&&ne){const Y=ye.find(Ve=>Ve.id===ne);if(Y){u(Y),p(!0);const Ve=new URL(window.location.href);Ve.searchParams.delete("restaurant"),window.history.replaceState({},"",Ve.toString())}}},[ye.length,ne]);const Ae=(Y,Ve,me,zn)=>{const yo=(me-Y)*Math.PI/180,_o=(zn-Ve)*Math.PI/180,$a=Math.sin(yo/2)*Math.sin(yo/2)+Math.cos(Y*Math.PI/180)*Math.cos(me*Math.PI/180)*Math.sin(_o/2)*Math.sin(_o/2);return 6371*(2*Math.atan2(Math.sqrt($a),Math.sqrt(1-$a)))};y.useEffect(()=>{if(!ye.length){S.length>0&&j([]);return}let Y=ye;C.trim()&&(Y=Y.filter(me=>me.name.toLowerCase().includes(C.toLowerCase())||me.address.toLowerCase().includes(C.toLowerCase())));const Ve=Math.max(z,B.minVeganScore);if(Y=Y.filter(me=>(me.veganScore?parseFloat(me.veganScore):0)>=Ve),Y=Y.filter(me=>(me.rating?parseFloat(me.rating):0)>=G),B.cuisineType!=="all"&&(Y=Y.filter(me=>me.cuisineTypes&&me.cuisineTypes.includes(B.cuisineType))),B.priceLevel!=="all"&&(Y=Y.filter(me=>me.priceLevel===parseInt(B.priceLevel))),F&&V.length>0){const me=new Set(V.map(zn=>zn.id));Y=Y.filter(zn=>me.has(zn.id))}ge&&(Y=Y.filter(me=>Ae(ge.lat,ge.lng,parseFloat(me.latitude),parseFloat(me.longitude))<=B.maxDistance)),JSON.stringify(Y)!==JSON.stringify(S)&&j(Y)},[ye.length,C,z,G,B,ge,F,V]),y.useEffect(()=>{if(!ye.length){N([]);return}if(!C.trim()){N([]),E(!1);return}const Y=ye.filter(me=>me.name.toLowerCase().includes(C.toLowerCase())||me.address.toLowerCase().includes(C.toLowerCase())).slice(0,15).map(me=>({id:me.id,name:me.name,address:me.address,veganScore:me.veganScore,type:"restaurant"})),Ve=Array.from(new Set(ye.filter(me=>me.cuisineTypes).flatMap(me=>me.cuisineTypes).filter(me=>typeof me=="string"&&me.toLowerCase().includes(C.toLowerCase())&&!["point_of_interest","establishment","food","restaurant"].includes(me)))).slice(0,5).map(me=>({id:me,name:me.replace(/_/g," ").toLowerCase(),type:"cuisine"}));N([...Y,...Ve]),E(C.length>1)},[ye.length,C]);const Me=Y=>{(Y.type==="restaurant"||Y.type==="cuisine")&&v(Y.name),E(!1)},it=()=>{a(),o({title:"Getting your location",description:"Finding nearby vegan restaurants..."})},It=(Y,Ve)=>{u({...Y,geoHash:Y.geoHash||null}),p(!0)},In=()=>{if(c){const Y=`https://www.google.com/maps/dir/?api=1&destination=${c.latitude},${c.longitude}&travelmode=walking`;try{window.open(Y,"_blank")||(window.location.href=Y)}catch{window.location.href=Y}p(!1)}},On=()=>{c&&(f(!0),p(!1))},mn=()=>{b(!0)},Si=Y=>{U(Y.minVeganScore),H(Y.minGoogleScore),X(Ve=>({...Ve,minVeganScore:Y.minVeganScore}))},Ci=()=>{p(!1)},Ha=Y=>{const Ve=new Set(Y.map(me=>me.id));ie(Ve),v(""),Y.length>0&&(Math.min(...Y.map(me=>parseFloat(me.latitude))),Math.min(...Y.map(me=>parseFloat(me.longitude))),Math.max(...Y.map(me=>parseFloat(me.latitude))),Math.max(...Y.map(me=>parseFloat(me.longitude))))},xo=()=>{f(!1),u(null)};return y.useEffect(()=>{const Y=()=>{const Ve=window.innerWidth<1024;I(Ve)};return Y(),window.addEventListener("resize",Y),()=>window.removeEventListener("resize",Y)},[]),s.jsxs(s.Fragment,{children:[s.jsx(SM,{searchQuery:C,onSearchChange:v,showSuggestions:P,onShowSuggestions:E,searchSuggestions:w,onOpenChat:()=>e("/ai-chat"),onOpenAdvancedSearch:mn,onOpenProfile:()=>$(!0),showFavoritesOnly:F,onToggleFavorites:()=>J(!F),isAuthenticated:fe}),s.jsxs("div",{className:"h-screen relative bg-gray-50",style:{paddingTop:R?"64px":"0px"},children:[s.jsx("div",{className:"hidden lg:block fixed top-0 left-0 right-0 bg-white border-b border-gray-200 shadow-lg backdrop-blur-sm h-16",style:{zIndex:1e3},children:s.jsxs("div",{className:"flex items-center px-2 sm:px-4 py-3 h-full max-w-7xl mx-auto",children:[s.jsx(Q,{variant:"ghost",className:"hidden sm:flex p-2 mr-3 hover:bg-gray-100 rounded-full transition-all duration-200 hover:scale-105",children:s.jsx("i",{className:"fas fa-bars text-gray-600 text-lg"})}),s.jsxs("div",{className:"flex-1 relative max-w-2xl",children:[s.jsxs("div",{className:"bg-white border border-gray-300 rounded-full shadow-sm flex items-center px-4 py-2.5 hover:shadow-lg transition-all duration-200 focus-within:shadow-lg focus-within:border-blue-400",children:[s.jsx("i",{className:"fas fa-search text-gray-400 mr-3 text-sm"}),s.jsx("input",{type:"text",placeholder:"Search for vegan places...",className:"flex-1 outline-none text-gray-700 font-opensans text-sm bg-transparent",value:C,onChange:Y=>v(Y.target.value),onFocus:()=>E(C.length>1),onBlur:()=>setTimeout(()=>E(!1),200)}),C&&s.jsx("button",{onClick:()=>{v(""),E(!1)},className:"text-gray-400 hover:text-gray-600 ml-2 p-1 hover:bg-gray-100 rounded-full transition-colors",children:s.jsx("i",{className:"fas fa-times text-xs"})})]}),P&&w.length>0&&s.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-2xl shadow-2xl mt-2 max-h-80 overflow-y-auto backdrop-blur-sm",style:{zIndex:1002},children:s.jsx("div",{className:"p-2",children:w.map((Y,Ve)=>s.jsx("div",{className:"px-4 py-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-150 hover:scale-[1.02] group",onClick:()=>Me(Y),children:s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${Y.type==="restaurant"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"} group-hover:scale-110 transition-transform`,children:s.jsx("i",{className:`fas ${Y.type==="restaurant"?"fa-utensils":"fa-tag"} text-sm`})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:Y.name}),Y.address&&s.jsx("div",{className:"text-xs text-gray-500 mt-0.5 truncate",children:Y.address}),Y.veganScore&&s.jsxs("div",{className:"text-xs text-green-600 font-medium mt-1 flex items-center",children:[s.jsx("i",{className:"fas fa-leaf mr-1"}),"Vegan Score: ",Y.veganScore,"/10"]}),Y.type==="cuisine"&&s.jsxs("div",{className:"text-xs text-blue-600 font-medium mt-1 flex items-center",children:[s.jsx("i",{className:"fas fa-utensils mr-1"}),"Cuisine type"]})]})]})},`${Y.type}-${Y.id}`))})})]}),s.jsxs("div",{className:"flex items-center ml-2 sm:ml-3 space-x-1 sm:space-x-2",children:[s.jsxs(Q,{onClick:()=>ce(!0),variant:"outline",className:"hidden sm:flex bg-white hover:bg-gray-50 border-gray-300 text-gray-700 font-medium shadow-sm hover:shadow-md transition-all duration-200 mr-2",children:[s.jsx(Cc,{className:"w-4 h-4 mr-2"}),"AI Restaurant Search"]}),s.jsx("div",{className:"relative hidden sm:block mr-2",children:s.jsx(kM,{restaurants:ye,filteredCount:S.length,totalCount:ye.length,onFiltersChange:X})}),s.jsx("a",{href:"/admin",className:"hidden sm:block",children:s.jsx(Q,{variant:"ghost",className:"w-9 h-9 sm:w-10 sm:h-10 p-0 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105",title:"Admin Panel - Manage platform settings",children:s.jsx("span",{className:"text-white text-sm sm:text-lg",children:"⚙️"})})}),s.jsx("a",{href:"/ai-chat",children:s.jsx(Q,{variant:"ghost",className:"w-9 h-9 sm:w-10 sm:h-10 p-0 hover:scale-105 transition-all duration-200",title:"AI Voice Assistant - Ask questions about restaurants",children:s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl",children:s.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:s.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 616 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 715 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})})})})}),s.jsx(Q,{onClick:()=>$(!0),variant:"ghost",className:"w-9 h-9 sm:w-10 sm:h-10 hover:bg-gray-100 rounded-full transition-all duration-200 flex items-center justify-center p-0 hover:scale-105",title:"My Profile - View favorites and preferences",children:s.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center text-white text-xs sm:text-sm font-medium shadow-lg",children:s.jsx("i",{className:"fas fa-user"})})}),fe&&s.jsx(Q,{onClick:()=>J(!F),variant:F?"default":"ghost",className:`w-9 h-9 sm:w-10 sm:h-10 rounded-full transition-all duration-200 flex items-center justify-center p-0 hover:scale-105 ${F?"bg-red-500 hover:bg-red-600 text-white":"hover:bg-gray-100"}`,title:F?"Show all restaurants":"Show favorites only",children:s.jsx("div",{className:`w-7 h-7 sm:w-8 sm:h-8 rounded-full flex items-center justify-center ${F?"":"bg-gradient-to-r from-red-500 to-red-600 text-white shadow-lg"}`,children:s.jsx($r,{className:"w-4 h-4 sm:w-5 sm:h-5",fill:F?"currentColor":"none"})})})]})]})}),s.jsxs("div",{className:"w-full h-full relative",style:{minHeight:"100vh",backgroundColor:"#f5f5f5"},children:[s.jsx(SE,{center:ge?[ge.lat,ge.lng]:[42.6977,23.3219],zoom:11,restaurants:S.map(Y=>({...Y,latitude:parseFloat(Y.latitude),longitude:parseFloat(Y.longitude),veganScore:Y.veganScore||"0"})),onRestaurantClick:Y=>{const Ve=S.find(me=>me.id===Y.id);Ve&&It(Ve)},searchQuery:C,userFavorites:V.map(Y=>Y.id),aiHighlightedRestaurants:K,isAuthenticated:fe}),R&&s.jsxs(s.Fragment,{children:[s.jsxs("div",{className:"absolute top-4 right-4 bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg p-3 w-44",style:{zIndex:g?1:50,opacity:g?.7:1},children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-4 h-4 bg-green-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-green-600 text-xs",children:"🌱"})}),s.jsx("h3",{className:"text-xs font-bold text-gray-800",children:"Vegan Guide"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center text-xs hover:bg-green-50 rounded px-1 py-0.5 transition-colors",children:[s.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mr-2"}),s.jsx("span",{className:"text-gray-700",children:"8.5+ Excellent"})]}),s.jsxs("div",{className:"flex items-center text-xs hover:bg-green-50 rounded px-1 py-0.5 transition-colors",children:[s.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),s.jsx("span",{className:"text-gray-700",children:"7.5+ Very Good"})]}),s.jsxs("div",{className:"flex items-center text-xs hover:bg-yellow-50 rounded px-1 py-0.5 transition-colors",children:[s.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),s.jsx("span",{className:"text-gray-700",children:"6.5+ Good"})]}),s.jsxs("div",{className:"flex items-center text-xs hover:bg-orange-50 rounded px-1 py-0.5 transition-colors",children:[s.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),s.jsx("span",{className:"text-gray-700",children:"5.5+ Fair"})]}),s.jsxs("div",{className:"flex items-center text-xs hover:bg-red-50 rounded px-1 py-0.5 transition-colors",children:[s.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),s.jsx("span",{className:"text-gray-700",children:"<5.5 Poor"})]})]}),s.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:s.jsxs(Q,{onClick:it,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-1.5 px-3 rounded-lg transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg text-xs font-medium active:scale-95",disabled:n,style:{touchAction:"manipulation"},children:[s.jsx("span",{className:"mr-1",children:"📍"}),n?"Finding your location...":"My Location"]})})]}),s.jsx("div",{className:"absolute top-72 right-4 z-[40]",children:s.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg p-3 w-44 transition-all duration-300 hover:shadow-xl",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-blue-600 text-xs",children:"🎚️"})}),s.jsx("h3",{className:"text-xs font-bold text-gray-800",children:"Filters"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:["Min Vegan Score: ",z]}),s.jsx("input",{type:"range",min:"0",max:"10",step:"0.5",value:z,onChange:Y=>U(parseFloat(Y.target.value)),className:"w-full h-2 bg-gradient-to-r from-red-200 via-yellow-200 to-green-200 rounded-lg appearance-none cursor-pointer",style:{touchAction:"manipulation"}}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"5"}),s.jsx("span",{children:"10"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:["Min Google Score: ",G]}),s.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:G,onChange:Y=>H(parseFloat(Y.target.value)),className:"w-full h-2 bg-gradient-to-r from-red-200 to-green-200 rounded-lg appearance-none cursor-pointer",style:{touchAction:"manipulation"}}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"2.5"}),s.jsx("span",{children:"5"})]})]})]})]})})]})]}),s.jsxs("div",{className:"hidden sm:block fixed top-20 right-4 bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg p-3 w-52 transition-all duration-300 hover:shadow-xl",style:{zIndex:g?1:999,opacity:g?.7:1},children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-green-600 text-xs",children:"🌱"})}),s.jsx("h3",{className:"text-xs font-opensans font-bold text-gray-800",children:"Vegan Guide"})]}),s.jsxs("div",{className:"space-y-1",children:[s.jsxs("div",{className:"flex items-center text-xs hover:bg-green-50 rounded px-1 py-0.5 transition-colors",children:[s.jsx("div",{className:"w-2.5 h-2.5 bg-green-600 rounded-full mr-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"8.5+ Excellent"})]}),s.jsxs("div",{className:"flex items-center text-xs hover:bg-green-50 rounded px-1 py-0.5 transition-colors",children:[s.jsx("div",{className:"w-2.5 h-2.5 bg-green-400 rounded-full mr-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"7.5+ Very Good"})]}),s.jsxs("div",{className:"flex items-center text-xs hover:bg-yellow-50 rounded px-1 py-0.5 transition-colors",children:[s.jsx("div",{className:"w-2.5 h-2.5 bg-yellow-500 rounded-full mr-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"6.5+ Good"})]}),s.jsxs("div",{className:"flex items-center text-xs hover:bg-orange-50 rounded px-1 py-0.5 transition-colors",children:[s.jsx("div",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full mr-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"5.5+ Fair"})]}),s.jsxs("div",{className:"flex items-center text-xs hover:bg-red-50 rounded px-1 py-0.5 transition-colors",children:[s.jsx("div",{className:"w-2.5 h-2.5 bg-red-500 rounded-full mr-2"}),s.jsx("span",{className:"text-gray-700 font-medium",children:"<5.5 Poor"})]})]}),s.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:s.jsxs(Q,{onClick:it,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-1.5 px-3 rounded-lg transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg text-xs font-medium",disabled:n,children:[s.jsx("span",{className:"mr-1",children:"📍"}),n?"Finding your location...":"My Location"]})})]}),s.jsxs("div",{className:"hidden sm:block fixed bottom-4 right-2 sm:right-4 bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg p-3 w-52 transition-all duration-300 hover:shadow-xl",style:{zIndex:g?1:998,opacity:g?.7:1,transform:g?"translateY(10px)":"translateY(0)"},children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:s.jsx("span",{className:"text-blue-600 text-xs",children:"🎚️"})}),s.jsx("h3",{className:"text-xs font-opensans font-bold text-gray-800",children:"Filters"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:["Min Vegan Score: ",z]}),s.jsx("input",{type:"range",min:"0",max:"10",step:"0.5",value:z,onChange:Y=>U(parseFloat(Y.target.value)),className:"w-full h-2 bg-gradient-to-r from-red-200 via-yellow-200 to-green-200 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #fecaca 0%, #fde68a 50%, #bbf7d0 100%)"}}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"5"}),s.jsx("span",{children:"10"})]})]}),s.jsxs("div",{children:[s.jsxs("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:["Min Google Score: ",G]}),s.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:G,onChange:Y=>H(parseFloat(Y.target.value)),className:"w-full h-2 bg-gradient-to-r from-red-200 to-green-200 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #fecaca 0%, #bbf7d0 100%)"}}),s.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[s.jsx("span",{children:"0"}),s.jsx("span",{children:"2.5"}),s.jsx("span",{children:"5"})]})]})]})]}),c&&g&&s.jsx(OT,{restaurant:{...c,geoHash:null},onClose:Ci,onNavigate:In,onViewDetails:On}),c&&s.jsx(IT,{restaurant:{...c,geoHash:null},isOpen:h,onClose:xo}),s.jsx(NM,{isOpen:x,onClose:()=>b(!1),onApplyFilters:Si,initialFilters:{minVeganScore:z,minGoogleScore:G,maxDistance:10,priceRange:[],cuisineTypes:[],allergies:[]}}),R&&s.jsx("div",{className:"fixed bottom-20 right-4 z-[999]",children:s.jsx(gM,{restaurants:ye,filteredCount:S.length,totalCount:ye.length,onFiltersChange:X})}),R&&s.jsx("div",{className:"fixed bottom-40 right-4 z-[999]",children:s.jsx(Q,{onClick:()=>ce(!0),className:"w-14 h-14 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 rounded-full shadow-xl hover:shadow-2xl transition-all duration-300 flex items-center justify-center active:scale-95",style:{touchAction:"manipulation"},children:s.jsx(Cc,{className:"w-6 h-6 text-white"})})}),s.jsx(EM,{isOpen:Z,onClose:()=>ce(!1),onSearchResults:Ha}),s.jsx(TM,{isOpen:A,onClose:()=>$(!1),onShowFavorites:()=>{J(!0),$(!1)}})]})]})}var Om="Progress",zm=100,[MM,WR]=en(Om),[RM,AM]=MM(Om),K1=y.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:o=IM,...c}=e;(a||a===0)&&!qv(a)&&console.error(OM(`${a}`,"Progress"));const u=qv(a)?a:zm;r!==null&&!Qv(r,u)&&console.error(zM(`${r}`,"Progress"));const h=Qv(r,u)?r:null,f=Ic(h)?o(h,u):void 0;return s.jsx(RM,{scope:n,value:h,max:u,children:s.jsx(xe.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":Ic(h)?h:void 0,"aria-valuetext":f,role:"progressbar","data-state":Y1(h,u),"data-value":h??void 0,"data-max":u,...c,ref:t})})});K1.displayName=Om;var q1="ProgressIndicator",Q1=y.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=AM(q1,n);return s.jsx(xe.div,{"data-state":Y1(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});Q1.displayName=q1;function IM(e,t){return`${Math.round(e/t*100)}%`}function Y1(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function Ic(e){return typeof e=="number"}function qv(e){return Ic(e)&&!isNaN(e)&&e>0}function Qv(e,t){return Ic(e)&&!isNaN(e)&&e<=t&&e>=0}function OM(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${zm}\`.`}function zM(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${zm} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var X1=K1,DM=Q1;const bt=y.forwardRef(({className:e,value:t,...n},r)=>s.jsx(X1,{ref:r,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:s.jsx(DM,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));bt.displayName=X1.displayName;var Od="rovingFocusGroup.onEntryFocus",FM={bubbles:!1,cancelable:!0},vu="RovingFocusGroup",[af,J1,BM]=um(vu),[VM,xu]=en(vu,[BM]),[HM,UM]=VM(vu),eb=y.forwardRef((e,t)=>s.jsx(af.Provider,{scope:e.__scopeRovingFocusGroup,children:s.jsx(af.Slot,{scope:e.__scopeRovingFocusGroup,children:s.jsx($M,{...e,ref:t})})}));eb.displayName=vu;var $M=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:o,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...p}=e,x=y.useRef(null),b=Be(t,x),C=uu(o),[v=null,S]=yi({prop:c,defaultProp:u,onChange:h}),[j,w]=y.useState(!1),N=$t(f),P=J1(n),E=y.useRef(!1),[R,I]=y.useState(0);return y.useEffect(()=>{const z=x.current;if(z)return z.addEventListener(Od,N),()=>z.removeEventListener(Od,N)},[N]),s.jsx(HM,{scope:n,orientation:r,dir:C,loop:a,currentTabStopId:v,onItemFocus:y.useCallback(z=>S(z),[S]),onItemShiftTab:y.useCallback(()=>w(!0),[]),onFocusableItemAdd:y.useCallback(()=>I(z=>z+1),[]),onFocusableItemRemove:y.useCallback(()=>I(z=>z-1),[]),children:s.jsx(xe.div,{tabIndex:j||R===0?-1:0,"data-orientation":r,...p,ref:b,style:{outline:"none",...e.style},onMouseDown:he(e.onMouseDown,()=>{E.current=!0}),onFocus:he(e.onFocus,z=>{const U=!E.current;if(z.target===z.currentTarget&&U&&!j){const G=new CustomEvent(Od,FM);if(z.currentTarget.dispatchEvent(G),!G.defaultPrevented){const H=P().filter(K=>K.focusable),B=H.find(K=>K.active),X=H.find(K=>K.id===v),ce=[B,X,...H].filter(Boolean).map(K=>K.ref.current);ib(ce,g)}}E.current=!1}),onBlur:he(e.onBlur,()=>w(!1))})})}),tb="RovingFocusGroupItem",nb=y.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:o,...c}=e,u=rr(),h=o||u,f=UM(tb,n),g=f.currentTabStopId===h,p=J1(n),{onFocusableItemAdd:x,onFocusableItemRemove:b}=f;return y.useEffect(()=>{if(r)return x(),()=>b()},[r,x,b]),s.jsx(af.ItemSlot,{scope:n,id:h,focusable:r,active:a,children:s.jsx(xe.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:he(e.onMouseDown,C=>{r?f.onItemFocus(h):C.preventDefault()}),onFocus:he(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:he(e.onKeyDown,C=>{if(C.key==="Tab"&&C.shiftKey){f.onItemShiftTab();return}if(C.target!==C.currentTarget)return;const v=GM(C,f.orientation,f.dir);if(v!==void 0){if(C.metaKey||C.ctrlKey||C.altKey||C.shiftKey)return;C.preventDefault();let j=p().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")j.reverse();else if(v==="prev"||v==="next"){v==="prev"&&j.reverse();const w=j.indexOf(C.currentTarget);j=f.loop?KM(j,w+1):j.slice(w+1)}setTimeout(()=>ib(j))}})})})});nb.displayName=tb;var ZM={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function WM(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function GM(e,t,n){const r=WM(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return ZM[r]}function ib(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function KM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var rb=eb,sb=nb,Dm="Radio",[qM,ob]=en(Dm),[QM,YM]=qM(Dm),ab=y.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:o,disabled:c,value:u="on",onCheck:h,form:f,...g}=e,[p,x]=y.useState(null),b=Be(t,S=>x(S)),C=y.useRef(!1),v=p?f||!!p.closest("form"):!0;return s.jsxs(QM,{scope:n,checked:a,disabled:c,children:[s.jsx(xe.button,{type:"button",role:"radio","aria-checked":a,"data-state":ub(a),"data-disabled":c?"":void 0,disabled:c,value:u,...g,ref:b,onClick:he(e.onClick,S=>{a||h==null||h(),v&&(C.current=S.isPropagationStopped(),C.current||S.stopPropagation())})}),v&&s.jsx(XM,{control:p,bubbles:!C.current,name:r,value:u,checked:a,required:o,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});ab.displayName=Dm;var lb="RadioIndicator",cb=y.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,o=YM(lb,n);return s.jsx(Ni,{present:r||o.checked,children:s.jsx(xe.span,{"data-state":ub(o.checked),"data-disabled":o.disabled?"":void 0,...a,ref:t})})});cb.displayName=lb;var XM=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,o=y.useRef(null),c=du(n),u=su(t);return y.useEffect(()=>{const h=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const x=new Event("click",{bubbles:r});p.call(h,n),h.dispatchEvent(x)}},[c,n,r]),s.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function ub(e){return e?"checked":"unchecked"}var JM=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Fm="RadioGroup",[eR,GR]=en(Fm,[xu,ob]),db=xu(),hb=ob(),[tR,nR]=eR(Fm),fb=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:o,required:c=!1,disabled:u=!1,orientation:h,dir:f,loop:g=!0,onValueChange:p,...x}=e,b=db(n),C=uu(f),[v,S]=yi({prop:o,defaultProp:a,onChange:p});return s.jsx(tR,{scope:n,name:r,required:c,disabled:u,value:v,onValueChange:S,children:s.jsx(rb,{asChild:!0,...b,orientation:h,dir:C,loop:g,children:s.jsx(xe.div,{role:"radiogroup","aria-required":c,"aria-orientation":h,"data-disabled":u?"":void 0,dir:C,...x,ref:t})})})});fb.displayName=Fm;var mb="RadioGroupItem",pb=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,o=nR(mb,n),c=o.disabled||r,u=db(n),h=hb(n),f=y.useRef(null),g=Be(t,f),p=o.value===a.value,x=y.useRef(!1);return y.useEffect(()=>{const b=v=>{JM.includes(v.key)&&(x.current=!0)},C=()=>x.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",C),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",C)}},[]),s.jsx(sb,{asChild:!0,...u,focusable:!c,active:p,children:s.jsx(ab,{disabled:c,required:o.required,checked:p,...h,...a,name:o.name,ref:g,onCheck:()=>o.onValueChange(a.value),onKeyDown:he(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:he(a.onFocus,()=>{var b;x.current&&((b=f.current)==null||b.click())})})})});pb.displayName=mb;var iR="RadioGroupIndicator",gb=y.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=hb(n);return s.jsx(cb,{...a,...r,ref:t})});gb.displayName=iR;var vb=fb,xb=pb,rR=gb;const yb=y.forwardRef(({className:e,...t},n)=>s.jsx(vb,{className:_e("grid gap-2",e),...t,ref:n}));yb.displayName=vb.displayName;const Jl=y.forwardRef(({className:e,...t},n)=>s.jsx(xb,{ref:n,className:_e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:s.jsx(rR,{className:"flex items-center justify-center",children:s.jsx(Wk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Jl.displayName=xb.displayName;const $o=[{id:1,title:"Dietary Style",description:"What's your dietary style?"},{id:2,title:"Allergies",description:"Do you have any allergies?"},{id:3,title:"Cuisines",description:"What cuisines do you prefer?"},{id:4,title:"Budget",description:"What's your price range?"}],sR=["Mediterranean","Asian","Italian","Mexican","Indian","Thai","Japanese","American","French","Middle Eastern","Ethiopian","Vietnamese","Korean"],oR=["Nuts","Gluten","Soy","Sesame","Corn","Citrus","Nightshades"];function aR(){const[e,t]=y.useState(1),[n,r]=y.useState({dietaryStyle:"vegan",allergies:[],preferredCuisines:[],priceRange:"$$"}),[a,o]=y.useState(""),[,c]=ji(),u=Rn(),{toast:h}=Ct(),f=Mt({mutationFn:async S=>await En("/api/profile","POST",{...S,maxDistance:2e3}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/auth/user"]}),h({title:"Profile Created",description:"Your profile has been set up successfully!"}),c("/home")},onError:S=>{h({title:"Error",description:"Failed to create profile. Please try again.",variant:"destructive"})}}),g=()=>{e<$o.length?t(e+1):f.mutate(n)},p=()=>{f.mutate({dietaryStyle:"vegan",allergies:[],preferredCuisines:["Mediterranean"],priceRange:"$$"})},x=(S,j)=>{r(j?w=>({...w,allergies:[...w.allergies,S.toLowerCase()]}):w=>({...w,allergies:w.allergies.filter(N=>N!==S.toLowerCase())}))},b=()=>{a.trim()&&(r(S=>({...S,allergies:[...S.allergies,a.trim().toLowerCase()]})),o(""))},C=(S,j)=>{r(j?w=>({...w,preferredCuisines:[...w.preferredCuisines,S.toLowerCase()]}):w=>({...w,preferredCuisines:w.preferredCuisines.filter(N=>N!==S.toLowerCase())}))},v=e/$o.length*100;return s.jsxs("div",{className:"min-h-screen bg-white",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:s.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h2",{className:"text-xl font-poppins font-semibold",children:"Profile Setup"}),s.jsx(Q,{variant:"ghost",onClick:p,className:"text-vegan-green font-opensans font-medium hover:bg-vegan-light-green",children:"Skip"})]}),s.jsx(bt,{value:v,className:"h-2 mb-2"}),s.jsxs("p",{className:"text-sm text-neutral-gray",children:["Step ",e," of ",$o.length]})]})}),s.jsxs("div",{className:"max-w-md mx-auto p-4",children:[s.jsxs("div",{className:"py-8",children:[s.jsx("h3",{className:"text-2xl font-poppins font-semibold mb-2",children:$o[e-1].description}),s.jsx("p",{className:"text-neutral-gray mb-4",children:"This helps us recommend the best places for you"}),s.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:s.jsxs("p",{className:"text-sm text-blue-800",children:[s.jsx("span",{className:"font-medium",children:"Skip anytime:"})," If you skip this setup, we'll create a default profile that you can modify later in your settings."]})}),e===1&&s.jsxs(yb,{value:n.dietaryStyle,onValueChange:S=>r(j=>({...j,dietaryStyle:S})),className:"space-y-3",children:[s.jsxs("div",{className:"flex items-center space-x-2 p-4 border-2 border-gray-200 rounded-xl hover:border-vegan-green transition-colors",children:[s.jsx(Jl,{value:"vegan",id:"vegan",className:"border-vegan-green"}),s.jsx(De,{htmlFor:"vegan",className:"flex-1 cursor-pointer",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-opensans font-medium text-gray-900 block",children:"Vegan"}),s.jsx("p",{className:"text-sm text-neutral-gray",children:"No animal products"})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-4 border-2 border-gray-200 rounded-xl hover:border-vegan-green transition-colors",children:[s.jsx(Jl,{value:"vegetarian",id:"vegetarian",className:"border-vegan-green"}),s.jsx(De,{htmlFor:"vegetarian",className:"flex-1 cursor-pointer",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-opensans font-medium text-gray-900 block",children:"Vegetarian"}),s.jsx("p",{className:"text-sm text-neutral-gray",children:"No meat or fish"})]})})]}),s.jsxs("div",{className:"flex items-center space-x-2 p-4 border-2 border-gray-200 rounded-xl hover:border-vegan-green transition-colors",children:[s.jsx(Jl,{value:"flexitarian",id:"flexitarian",className:"border-vegan-green"}),s.jsx(De,{htmlFor:"flexitarian",className:"flex-1 cursor-pointer",children:s.jsxs("div",{children:[s.jsx("span",{className:"font-opensans font-medium text-gray-900 block",children:"Flexitarian"}),s.jsx("p",{className:"text-sm text-neutral-gray",children:"Mostly plant-based"})]})})]})]}),e===2&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-2 gap-3",children:oR.map(S=>s.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg",children:[s.jsx(kr,{id:S,checked:n.allergies.includes(S.toLowerCase()),onCheckedChange:j=>x(S,j),className:"border-vegan-green data-[state=checked]:bg-vegan-green"}),s.jsx(De,{htmlFor:S,className:"text-sm font-opensans cursor-pointer",children:S})]},S))}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Sn,{value:a,onChange:S=>o(S.target.value),placeholder:"Add custom allergy",className:"flex-1 border-gray-200 focus:border-vegan-green",onKeyPress:S=>S.key==="Enter"&&b()}),s.jsx(Q,{onClick:b,className:"bg-vegan-green hover:bg-vegan-dark-green text-white",children:"Add"})]}),n.allergies.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-opensans font-medium mb-2",children:"Selected allergies:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.allergies.map(S=>s.jsxs("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-opensans cursor-pointer",onClick:()=>x(S,!1),children:[S," ×"]},S))})]})]}),e===3&&s.jsxs("div",{className:"space-y-4",children:[s.jsx("div",{className:"grid grid-cols-2 gap-3",children:sR.map(S=>s.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg",children:[s.jsx(kr,{id:S,checked:n.preferredCuisines.includes(S.toLowerCase()),onCheckedChange:j=>C(S,j),className:"border-vegan-green data-[state=checked]:bg-vegan-green"}),s.jsx(De,{htmlFor:S,className:"text-sm font-opensans cursor-pointer",children:S})]},S))}),n.preferredCuisines.length>0&&s.jsxs("div",{className:"mt-4",children:[s.jsx("p",{className:"text-sm font-opensans font-medium mb-2",children:"Selected cuisines:"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:n.preferredCuisines.map(S=>s.jsxs("span",{className:"bg-vegan-light-green text-vegan-green px-3 py-1 rounded-full text-sm font-opensans cursor-pointer",onClick:()=>C(S,!1),children:[S," ×"]},S))})]})]}),e===4&&s.jsxs("div",{className:"space-y-4",children:[s.jsxs(Rm,{value:n.priceRange,onValueChange:S=>r(j=>({...j,priceRange:S})),children:[s.jsx(pu,{className:"w-full border-gray-200 focus:border-vegan-green",children:s.jsx(Am,{placeholder:"Select price range"})}),s.jsxs(gu,{children:[s.jsx(Cn,{value:"$",children:"$ - Budget friendly"}),s.jsx(Cn,{value:"$$",children:"$$ - Moderate"}),s.jsx(Cn,{value:"$$$",children:"$$$ - Upscale"}),s.jsx(Cn,{value:"$$$$",children:"$$$$ - Fine dining"})]})]}),s.jsxs("div",{className:"space-y-3 mt-6",children:[s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-opensans",children:"$"}),s.jsx("span",{className:"text-sm text-neutral-gray",children:"Under $15 per person"})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-opensans",children:"$$"}),s.jsx("span",{className:"text-sm text-neutral-gray",children:"$15-30 per person"})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-opensans",children:"$$$"}),s.jsx("span",{className:"text-sm text-neutral-gray",children:"$30-60 per person"})]}),s.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[s.jsx("span",{className:"font-opensans",children:"$$$$"}),s.jsx("span",{className:"text-sm text-neutral-gray",children:"$60+ per person"})]})]})]})]}),s.jsx(Q,{onClick:g,disabled:f.isPending,className:"w-full bg-vegan-green text-white py-4 px-6 rounded-xl font-opensans font-medium mt-8 hover:bg-vegan-dark-green transition-colors",children:f.isPending?"Creating Profile...":e===$o.length?"Complete Setup":"Continue"})]})]})}function lR(){const[,e]=ji(),[t,n]=y.useState(""),[r,a]=y.useState([]),[o,c]=y.useState("all"),[u,h]=y.useState("vegan"),[f,g]=y.useState(3);y.useEffect(()=>{window.scrollTo(0,0)},[]);const{data:p=[],isLoading:x}=at({queryKey:["/api/restaurants/all-available"]}),b=["bakery","bar","cafe","meal_delivery","meal_takeaway","night_club","restaurant","food","pizza","fast_food","italian","chinese","japanese","indian","mexican","thai","french","greek","mediterranean","vegetarian","vegan","asian","european","american","seafood","steakhouse","sushi","buffet","barbecue","breakfast","brunch","lunch","dinner","dessert","ice_cream"],C=Array.from(new Set(p.flatMap(w=>{var N;return((N=w.cuisineTypes)==null?void 0:N.filter(P=>b.includes(P.toLowerCase())))||[]}))).slice(0,12),v=p.filter(w=>{if(t&&!w.name.toLowerCase().includes(t.toLowerCase())&&!w.address.toLowerCase().includes(t.toLowerCase())||r.length>0&&!r.some(P=>{var E;return(E=w.cuisineTypes)==null?void 0:E.includes(P)}))return!1;if(o!=="all"){const N=w.priceLevel;if(o==="budget"&&(!N||parseInt(N)>2)||o==="mid"&&(!N||parseInt(N)<2||parseInt(N)>3)||o==="expensive"&&(!N||parseInt(N)<4))return!1}return!0}).sort((w,N)=>{if(u==="vegan"){const P=w.veganScore?parseFloat(w.veganScore):0;return(N.veganScore?parseFloat(N.veganScore):0)-P}if(u==="google"){const P=w.rating?parseFloat(w.rating):0;return(N.rating?parseFloat(N.rating):0)-P}return w.name.localeCompare(N.name)}),S=w=>{a(N=>N.includes(w)?N.filter(P=>P!==w):[...N,w])},j=()=>{n(""),a([]),c("all"),h("vegan"),g(3),g(3)};return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:s.jsxs("div",{className:"flex items-center px-4 py-3 h-16",children:[s.jsx(Q,{variant:"ghost",onClick:()=>e("/"),className:"p-2 mr-3 hover:bg-gray-100 rounded-full",children:s.jsx("span",{className:"text-xl",children:"←"})}),s.jsx("div",{className:"flex-1",children:s.jsx(Sn,{type:"text",placeholder:"Search restaurants by name or location...",value:t,onChange:w=>n(w.target.value),className:"w-full"})})]})}),s.jsxs("div",{className:"flex max-w-7xl mx-auto",children:[s.jsx("div",{className:"w-80 p-4 bg-white h-screen overflow-y-auto",children:s.jsxs("div",{className:"space-y-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Sort by"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",checked:u==="vegan",onChange:()=>h("vegan"),className:"mr-2"}),"Vegan Score"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",checked:u==="google",onChange:()=>h("google"),className:"mr-2"}),"Google Rating"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",checked:u==="name",onChange:()=>h("name"),className:"mr-2"}),"Name (A-Z)"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Price Range"}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",checked:o==="all",onChange:()=>c("all"),className:"mr-2"}),"All Prices"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",checked:o==="budget",onChange:()=>c("budget"),className:"mr-2"}),"Budget (€-€€)"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",checked:o==="mid",onChange:()=>c("mid"),className:"mr-2"}),"Mid-range (€€-€€€)"]}),s.jsxs("label",{className:"flex items-center",children:[s.jsx("input",{type:"radio",checked:o==="expensive",onChange:()=>c("expensive"),className:"mr-2"}),"Fine Dining (€€€€+)"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-medium mb-3",children:"Cuisine Types"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:C.map(w=>s.jsx(sr,{variant:r.includes(w)?"default":"outline",className:"cursor-pointer",onClick:()=>S(w),children:w.replace(/_/g," ").toLowerCase()},w))})]}),s.jsx(Q,{onClick:j,variant:"outline",className:"w-full",children:"Clear All Filters"})]})}),s.jsxs("div",{className:"flex-1 p-4",children:[s.jsx("div",{className:"mb-4",children:s.jsxs("h2",{className:"text-xl font-semibold",children:[v.length," restaurants found"]})}),x?s.jsx("div",{className:"text-center py-8",children:"Loading restaurants..."}):v.length===0?s.jsx("div",{className:"text-center py-8",children:"No restaurants found matching your criteria."}):s.jsxs(s.Fragment,{children:[s.jsx("div",{className:"grid gap-4",children:v.slice(0,f).map(w=>s.jsx(le,{className:"hover:shadow-md transition-shadow",children:s.jsx(ue,{className:"p-4",children:s.jsxs("div",{className:"flex justify-between items-start",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h3",{className:"font-semibold text-lg",children:w.name}),s.jsx("p",{className:"text-gray-600 text-sm mb-2",children:w.address}),s.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[s.jsx("div",{className:"flex items-center",children:w.veganScore?s.jsx(n1,{score:parseFloat(w.veganScore)/2,restaurantName:w.name}):s.jsx("span",{className:"text-sm font-medium text-gray-500",children:"Vegan Score: N/A"})}),w.rating&&s.jsx("div",{className:"flex items-center",children:s.jsxs("span",{className:"text-sm text-yellow-600",children:["⭐ ",w.rating,"/5"]})}),w.priceLevel&&s.jsx("div",{className:"flex items-center",children:s.jsx("span",{className:"text-sm text-gray-500",children:"€".repeat(parseInt(w.priceLevel))})})]}),w.cuisineTypes&&s.jsx("div",{className:"flex flex-wrap gap-1",children:w.cuisineTypes.filter(N=>b.includes(N.toLowerCase())).slice(0,3).map(N=>s.jsx(sr,{variant:"secondary",className:"text-xs",children:N.replace(/_/g," ").toLowerCase()},N))})]}),s.jsx("div",{className:"ml-4",children:s.jsx(Q,{onClick:()=>e(`/?restaurant=${w.id}`),size:"sm",children:"View on Map"})})]})})},w.id))}),f<v.length&&s.jsx("div",{className:"text-center mt-6",children:s.jsxs(Q,{onClick:()=>g(w=>w+3),variant:"outline",className:"px-8 py-2",children:["Show More Results (",v.length-f," remaining)"]})})]})]})]})]})}class cR extends ai.Component{constructor(t){super(t),this.state={hasError:!1,error:null}}static getDerivedStateFromError(t){return{hasError:!0,error:t}}componentDidCatch(t,n){}render(){return this.state.hasError?s.jsx("div",{className:"min-h-screen flex items-center justify-center p-4",children:s.jsxs("div",{className:"max-w-md w-full bg-white dark:bg-gray-800 rounded-lg shadow-lg p-6",children:[s.jsxs("div",{className:"flex items-center mb-4",children:[s.jsx(S_,{className:"h-8 w-8 text-red-500 mr-3"}),s.jsx("h1",{className:"text-2xl font-bold text-gray-900 dark:text-white",children:"Нещо се обърка"})]}),s.jsx("p",{className:"text-gray-600 dark:text-gray-300 mb-6",children:"Съжаляваме, но възникна неочаквана грешка. Моля, опреснете страницата или се свържете с поддръжката."}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Q,{onClick:()=>window.location.reload(),className:"w-full",children:"Опресни страницата"}),s.jsx(Q,{variant:"outline",onClick:()=>this.setState({hasError:!1,error:null}),className:"w-full",children:"Опитай отново"})]}),!1]})}):this.props.children}}function _b({currentTab:e}){const[,t]=ji(),n=[{id:"map",icon:"fa-map-marked-alt",label:"Map",path:"/home"},{id:"search",icon:"fa-search",label:"Search",path:"/search"},{id:"agent",icon:"fa-robot",label:"AI Agent",path:"/ai-chat"},{id:"profile",icon:"fa-user",label:"Profile",path:"/profile"}];return s.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-30 pb-safe",children:s.jsx("div",{className:"flex items-center justify-around py-1",children:n.map(r=>s.jsxs(Q,{variant:"ghost",onClick:()=>t(r.path),className:`flex flex-col items-center py-3 px-2 transition-colors min-h-[64px] min-w-[64px] flex-1 ${e===r.id?"text-vegan-green":"text-neutral-gray hover:text-vegan-green"}`,children:[s.jsx("i",{className:`fas ${r.icon} text-xl mb-1`}),s.jsx("span",{className:"text-xs font-opensans font-medium",children:r.label})]},r.id))})})}function uR(){const e=Rn(),{toast:t}=Ct();return Mt({mutationFn:async n=>(await En("POST","/api/favorites",{restaurantId:n})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/favorites"]}),t({title:"Added to Favorites",description:"Restaurant has been added to your favorites."})},onError:n=>{t({title:"Error",description:"Failed to add restaurant to favorites.",variant:"destructive"})}})}function dR(){const e=Rn(),{toast:t}=Ct();return Mt({mutationFn:async n=>(await En("DELETE",`/api/favorites/${n}`)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/favorites"]}),t({title:"Removed from Favorites",description:"Restaurant has been removed from your favorites."})},onError:n=>{t({title:"Error",description:"Failed to remove restaurant from favorites.",variant:"destructive"})}})}function hR(){return at({queryKey:["/api/favorites"],staleTime:2*60*1e3})}function fR(){const e=Rn(),{toast:t}=Ct();return Mt({mutationFn:async({restaurantId:n,rating:r,notes:a})=>(await En("POST","/api/visits",{restaurantId:n,rating:r,notes:a,visitDate:new Date().toISOString()})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/visits"]}),e.invalidateQueries({queryKey:["/api/profile/stats"]}),t({title:"Visit Recorded",description:"Your restaurant visit has been recorded."})},onError:n=>{t({title:"Error",description:"Failed to record restaurant visit.",variant:"destructive"})}})}function mR(){var P;const{id:e}=M0(),[,t]=ji(),{toast:n}=Ct(),{data:r,isLoading:a,error:o}=at({queryKey:["/api/restaurants",e],enabled:!!e}),c=uR(),u=dR(),h=fR();if(a)return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-vegan-green rounded-2xl mb-4 animate-pulse",children:s.jsx("i",{className:"fas fa-utensils text-white text-2xl"})}),s.jsx("p",{className:"text-neutral-gray font-opensans",children:"Loading restaurant details..."})]})});if(o||!r)return s.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:s.jsxs("div",{className:"text-center max-w-md",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-2xl mb-4",children:s.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-2xl"})}),s.jsx("h2",{className:"text-xl font-poppins font-semibold mb-2",children:"Restaurant Not Found"}),s.jsx("p",{className:"text-neutral-gray font-opensans mb-6",children:"The restaurant you're looking for could not be found."}),s.jsx(Q,{onClick:()=>t("/home"),className:"bg-vegan-green hover:bg-vegan-dark-green text-white",children:"Back to Map"})]})});const{restaurant:f,scoreBreakdown:g,isFavorite:p,personalMatch:x}=r,b=()=>{p?u.mutate(f.id):c.mutate(f.id)},C=()=>{h.mutate({restaurantId:f.id})},v=()=>{f.website?window.open(f.website,"_blank"):n({title:"Website Not Available",description:"This restaurant does not have a website link available.",variant:"destructive"})},S=()=>{const E=encodeURIComponent(`${f.name}, ${f.address}`);window.open(`https://www.google.com/maps/search/${E}`,"_blank")},j=E=>{const R=parseFloat(E);return R>=8?"bg-vegan-green":R>=6?"bg-warning-orange":"bg-gray-400"},w=E=>{const R=parseFloat(E);return R>=8?"Excellent":R>=6?"Good":R>=4?"Fair":"Limited"},N=E=>({menuVariety:"Menu Variety",ingredientClarity:"Ingredient Clarity",staffKnowledge:"Staff Knowledge",crossContaminationPrevention:"Cross-contamination Prevention",nutritionalInformation:"Nutritional Information",allergenManagement:"Allergen Management"})[E]||E;return s.jsxs("div",{className:"min-h-screen bg-white pb-20",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(Q,{variant:"ghost",onClick:()=>t("/home"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx("i",{className:"fas fa-arrow-left text-neutral-gray"})}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Q,{variant:"ghost",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx("i",{className:"fas fa-share text-neutral-gray"})}),s.jsx(Q,{variant:"ghost",onClick:b,disabled:c.isPending||u.isPending,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx("i",{className:`${p?"fas":"far"} fa-heart ${p?"text-red-500":"text-neutral-gray"}`})})]})]})})}),s.jsxs("div",{className:"max-w-4xl mx-auto",children:[s.jsxs("div",{className:"px-4 py-6",children:[s.jsx("div",{className:"w-full h-64 bg-gradient-to-r from-vegan-light-green to-green-100 rounded-2xl mb-6 flex items-center justify-center",children:s.jsx("i",{className:"fas fa-utensils text-vegan-green text-6xl"})}),s.jsxs("div",{className:"flex items-start justify-between mb-4",children:[s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-2xl font-poppins font-bold mb-2",children:f.name}),s.jsxs("p",{className:"text-neutral-gray mb-2",children:[((P=f.cuisineTypes)==null?void 0:P.join(", "))||"Cuisine not specified"," • ",f.priceLevel||"$$"]}),s.jsx("p",{className:"text-neutral-gray",children:f.address})]}),s.jsxs("div",{className:"text-right",children:[s.jsx("div",{className:`${j(f.veganScore||"0")} text-white text-2xl font-poppins font-bold rounded-2xl px-4 py-2 mb-2`,children:f.veganScore?parseFloat(f.veganScore).toFixed(1):"N/A"}),s.jsx("p",{className:"text-sm text-vegan-green font-opensans font-medium",children:f.veganScore?w(f.veganScore):"Not Rated"})]})]}),s.jsxs("div",{className:"flex items-center space-x-6 text-sm text-neutral-gray mb-6",children:[f.rating&&s.jsxs("span",{children:[s.jsx("i",{className:"fas fa-star text-yellow-400 mr-1"}),parseFloat(f.rating).toFixed(1)," (",f.reviewCount||0," reviews)"]}),s.jsxs("span",{children:[s.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),"Restaurant location"]}),s.jsxs("span",{children:[s.jsx("i",{className:"fas fa-clock mr-1"}),"Hours not available"]})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[s.jsxs(Q,{onClick:v,className:"bg-vegan-green text-white py-4 px-6 rounded-xl font-opensans font-medium hover:bg-vegan-dark-green transition-colors h-auto",children:[s.jsx("i",{className:"fas fa-calendar mr-2"}),"Visit Website"]}),s.jsxs(Q,{onClick:S,className:"bg-blue-500 text-white py-4 px-6 rounded-xl font-opensans font-medium hover:bg-blue-600 transition-colors h-auto",children:[s.jsx("i",{className:"fas fa-directions mr-2"}),"Get Directions"]})]}),s.jsxs(Q,{onClick:C,disabled:h.isPending,variant:"outline",className:"w-full py-3 mb-8 border-vegan-green text-vegan-green hover:bg-vegan-light-green",children:[s.jsx("i",{className:"fas fa-check mr-2"}),h.isPending?"Recording Visit...":"Mark as Visited"]})]}),g&&s.jsxs("div",{className:"px-4 mb-8",children:[s.jsx("h2",{className:"text-xl font-poppins font-semibold mb-4",children:"Vegan Score Breakdown"}),s.jsx(le,{children:s.jsx(ue,{className:"p-6",children:s.jsx("div",{className:"space-y-4",children:Object.entries(g).filter(([E])=>!["id","restaurantId","overallScore","lastUpdated"].includes(E)).map(([E,R])=>s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-opensans font-medium",children:N(E)}),s.jsxs("div",{className:"flex items-center",children:[s.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:s.jsx("div",{className:`${j(R)} h-2 rounded-full`,style:{width:`${parseFloat(R)/10*100}%`}})}),s.jsx("span",{className:"text-sm font-opensans font-medium min-w-[30px]",children:parseFloat(R).toFixed(1)})]})]},E))})})})]}),x&&s.jsxs("div",{className:"px-4 mb-8",children:[s.jsx("h2",{className:"text-xl font-poppins font-semibold mb-4",children:"Personal Match"}),s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsx(le,{children:s.jsxs(ue,{className:"bg-vegan-light-green p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-poppins font-bold text-vegan-green mb-1",children:[x.tasteMatch,"%"]}),s.jsx("p",{className:"text-sm font-opensans text-gray-700",children:"Taste Match"})]})}),s.jsx(le,{children:s.jsxs(ue,{className:"bg-blue-50 p-4 text-center",children:[s.jsxs("div",{className:"text-2xl font-poppins font-bold text-blue-600 mb-1",children:[x.healthFit,"%"]}),s.jsx("p",{className:"text-sm font-opensans text-gray-700",children:"Health Fit"})]})})]})]}),s.jsxs("div",{className:"px-4 mb-8",children:[s.jsx("h2",{className:"text-xl font-poppins font-semibold mb-4",children:"Allergen Check"}),s.jsx(le,{children:s.jsxs(ue,{className:"bg-green-50 border border-green-200 p-4",children:[s.jsxs("div",{className:"flex items-center mb-2",children:[s.jsx("i",{className:"fas fa-check-circle text-green-500 text-xl mr-3"}),s.jsx("span",{className:"font-opensans font-medium text-green-700",children:"Based on your profile preferences"})]}),s.jsx("p",{className:"text-sm text-green-600 ml-8",children:"This restaurant's allergen management score suggests it can accommodate dietary restrictions well."})]})})]}),s.jsxs("div",{className:"px-4 mb-20",children:[s.jsx("h2",{className:"text-xl font-poppins font-semibold mb-4",children:"Restaurant Information"}),s.jsx(le,{children:s.jsxs(ue,{className:"p-6 space-y-4",children:[f.phoneNumber&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-opensans font-medium",children:"Phone"}),s.jsx("a",{href:`tel:${f.phoneNumber}`,className:"text-vegan-green font-opensans",children:f.phoneNumber})]}),f.website&&s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-opensans font-medium",children:"Website"}),s.jsx("a",{href:f.website,target:"_blank",rel:"noopener noreferrer",className:"text-vegan-green font-opensans",children:"Visit Website"})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx("span",{className:"font-opensans font-medium",children:"Verified"}),s.jsx("span",{className:`px-2 py-1 rounded text-xs font-opensans ${f.isVerified?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:f.isVerified?"Verified":"Not Verified"})]})]})})]})]}),s.jsx(_b,{currentTab:"map"})]})}var Bm="Switch",[pR,KR]=en(Bm),[gR,vR]=pR(Bm),wb=y.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:o,required:c,disabled:u,value:h="on",onCheckedChange:f,form:g,...p}=e,[x,b]=y.useState(null),C=Be(t,N=>b(N)),v=y.useRef(!1),S=x?g||!!x.closest("form"):!0,[j=!1,w]=yi({prop:a,defaultProp:o,onChange:f});return s.jsxs(gR,{scope:n,checked:j,disabled:u,children:[s.jsx(xe.button,{type:"button",role:"switch","aria-checked":j,"aria-required":c,"data-state":Nb(j),"data-disabled":u?"":void 0,disabled:u,value:h,...p,ref:C,onClick:he(e.onClick,N=>{w(P=>!P),S&&(v.current=N.isPropagationStopped(),v.current||N.stopPropagation())})}),S&&s.jsx(xR,{control:x,bubbles:!v.current,name:r,value:h,checked:j,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});wb.displayName=Bm;var bb="SwitchThumb",jb=y.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=vR(bb,n);return s.jsx(xe.span,{"data-state":Nb(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});jb.displayName=bb;var xR=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,o=y.useRef(null),c=du(n),u=su(t);return y.useEffect(()=>{const h=o.current,f=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&p){const x=new Event("click",{bubbles:r});p.call(h,n),h.dispatchEvent(x)}},[c,n,r]),s.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:o,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Nb(e){return e?"checked":"unchecked"}var Sb=wb,yR=jb;const lf=y.forwardRef(({className:e,...t},n)=>s.jsx(Sb,{className:_e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:s.jsx(yR,{className:_e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));lf.displayName=Sb.displayName;function _R(){var N,P,E;const{user:e,isLoading:t}=Xr(),{toast:n}=Ct(),[,r]=ji(),[a,o]=y.useState(!0),[c,u]=y.useState(!0),{data:h,isLoading:f}=at({queryKey:["/api/profile/stats"],staleTime:5*60*1e3}),{data:g=[],isLoading:p}=hR(),x=()=>{window.location.href="/api/logout"},b=()=>{n({title:"Coming Soon",description:"Profile editing will be available in a future update."})},C=()=>{n({title:"Data Export Requested",description:"Your data export will be sent to your email address within 24 hours."})},v=()=>{n({title:"Coming Soon",description:"Privacy settings will be available in a future update."})};if(t)return s.jsx("div",{className:"min-h-screen bg-light-gray flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-vegan-green rounded-2xl mb-4 animate-pulse",children:s.jsx("i",{className:"fas fa-user text-white text-2xl"})}),s.jsx("p",{className:"text-neutral-gray font-opensans",children:"Loading profile..."})]})});const S=()=>e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName[0]}${e.lastName[0]}`.toUpperCase():e!=null&&e.email?e.email[0].toUpperCase():"U",j=()=>e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:e!=null&&e.firstName?e.firstName:"User",w=()=>{var R;return(R=e==null?void 0:e.profile)!=null&&R.dietaryStyle?e.profile.dietaryStyle.charAt(0).toUpperCase()+e.profile.dietaryStyle.slice(1):"Not set"};return s.jsxs("div",{className:"min-h-screen bg-light-gray pb-20",children:[s.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:s.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:s.jsx("h1",{className:"text-xl font-poppins font-semibold",children:"Profile"})})}),s.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[s.jsx(le,{className:"mb-6",children:s.jsx(ue,{className:"p-6",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx("div",{className:"w-20 h-20 bg-vegan-green rounded-full flex items-center justify-center",children:e!=null&&e.profileImageUrl?s.jsx("img",{src:e.profileImageUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):s.jsx("span",{className:"text-2xl font-poppins font-bold text-white",children:S()})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h2",{className:"text-xl font-poppins font-semibold mb-1",children:j()}),s.jsx("p",{className:"text-neutral-gray mb-2",children:(e==null?void 0:e.email)||"No email available"}),s.jsx("span",{className:"bg-vegan-light-green text-vegan-green px-3 py-1 rounded-full text-sm font-opensans font-medium",children:w()})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Q,{variant:"ghost",onClick:b,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:s.jsx("i",{className:"fas fa-edit text-neutral-gray"})}),s.jsx(Q,{variant:"outline",onClick:x,className:"px-3 py-1 text-sm bg-red-50 text-red-600 border-red-200 hover:bg-red-100",children:"Log Out"})]})]})})}),s.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[s.jsx(le,{children:s.jsxs(ue,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-poppins font-bold text-vegan-green mb-1",children:f?"...":(h==null?void 0:h.placesVisited)||0}),s.jsx("p",{className:"text-sm font-opensans text-neutral-gray",children:"Places Visited"})]})}),s.jsx(le,{children:s.jsxs(ue,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-poppins font-bold text-blue-600 mb-1",children:p?"...":g.length}),s.jsx("p",{className:"text-sm font-opensans text-neutral-gray",children:"Favorites"})]})}),s.jsx(le,{children:s.jsxs(ue,{className:"p-4 text-center",children:[s.jsx("div",{className:"text-2xl font-poppins font-bold text-purple-600 mb-1",children:f?"...":(h==null?void 0:h.reviews)||0}),s.jsx("p",{className:"text-sm font-opensans text-neutral-gray",children:"Reviews"})]})})]}),s.jsx(le,{className:"mb-4",children:s.jsxs(ue,{className:"p-6",children:[s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsx("h3",{className:"font-poppins font-semibold",children:"Dietary Preferences"}),s.jsx(Q,{variant:"ghost",onClick:b,className:"text-vegan-green font-opensans font-medium hover:bg-vegan-light-green",children:"Edit"})]}),s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-opensans text-neutral-gray",children:"Diet Type"}),s.jsx("span",{className:"font-opensans font-medium",children:w()})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"font-opensans text-neutral-gray",children:"Price Range"}),s.jsx("span",{className:"font-opensans font-medium",children:((N=e==null?void 0:e.profile)==null?void 0:N.priceRange)||"Not set"})]}),((P=e==null?void 0:e.profile)==null?void 0:P.allergies)&&e.profile.allergies.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-opensans text-neutral-gray block mb-2",children:"Allergies"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.profile.allergies.map(R=>s.jsx("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-opensans",children:R},R))})]}),((E=e==null?void 0:e.profile)==null?void 0:E.preferredCuisines)&&e.profile.preferredCuisines.length>0&&s.jsxs("div",{children:[s.jsx("span",{className:"font-opensans text-neutral-gray block mb-2",children:"Preferred Cuisines"}),s.jsx("div",{className:"flex flex-wrap gap-2",children:e.profile.preferredCuisines.map(R=>s.jsx("span",{className:"bg-vegan-light-green text-vegan-green px-3 py-1 rounded-full text-sm font-opensans",children:R},R))})]})]})]})}),s.jsx(le,{className:"mb-4",children:s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"font-poppins font-semibold mb-4",children:"Settings & Actions"}),s.jsxs("div",{className:"space-y-3",children:[s.jsx(Q,{onClick:()=>r("/search"),variant:"outline",className:"w-full justify-start text-left p-4 h-auto",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Advanced Search & Filters"}),s.jsx("div",{className:"text-sm text-neutral-gray",children:"Search with price, cuisine and score filters"})]})}),s.jsx(Q,{onClick:()=>r("/favorites"),variant:"outline",className:"w-full justify-start text-left p-4 h-auto",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"My Favorites"}),s.jsx("div",{className:"text-sm text-neutral-gray",children:"View and manage your saved restaurants"})]})}),s.jsx(Q,{onClick:()=>r("/profile-setup"),variant:"outline",className:"w-full justify-start text-left p-4 h-auto",children:s.jsxs("div",{children:[s.jsx("div",{className:"font-medium",children:"Complete Profile Setup"}),s.jsx("div",{className:"text-sm text-neutral-gray",children:"Set your dietary preferences and restrictions"})]})})]})]})}),s.jsx(le,{className:"mb-4",children:s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"font-poppins font-semibold mb-4",children:"Recent Activity"}),s.jsx("div",{className:"space-y-3",children:h!=null&&h.avgVeganScore&&h.avgVeganScore>0?s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx("div",{className:"w-2 h-2 bg-vegan-green rounded-full"}),s.jsxs("span",{className:"font-opensans text-sm text-neutral-gray",children:["Average vegan score: ",h.avgVeganScore.toFixed(1),"/10"]})]}):s.jsxs("div",{className:"text-center py-4",children:[s.jsx("i",{className:"fas fa-utensils text-neutral-gray text-2xl mb-2"}),s.jsx("p",{className:"font-opensans text-neutral-gray",children:"No activity yet. Start exploring vegan restaurants!"})]})})]})}),s.jsx(le,{className:"mb-4",children:s.jsxs(ue,{className:"p-6",children:[s.jsx("h3",{className:"font-poppins font-semibold mb-4",children:"App Settings"}),s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(De,{htmlFor:"notifications",className:"font-opensans",children:"Notifications"}),s.jsx(lf,{id:"notifications",checked:a,onCheckedChange:o})]}),s.jsxs("div",{className:"flex items-center justify-between",children:[s.jsx(De,{htmlFor:"location",className:"font-opensans",children:"Location Services"}),s.jsx(lf,{id:"location",checked:c,onCheckedChange:u})]}),s.jsx(Q,{variant:"ghost",onClick:C,className:"w-full text-left py-3 font-opensans text-neutral-gray hover:text-gray-900 hover:bg-gray-50 transition-colors justify-start",children:"Export My Data"}),s.jsx(Q,{variant:"ghost",onClick:v,className:"w-full text-left py-3 font-opensans text-neutral-gray hover:text-gray-900 hover:bg-gray-50 transition-colors justify-start",children:"Privacy Settings"})]})]})}),s.jsx(le,{className:"mb-20",children:s.jsx(ue,{className:"p-6",children:s.jsxs(Q,{variant:"ghost",onClick:x,className:"w-full text-left py-3 font-opensans text-red-500 hover:text-red-600 hover:bg-red-50 transition-colors justify-start",children:[s.jsx("i",{className:"fas fa-sign-out-alt mr-3"}),"Sign Out"]})})})]}),s.jsx(_b,{currentTab:"profile"})]})}function Yv(){const{toast:e}=Ct(),[t,n]=y.useState(null),r={lat:42.6977,lng:23.3219},a=4,o=Mt({mutationFn:async()=>{const h=await fetch("/api/restaurants/calculate-all-scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!h.ok)throw new Error("Failed to calculate scores");return await h.json()},onSuccess:h=>{n(h),e({title:"Scoring Complete",description:`Calculated scores for ${h.processed} restaurants`,variant:"default"})},onError:h=>{e({title:"Scoring Failed",description:"Failed to calculate vegan scores. Check console for details.",variant:"destructive"})}}),c=Mt({mutationFn:async()=>{const h=await fetch("/api/restaurants/populate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,radius:a*1e3})});if(!h.ok)throw new Error("Failed to populate restaurants");return await h.json()},onSuccess:h=>{e({title:"Restaurants Loaded",description:`Found ${h.count||"unknown number of"} restaurants in Sofia`,variant:"default"})},onError:h=>{e({title:"Population Failed",description:"Failed to load restaurants from Google Places",variant:"destructive"})}}),u=t?Math.round(t.processed/t.total*100):0;return s.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[s.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:s.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:s.jsx("div",{className:"flex items-center justify-between h-16",children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsx(l2,{href:"/",children:s.jsxs(Q,{variant:"ghost",size:"sm",children:[s.jsx(mm,{className:"h-4 w-4 mr-2"}),"Back to Map"]})}),s.jsxs("div",{children:[s.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Vegan Scoring System"}),s.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calculate authentic vegan scores for Sofia restaurants"})]})]})})})}),s.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[s.jsxs(le,{children:[s.jsxs(be,{children:[s.jsxs(je,{className:"flex items-center space-x-2",children:[s.jsx(dn,{className:"h-5 w-5"}),s.jsx("span",{children:"Target Location"})]}),s.jsx(Nn,{children:"Calculating scores for quality restaurants (rating > 3.0) in Sofia, Bulgaria"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"flex items-center space-x-4",children:[s.jsxs(sr,{variant:"outline",children:["Lat: ",r.lat,"°"]}),s.jsxs(sr,{variant:"outline",children:["Lng: ",r.lng,"°"]}),s.jsxs(sr,{variant:"outline",children:["Radius: ",a,"km"]})]})})]}),s.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[s.jsxs(le,{children:[s.jsxs(be,{children:[s.jsx(je,{children:"Step 1: Load Restaurants"}),s.jsx(Nn,{children:"Fetch restaurant data from Google Places API"})]}),s.jsx(ue,{children:s.jsx(Q,{onClick:()=>c.mutate(),disabled:c.isPending,className:"w-full",variant:"outline",children:c.isPending?s.jsx(s.Fragment,{children:"Loading Restaurants..."}):s.jsx(s.Fragment,{children:"Load Sofia Restaurants"})})})]}),s.jsxs(le,{children:[s.jsxs(be,{children:[s.jsxs(je,{className:"flex items-center space-x-2",children:[s.jsx(Vk,{className:"h-5 w-5"}),s.jsx("span",{children:"Step 2: Calculate Scores"})]}),s.jsx(Nn,{children:"Run AI analysis to generate vegan scores"})]}),s.jsx(ue,{children:s.jsx(Q,{onClick:()=>o.mutate(),disabled:o.isPending,className:"w-full",children:o.isPending?s.jsx(s.Fragment,{children:"Calculating Scores..."}):s.jsx(s.Fragment,{children:"Calculate Vegan Scores"})})})]})]}),t&&s.jsxs(le,{children:[s.jsxs(be,{children:[s.jsx(je,{children:"Scoring Results"}),s.jsx(Nn,{children:"Latest scoring calculation results"})]}),s.jsxs(ue,{className:"space-y-4",children:[s.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.processed}),s.jsx("div",{className:"text-sm text-gray-500",children:"Processed"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.total}),s.jsx("div",{className:"text-sm text-gray-500",children:"Total"})]}),s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.remaining}),s.jsx("div",{className:"text-sm text-gray-500",children:"Remaining"})]})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[u,"%"]})]}),s.jsx(bt,{value:u,className:"w-full"})]}),s.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:s.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.message})}),t.remaining>0&&s.jsxs(Q,{onClick:()=>o.mutate(),disabled:o.isPending,variant:"outline",className:"w-full",children:["Continue Scoring (",t.remaining," remaining)"]})]})]}),s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"How Vegan Scoring Works"})}),s.jsxs(ue,{className:"space-y-3",children:[s.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Data Sources"}),s.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[s.jsx("li",{children:"• Google Places API reviews"}),s.jsx("li",{children:"• Restaurant website data"}),s.jsx("li",{children:"• Cuisine type analysis"}),s.jsx("li",{children:"• Photo analysis (when available)"})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium text-sm",children:"Scoring Dimensions"}),s.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[s.jsx("li",{children:"• Menu Variety (25%)"}),s.jsx("li",{children:"• Ingredient Clarity (20%)"}),s.jsx("li",{children:"• Cross-contamination Prevention (20%)"}),s.jsx("li",{children:"• Staff Knowledge (15%)"}),s.jsx("li",{children:"• Nutritional Information (10%)"}),s.jsx("li",{children:"• Allergen Management (10%)"})]})]})]}),s.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:s.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[s.jsx("strong",{children:"Note:"})," Scoring uses GPT-4o for intelligent analysis. Rate limits apply - we process 3 restaurants at a time with delays."]})})]})]})]})]})}function wR(){const{toast:e}=Ct(),[t,n]=y.useState(10),[r,a]=y.useState(!0),o=Mt({mutationFn:async({batchSize:u,onlyLowScores:h})=>{const f=await fetch("/api/admin/improve-scoring",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batchSize:u,onlyLowScores:h}),credentials:"include"});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);return await f.json()},onSuccess:u=>{e({title:"Scoring Improved Successfully",description:u.message})},onError:u=>{e({title:"Error",description:u.message,variant:"destructive"})}}),c=()=>{o.mutate({batchSize:t,onlyLowScores:r})};return s.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:s.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Improve AI Scoring System"}),s.jsx("p",{className:"text-gray-600",children:"Update vegan scores with improved algorithm"})]}),s.jsxs(le,{className:"mb-8",children:[s.jsx(be,{children:s.jsx(je,{children:"Scoring Settings"})}),s.jsxs(ue,{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{className:"block text-sm font-medium mb-2",children:"Number of restaurants to process:"}),s.jsx("input",{type:"number",value:t,onChange:u=>n(parseInt(u.target.value)),className:"w-full p-2 border rounded-md",min:"1",max:"50"})]}),s.jsx("div",{children:s.jsxs("label",{className:"flex items-center space-x-2",children:[s.jsx("input",{type:"checkbox",checked:r,onChange:u=>a(u.target.checked),className:"rounded"}),s.jsx("span",{className:"text-sm",children:"Only restaurants with low scores (< 2.0)"})]})}),s.jsx(Q,{onClick:c,disabled:o.isPending,className:"w-full",children:o.isPending?"Processing...":"Start Improvement"})]})]}),o.data&&s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"Резултати от подобряването"})}),s.jsxs(ue,{children:[s.jsxs("div",{className:"mb-4 p-4 bg-green-50 rounded-lg",children:[s.jsx("p",{className:"text-green-800 font-medium",children:o.data.message}),s.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["Обработени: ",o.data.processed," | Подобрени: ",o.data.improved]})]}),s.jsx("div",{className:"space-y-3",children:o.data.results.map((u,h)=>s.jsxs("div",{className:"p-3 border rounded-lg",children:[s.jsxs("div",{className:"flex justify-between items-start mb-2",children:[s.jsx("h4",{className:"font-medium",children:u.name}),u.error?s.jsx("span",{className:"text-red-600 text-sm",children:"Грешка"}):s.jsxs("span",{className:"text-green-600 text-sm",children:[u.oldScore.toFixed(1)," → ",u.newScore.toFixed(1)]})]}),u.reasoning&&s.jsx("p",{className:"text-gray-600 text-sm",children:u.reasoning}),u.error&&s.jsx("p",{className:"text-red-600 text-sm",children:u.error})]},h))})]})]})]})})}var Vm="Tabs",[bR,qR]=en(Vm,[xu]),Cb=xu(),[jR,Hm]=bR(Vm),kb=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:o,orientation:c="horizontal",dir:u,activationMode:h="automatic",...f}=e,g=uu(u),[p,x]=yi({prop:r,onChange:a,defaultProp:o});return s.jsx(jR,{scope:n,baseId:rr(),value:p,onValueChange:x,orientation:c,dir:g,activationMode:h,children:s.jsx(xe.div,{dir:g,"data-orientation":c,...f,ref:t})})});kb.displayName=Vm;var Pb="TabsList",Lb=y.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,o=Hm(Pb,n),c=Cb(n);return s.jsx(rb,{asChild:!0,...c,orientation:o.orientation,dir:o.dir,loop:r,children:s.jsx(xe.div,{role:"tablist","aria-orientation":o.orientation,...a,ref:t})})});Lb.displayName=Pb;var Eb="TabsTrigger",Tb=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...o}=e,c=Hm(Eb,n),u=Cb(n),h=Ab(c.baseId,r),f=Ib(c.baseId,r),g=r===c.value;return s.jsx(sb,{asChild:!0,...u,focusable:!a,active:g,children:s.jsx(xe.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...o,ref:t,onMouseDown:he(e.onMouseDown,p=>{!a&&p.button===0&&p.ctrlKey===!1?c.onValueChange(r):p.preventDefault()}),onKeyDown:he(e.onKeyDown,p=>{[" ","Enter"].includes(p.key)&&c.onValueChange(r)}),onFocus:he(e.onFocus,()=>{const p=c.activationMode!=="manual";!g&&!a&&p&&c.onValueChange(r)})})})});Tb.displayName=Eb;var Mb="TabsContent",Rb=y.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:o,...c}=e,u=Hm(Mb,n),h=Ab(u.baseId,r),f=Ib(u.baseId,r),g=r===u.value,p=y.useRef(g);return y.useEffect(()=>{const x=requestAnimationFrame(()=>p.current=!1);return()=>cancelAnimationFrame(x)},[]),s.jsx(Ni,{present:a||g,children:({present:x})=>s.jsx(xe.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!x,id:f,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:p.current?"0s":void 0},children:x&&o})})});Rb.displayName=Mb;function Ab(e,t){return`${e}-trigger-${t}`}function Ib(e,t){return`${e}-content-${t}`}var NR=kb,Ob=Lb,zb=Tb,Db=Rb;const SR=NR,Fb=y.forwardRef(({className:e,...t},n)=>s.jsx(Ob,{ref:n,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));Fb.displayName=Ob.displayName;const hs=y.forwardRef(({className:e,...t},n)=>s.jsx(zb,{ref:n,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));hs.displayName=zb.displayName;const fs=y.forwardRef(({className:e,...t},n)=>s.jsx(Db,{ref:n,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));fs.displayName=Db.displayName;function CR(){var j,w,N;const{toast:e}=Ct(),t=Rn(),[n]=y.useState(3e4),[r,a]=y.useState({menuVarietyWeight:.25,ingredientClarityWeight:.2,staffKnowledgeWeight:.15,crossContaminationWeight:.2,nutritionalInformationWeight:.1,allergenManagementWeight:.1}),{data:o,isLoading:c}=at({queryKey:["/api/admin/database-stats"],refetchInterval:n}),{data:u,isLoading:h}=at({queryKey:["/api/admin/cache-stats"],refetchInterval:n}),{data:f,isLoading:g}=at({queryKey:["/api/admin/scoring-status"],refetchInterval:1e4});at({queryKey:["/api/admin/scoring-weights"],refetchInterval:n});const p=Mt({mutationFn:async P=>En("/api/admin/scoring-weights","POST",P),onSuccess:()=>{e({title:"Success",description:"Scoring weights updated successfully"}),t.invalidateQueries({queryKey:["/api/admin/scoring-weights"]})},onError:()=>{e({title:"Error",description:"Failed to update scoring weights",variant:"destructive"})}}),x=o?Math.round(o.withScores/o.totalRestaurants*100):0,b=u?Math.round(u.cacheHitRate*100):0,C=(P,E)=>{a(R=>({...R,[P]:E}))},v=()=>{const P=Object.values(r).reduce((E,R)=>E+R,0);if(Math.abs(P-1)>.001){e({title:"Error",description:`Total weights must equal 1.0 (currently ${P.toFixed(3)})`,variant:"destructive"});return}p.mutate(r)},S=()=>{a({menuVarietyWeight:.25,ingredientClarityWeight:.2,staffKnowledgeWeight:.15,crossContaminationWeight:.2,nutritionalInformationWeight:.1,allergenManagementWeight:.1})};return s.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:s.jsxs("div",{className:"container mx-auto p-6",children:[s.jsxs("div",{className:"mb-8",children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"VeganMapAI Admin Panel"}),s.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive platform management and monitoring"})]}),s.jsxs(SR,{defaultValue:"overview",className:"space-y-6",children:[s.jsxs(Fb,{className:"grid w-full grid-cols-5",children:[s.jsx(hs,{value:"overview",children:"Overview"}),s.jsx(hs,{value:"database",children:"Database"}),s.jsx(hs,{value:"scoring",children:"AI Scoring"}),s.jsx(hs,{value:"weights",children:"Scoring Weights"}),s.jsx(hs,{value:"cache",children:"Cache Management"})]}),s.jsxs(fs,{value:"overview",className:"space-y-6",children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[s.jsxs(le,{children:[s.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(je,{className:"text-sm font-medium",children:"Total Restaurants"}),s.jsx(wv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.totalRestaurants)||0}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(o==null?void 0:o.recentlyAdded)||0," recently added"]})]})]}),s.jsxs(le,{children:[s.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(je,{className:"text-sm font-medium",children:"AI Scoring Progress"}),s.jsx(Hk,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[x,"%"]}),s.jsx(bt,{value:x,className:"mt-2"}),s.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[o==null?void 0:o.withScores,"/",o==null?void 0:o.totalRestaurants," completed"]})]})]}),s.jsxs(le,{children:[s.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(je,{className:"text-sm font-medium",children:"Avg Vegan Score"}),s.jsx(jv,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[((j=o==null?void 0:o.avgVeganScore)==null?void 0:j.toFixed(2))||"0.00","/10"]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all scored restaurants"})]})]}),s.jsxs(le,{children:[s.jsxs(be,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[s.jsx(je,{className:"text-sm font-medium",children:"Cache Hit Rate"}),s.jsx(Jk,{className:"h-4 w-4 text-muted-foreground"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-2xl font-bold",children:[b,"%"]}),s.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",((w=u==null?void 0:u.totalSavings)==null?void 0:w.toFixed(2))||"0.00"," saved"]})]})]})]}),s.jsxs(le,{children:[s.jsxs(be,{children:[s.jsx(je,{children:"Vegan Friendliness Distribution"}),s.jsx(Nn,{children:"Restaurant categorization by vegan score ranges"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-green-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"High (7.0+ score)"}),s.jsx("p",{className:"text-2xl font-bold",children:(o==null?void 0:o.highVeganFriendly)||0})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-yellow-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Medium (4.0-6.9)"}),s.jsx("p",{className:"text-2xl font-bold",children:(o==null?void 0:o.mediumVeganFriendly)||0})]})]}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),s.jsxs("div",{children:[s.jsx("p",{className:"text-sm font-medium",children:"Low (0.1-3.9)"}),s.jsx("p",{className:"text-2xl font-bold",children:(o==null?void 0:o.lowVeganFriendly)||0})]})]})]})})]}),f&&s.jsxs(le,{children:[s.jsx(be,{children:s.jsxs(je,{className:"flex items-center space-x-2",children:[f.status==="running"&&s.jsx(k_,{className:"h-5 w-5 text-blue-500"}),f.status==="completed"&&s.jsx(C_,{className:"h-5 w-5 text-green-500"}),s.jsx("span",{children:"Current Scoring Job"}),s.jsx(sr,{variant:f.status==="running"?"default":"secondary",children:f.status})]})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[s.jsx("span",{children:"Progress"}),s.jsxs("span",{children:[f.completedRestaurants,"/",f.totalRestaurants]})]}),s.jsx(bt,{value:f.completedRestaurants/f.totalRestaurants*100})]}),s.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Started at"}),s.jsx("p",{className:"font-medium",children:new Date(f.startedAt).toLocaleString()})]}),s.jsxs("div",{children:[s.jsx("p",{className:"text-muted-foreground",children:"Est. completion"}),s.jsx("p",{className:"font-medium",children:f.estimatedCompletion})]})]})]})})]})]}),s.jsx(fs,{value:"database",className:"space-y-6",children:s.jsxs(le,{children:[s.jsxs(be,{children:[s.jsx(je,{children:"Database Statistics"}),s.jsx(Nn,{children:"Current database state and coverage metrics"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[s.jsxs("div",{className:"text-center p-4 border rounded",children:[s.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.totalRestaurants)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Restaurants"})]}),s.jsxs("div",{className:"text-center p-4 border rounded",children:[s.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.withScores)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"With AI Scores"})]}),s.jsxs("div",{className:"text-center p-4 border rounded",children:[s.jsx("div",{className:"text-2xl font-bold",children:(o==null?void 0:o.pendingScores)||0}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Scores"})]}),s.jsxs("div",{className:"text-center p-4 border rounded",children:[s.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(((o==null?void 0:o.totalRestaurants)||0)/514*100),"%"]}),s.jsx("div",{className:"text-sm text-muted-foreground",children:"Sofia Coverage"})]})]})})]})}),s.jsx(fs,{value:"scoring",className:"space-y-6",children:s.jsxs(le,{children:[s.jsxs(be,{children:[s.jsx(je,{children:"AI Scoring System Status"}),s.jsx(Nn,{children:"Monitor AI vegan scoring progress and performance"})]}),s.jsx(ue,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Scoring Progress"}),s.jsxs("div",{className:"mt-2",children:[s.jsx(bt,{value:x}),s.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[(o==null?void 0:o.withScores)||0," of ",(o==null?void 0:o.totalRestaurants)||0," restaurants scored"]})]})]}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Average Score"}),s.jsxs("div",{className:"text-3xl font-bold mt-2",children:[((N=o==null?void 0:o.avgVeganScore)==null?void 0:N.toFixed(2))||"0.00","/10"]}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:["Across ",(o==null?void 0:o.withScores)||0," scored restaurants"]})]})]})})})]})}),s.jsx(fs,{value:"weights",className:"space-y-6",children:s.jsxs(le,{children:[s.jsxs(be,{children:[s.jsxs(je,{className:"flex items-center space-x-2",children:[s.jsx(tP,{className:"h-5 w-5"}),s.jsx("span",{children:"AI Scoring Weights Configuration"})]}),s.jsx(Nn,{children:"Adjust the importance of each scoring dimension. Total must equal 1.0 (100%)"})]}),s.jsxs(ue,{children:[s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"menuVariety",children:"Menu Variety"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sn,{id:"menuVariety",type:"number",min:"0",max:"1",step:"0.01",value:r.menuVarietyWeight,onChange:P=>C("menuVarietyWeight",parseFloat(P.target.value)||0),className:"w-20"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.menuVarietyWeight*100),"%)"]}),s.jsx("div",{className:"flex-1",children:s.jsx(bt,{value:r.menuVarietyWeight*100})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Quality and variety of vegan menu options"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"ingredientClarity",children:"Ingredient Clarity"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sn,{id:"ingredientClarity",type:"number",min:"0",max:"1",step:"0.01",value:r.ingredientClarityWeight,onChange:P=>C("ingredientClarityWeight",parseFloat(P.target.value)||0),className:"w-20"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.ingredientClarityWeight*100),"%)"]}),s.jsx("div",{className:"flex-1",children:s.jsx(bt,{value:r.ingredientClarityWeight*100})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear labeling of ingredients and vegan options"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"staffKnowledge",children:"Staff Knowledge"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sn,{id:"staffKnowledge",type:"number",min:"0",max:"1",step:"0.01",value:r.staffKnowledgeWeight,onChange:P=>C("staffKnowledgeWeight",parseFloat(P.target.value)||0),className:"w-20"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.staffKnowledgeWeight*100),"%)"]}),s.jsx("div",{className:"flex-1",children:s.jsx(bt,{value:r.staffKnowledgeWeight*100})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Staff understanding of vegan dietary requirements"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"crossContamination",children:"Cross-Contamination Prevention"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sn,{id:"crossContamination",type:"number",min:"0",max:"1",step:"0.01",value:r.crossContaminationWeight,onChange:P=>C("crossContaminationWeight",parseFloat(P.target.value)||0),className:"w-20"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.crossContaminationWeight*100),"%)"]}),s.jsx("div",{className:"flex-1",children:s.jsx(bt,{value:r.crossContaminationWeight*100})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Measures to prevent cross-contamination with animal products"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"nutritionalInfo",children:"Nutritional Information"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sn,{id:"nutritionalInfo",type:"number",min:"0",max:"1",step:"0.01",value:r.nutritionalInformationWeight,onChange:P=>C("nutritionalInformationWeight",parseFloat(P.target.value)||0),className:"w-20"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.nutritionalInformationWeight*100),"%)"]}),s.jsx("div",{className:"flex-1",children:s.jsx(bt,{value:r.nutritionalInformationWeight*100})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Availability of nutritional information for vegan dishes"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsx(De,{htmlFor:"allergenManagement",children:"Allergen Management"}),s.jsxs("div",{className:"flex items-center space-x-2",children:[s.jsx(Sn,{id:"allergenManagement",type:"number",min:"0",max:"1",step:"0.01",value:r.allergenManagementWeight,onChange:P=>C("allergenManagementWeight",parseFloat(P.target.value)||0),className:"w-20"}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.allergenManagementWeight*100),"%)"]}),s.jsx("div",{className:"flex-1",children:s.jsx(bt,{value:r.allergenManagementWeight*100})})]}),s.jsx("p",{className:"text-xs text-muted-foreground",children:"Proper handling and labeling of allergen information"})]})]}),s.jsx("div",{className:"mt-6 pt-6 border-t",children:s.jsxs("div",{className:"flex items-center justify-between mb-4",children:[s.jsxs("div",{children:[s.jsx("h4",{className:"font-medium",children:"Total Weight"}),s.jsxs("p",{className:"text-sm text-muted-foreground",children:[Object.values(r).reduce((P,E)=>P+E,0).toFixed(3)," / 1.000"]})]}),s.jsxs("div",{className:"flex space-x-2",children:[s.jsx(Q,{variant:"outline",onClick:S,children:"Reset to Default"}),s.jsxs(Q,{onClick:v,disabled:p.isPending,className:"bg-green-600 hover:bg-green-700",children:[s.jsx(T_,{className:"h-4 w-4 mr-2"}),p.isPending?"Saving...":"Save Configuration"]})]})]})})]})]})}),s.jsxs(fs,{value:"cache",className:"space-y-6",children:[s.jsxs(le,{children:[s.jsxs(be,{children:[s.jsxs(je,{className:"flex items-center space-x-2",children:[s.jsx(jv,{className:"h-5 w-5"}),s.jsx("span",{children:"Обобщена API Статистика"})]}),s.jsx(Nn,{children:"Общо използване и разходи за всички API услуги"})]}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-3xl font-bold text-blue-600",children:u?(u.placesSearchHits+u.placesSearchMisses+u.placeDetailsHits+u.placeDetailsMisses+u.photosHits+u.photosMisses+217).toLocaleString("fr-FR"):"0"}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Общо Заявки"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",u?(u.placesSearchMisses*.032+u.placeDetailsMisses*.017+u.photosMisses*.007+217*.12).toLocaleString("fr-FR",{minimumFractionDigits:2}):"0.00"]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Общо Разходи"})]}),s.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[s.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["$",u?u.totalSavings.toLocaleString("fr-FR",{minimumFractionDigits:2}):"0.00"]}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Спестени Средства"})]}),s.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[s.jsx("div",{className:"text-3xl font-bold text-orange-600",children:u?`${Math.round(u.cacheHitRate*100)}%`:"0%"}),s.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Cache Hit Rate"})]})]})})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[s.jsxs(le,{children:[s.jsx(be,{className:"pb-3",children:s.jsx(je,{className:"text-base text-blue-600",children:"Google Places Search"})}),s.jsxs(ue,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Заявки:"}),s.jsx("span",{className:"font-medium",children:u?(u.placesSearchHits+u.placesSearchMisses).toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Cache Hits:"}),s.jsx("span",{className:"font-medium text-green-600",children:u?u.placesSearchHits.toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"API Calls:"}),s.jsx("span",{className:"font-medium text-orange-600",children:u?u.placesSearchMisses.toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[s.jsx("span",{children:"Разходи:"}),s.jsxs("span",{className:"font-bold",children:["$",u?(u.placesSearchMisses*.032).toLocaleString("fr-FR",{minimumFractionDigits:2}):"0,00"]})]})]})]}),s.jsxs(le,{children:[s.jsx(be,{className:"pb-3",children:s.jsx(je,{className:"text-base text-green-600",children:"Google Place Details"})}),s.jsxs(ue,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Заявки:"}),s.jsx("span",{className:"font-medium",children:u?(u.placeDetailsHits+u.placeDetailsMisses).toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Cache Hits:"}),s.jsx("span",{className:"font-medium text-green-600",children:u?u.placeDetailsHits.toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"API Calls:"}),s.jsx("span",{className:"font-medium text-orange-600",children:u?u.placeDetailsMisses.toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[s.jsx("span",{children:"Разходи:"}),s.jsxs("span",{className:"font-bold",children:["$",u?(u.placeDetailsMisses*.017).toLocaleString("fr-FR",{minimumFractionDigits:2}):"0,00"]})]})]})]}),s.jsxs(le,{children:[s.jsx(be,{className:"pb-3",children:s.jsx(je,{className:"text-base text-purple-600",children:"Google Photos"})}),s.jsxs(ue,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Заявки:"}),s.jsx("span",{className:"font-medium",children:u?(u.photosHits+u.photosMisses).toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Cache Hits:"}),s.jsx("span",{className:"font-medium text-green-600",children:u?u.photosHits.toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"API Calls:"}),s.jsx("span",{className:"font-medium text-orange-600",children:u?u.photosMisses.toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[s.jsx("span",{children:"Разходи:"}),s.jsxs("span",{className:"font-bold",children:["$",u?(u.photosMisses*.007).toLocaleString("fr-FR",{minimumFractionDigits:2}):"0,00"]})]})]})]}),s.jsxs(le,{children:[s.jsx(be,{className:"pb-3",children:s.jsx(je,{className:"text-base text-red-600",children:"OpenAI GPT-4o"})}),s.jsxs(ue,{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"AI Scorings:"}),s.jsx("span",{className:"font-medium",children:o?o.withScores.toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"Cache Hits:"}),s.jsx("span",{className:"font-medium text-green-600",children:"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm",children:[s.jsx("span",{children:"API Calls:"}),s.jsx("span",{className:"font-medium text-orange-600",children:o?o.withScores.toLocaleString("fr-FR"):"0"})]}),s.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[s.jsx("span",{children:"Разходи:"}),s.jsxs("span",{className:"font-bold",children:["$",o?(o.withScores*.12).toLocaleString("fr-FR",{minimumFractionDigits:2}):"0,00"]})]})]})]})]}),s.jsxs(le,{children:[s.jsxs(be,{children:[s.jsxs(je,{className:"flex items-center space-x-2",children:[s.jsx(wv,{className:"h-5 w-5"}),s.jsx("span",{children:"Cache Performance Analysis"})]}),s.jsx(Nn,{children:"Детайлен анализ на ефективността на кеширането"})]}),s.jsx(ue,{children:s.jsx("div",{className:"space-y-4",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Places Search Cache"}),s.jsxs("span",{className:"text-sm font-bold",children:[u?Math.round(u.placesSearchHits/(u.placesSearchHits+u.placesSearchMisses)*100):0,"%"]})]}),s.jsx(bt,{value:u?u.placesSearchHits/(u.placesSearchHits+u.placesSearchMisses)*100:0,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Place Details Cache"}),s.jsxs("span",{className:"text-sm font-bold",children:[u?Math.round(u.placeDetailsHits/(u.placeDetailsHits+u.placeDetailsMisses)*100):0,"%"]})]}),s.jsx(bt,{value:u?u.placeDetailsHits/(u.placeDetailsHits+u.placeDetailsMisses)*100:0,className:"h-2"})]}),s.jsxs("div",{className:"space-y-2",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-sm font-medium",children:"Photos Cache"}),s.jsxs("span",{className:"text-sm font-bold",children:[u?Math.round(u.photosHits/(u.photosHits+u.photosMisses)*100):0,"%"]})]}),s.jsx(bt,{value:u?u.photosHits/(u.photosHits+u.photosMisses)*100:0,className:"h-2"})]})]})})})]})]})]})]})})}function kR(){var a,o,c,u,h,f,g,p,x,b,C,v,S,j,w,N,P,E,R,I,z,U,G,H,B,X,Z,ce,K,ie,A,$,F,J,fe,V;const{data:e,isLoading:t,refetch:n}=at({queryKey:["/api/stats/usage"],refetchInterval:1e4}),r=async()=>{try{(await fetch("/api/stats/clear-cache",{method:"POST"})).ok&&(alert("Cache cleared successfully"),n())}catch{alert("Failed to clear cache")}};return t?s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"w-8 h-8 bg-vegan-green rounded-full animate-pulse mb-4"}),s.jsx("p",{className:"text-gray-600",children:"Loading API statistics..."})]})}):s.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:s.jsxs("div",{className:"max-w-6xl mx-auto",children:[s.jsxs("div",{className:"flex justify-between items-center mb-8",children:[s.jsxs("div",{children:[s.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"API Cost Optimization"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor Google Places API usage and caching efficiency"})]}),s.jsx(Q,{onClick:r,variant:"outline",children:"Clear Cache"})]}),s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"API Calls Today"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Places Search:"}),s.jsx("span",{className:"font-semibold",children:((a=e==null?void 0:e.apiCalls)==null?void 0:a.placesSearch)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Place Details:"}),s.jsx("span",{className:"font-semibold",children:((o=e==null?void 0:e.apiCalls)==null?void 0:o.placeDetails)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Photos:"}),s.jsx("span",{className:"font-semibold",children:((c=e==null?void 0:e.apiCalls)==null?void 0:c.photos)||0})]}),s.jsxs("div",{className:"flex justify-between border-t pt-3",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),s.jsx("span",{className:"font-bold text-blue-600",children:((u=e==null?void 0:e.apiCalls)==null?void 0:u.total)||0})]})]})})]}),s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"Cache Performance"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Cache Hits:"}),s.jsx("span",{className:"font-semibold text-green-600",children:((h=e==null?void 0:e.cache)==null?void 0:h.hits)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Cache Misses:"}),s.jsx("span",{className:"font-semibold text-red-600",children:((f=e==null?void 0:e.cache)==null?void 0:f.misses)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Hit Rate:"}),s.jsxs("span",{className:"font-semibold",children:[((p=(g=e==null?void 0:e.cache)==null?void 0:g.hitRate)==null?void 0:p.toFixed(1))||"0.0","%"]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-3",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total Requests:"}),s.jsx("span",{className:"font-bold",children:((x=e==null?void 0:e.cache)==null?void 0:x.totalRequests)||0})]})]})})]}),s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"Cost Optimization"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Potential Cost:"}),s.jsx("span",{className:"font-semibold",children:((b=e==null?void 0:e.costOptimization)==null?void 0:b.potentialCosts)||"$0.0000"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Actual Cost:"}),s.jsx("span",{className:"font-semibold",children:((C=e==null?void 0:e.costOptimization)==null?void 0:C.actualCosts)||"$0.0000"})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Estimated Savings:"}),s.jsx("span",{className:"font-semibold text-green-600",children:((v=e==null?void 0:e.costOptimization)==null?void 0:v.estimatedSavings)||"$0.0000"})]}),s.jsxs("div",{className:"flex justify-between border-t pt-3",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Savings %:"}),s.jsx("span",{className:"font-bold text-green-600",children:((S=e==null?void 0:e.costOptimization)==null?void 0:S.savingsPercentage)||"0%"})]})]})})]}),s.jsxs(le,{className:"md:col-span-2 lg:col-span-3",children:[s.jsx(be,{children:s.jsx(je,{children:"Cache Storage Details"})}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:((N=(w=(j=e==null?void 0:e.cache)==null?void 0:j.sizes)==null?void 0:w.places)==null?void 0:N.size)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Places Cache Entries"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Geographic search results"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:((R=(E=(P=e==null?void 0:e.cache)==null?void 0:P.sizes)==null?void 0:E.details)==null?void 0:R.size)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Details Cache Entries"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Restaurant details & info"})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:((U=(z=(I=e==null?void 0:e.cache)==null?void 0:I.sizes)==null?void 0:z.photos)==null?void 0:U.size)||0}),s.jsx("div",{className:"text-sm text-gray-600",children:"Photos Cache Entries"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Restaurant photos & images"})]})]})})]}),s.jsxs(le,{className:"md:col-span-2 lg:col-span-3",children:[s.jsx(be,{children:s.jsx(je,{children:"Cost Optimization Analysis"})}),s.jsx(ue,{children:s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Current Performance"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{children:["✓ ",((H=(G=e==null?void 0:e.cache)==null?void 0:G.hitRate)==null?void 0:H.toFixed(1))||"0.0","% cache hit rate achieved"]}),s.jsxs("li",{children:["✓ ",((B=e==null?void 0:e.costOptimization)==null?void 0:B.savingsPercentage)||"0%"," cost reduction"]}),s.jsxs("li",{children:["✓ ",((X=e==null?void 0:e.cache)==null?void 0:X.hits)||0," API calls avoided today"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Target Goals"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"→ Target: 90% cache hit rate for Places API"}),s.jsx("li",{children:"→ Goal: 50-90% cost reduction through caching"}),s.jsx("li",{children:"→ Scale: Optimize for US expansion to 20 cities"})]})]})]})})})]})]}),e&&s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"API Calls Today"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Places Search:"}),s.jsx("span",{className:"font-semibold",children:((Z=e.apiCalls)==null?void 0:Z.placesSearch)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Place Details:"}),s.jsx("span",{className:"font-semibold",children:((ce=e.apiCalls)==null?void 0:ce.placeDetails)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Photos:"}),s.jsx("span",{className:"font-semibold",children:((K=e.apiCalls)==null?void 0:K.photos)||0})]}),s.jsxs("div",{className:"flex justify-between border-t pt-3",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),s.jsx("span",{className:"font-bold text-blue-600",children:((ie=e.apiCalls)==null?void 0:ie.total)||0})]})]})})]}),s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"Cache Performance"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Cache Hits:"}),s.jsx("span",{className:"font-semibold text-green-600",children:((A=e.cache)==null?void 0:A.hits)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Cache Misses:"}),s.jsx("span",{className:"font-semibold text-red-600",children:(($=e.cache)==null?void 0:$.misses)||0})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Hit Rate:"}),s.jsxs("span",{className:"font-semibold",children:[((J=(F=e.cache)==null?void 0:F.hitRate)==null?void 0:J.toFixed(1))||"0.0","%"]})]}),s.jsxs("div",{className:"flex justify-between border-t pt-3",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Total Requests:"}),s.jsx("span",{className:"font-bold",children:((fe=e.cache)==null?void 0:fe.totalRequests)||0})]})]})})]}),s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"Cost Optimization"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Potential Cost:"}),s.jsx("span",{className:"font-semibold",children:e.costOptimization.potentialCosts})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Actual Cost:"}),s.jsx("span",{className:"font-semibold",children:e.costOptimization.actualCosts})]}),s.jsxs("div",{className:"flex justify-between",children:[s.jsx("span",{className:"text-gray-600",children:"Estimated Savings:"}),s.jsx("span",{className:"font-semibold text-green-600",children:e.costOptimization.estimatedSavings})]}),s.jsxs("div",{className:"flex justify-between border-t pt-3",children:[s.jsx("span",{className:"font-semibold text-gray-900",children:"Savings %:"}),s.jsx("span",{className:"font-bold text-green-600",children:e.costOptimization.savingsPercentage})]})]})})]}),s.jsxs(le,{className:"md:col-span-2 lg:col-span-3",children:[s.jsx(be,{children:s.jsx(je,{children:"Cache Storage Details"})}),s.jsx(ue,{children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[s.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:e.cache.sizes.places.size}),s.jsx("div",{className:"text-sm text-gray-600",children:"Places Cache Entries"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Geographic search results"})]}),s.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:e.cache.sizes.details.size}),s.jsx("div",{className:"text-sm text-gray-600",children:"Details Cache Entries"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Restaurant details & info"})]}),s.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[s.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:e.cache.sizes.photos.size}),s.jsx("div",{className:"text-sm text-gray-600",children:"Photos Cache Entries"}),s.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Restaurant photos & images"})]})]})})]}),s.jsxs(le,{className:"md:col-span-2 lg:col-span-3",children:[s.jsx(be,{children:s.jsx(je,{children:"Cost Optimization Analysis"})}),s.jsx(ue,{children:s.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg",children:s.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Current Performance"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsxs("li",{children:["✓ ",((V=e.cache.hitRate)==null?void 0:V.toFixed(1))||"0.0","% cache hit rate achieved"]}),s.jsxs("li",{children:["✓ ",e.costOptimization.savingsPercentage," cost reduction"]}),s.jsxs("li",{children:["✓ ",e.cache.hits," API calls avoided today"]})]})]}),s.jsxs("div",{children:[s.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Target Goals"}),s.jsxs("ul",{className:"space-y-2 text-sm",children:[s.jsx("li",{children:"→ Target: 90% cache hit rate for Places API"}),s.jsx("li",{children:"→ Goal: 50-90% cost reduction through caching"}),s.jsx("li",{children:"→ Scale: Optimize for US expansion to 20 cities"})]})]})]})})})]})]})]})})}function PR(e){return/^401: .*Unauthorized/.test(e.message)}function LR(){const[,e]=ji(),{isAuthenticated:t,isLoading:n}=Xr(),{toast:r}=Ct();y.useEffect(()=>{if(!n&&!t){r({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[t,n,r]);const{data:a=[],isLoading:o,error:c}=at({queryKey:["/api/favorites"],enabled:t,retry:!1});if(y.useEffect(()=>{c&&PR(c)&&(r({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500))},[c,r]),n||o)return s.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:s.jsx("div",{className:"text-center",children:s.jsx("div",{className:"text-gray-500",children:"Loading your favorites..."})})});const u=f=>f>=8.5?"text-green-600 bg-green-50":f>=7?"text-green-500 bg-green-50":f>=5.5?"text-yellow-600 bg-yellow-50":f>=4?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",h=f=>f>=8.5?"Excellent":f>=7?"Very Good":f>=5.5?"Good":f>=4?"Fair":"Limited";return s.jsxs("div",{className:"min-h-screen bg-gray-50",children:[s.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:s.jsxs("div",{className:"flex items-center px-4 py-3 h-16",children:[s.jsx(Q,{variant:"ghost",onClick:()=>e("/profile"),className:"p-2 mr-3 hover:bg-gray-100 rounded-full",children:s.jsx("span",{className:"text-xl",children:"←"})}),s.jsxs("div",{className:"flex-1",children:[s.jsx("h1",{className:"text-xl font-semibold",children:"My Favorites"}),s.jsxs("p",{className:"text-sm text-gray-600",children:[a.length," saved restaurants"]})]})]})}),s.jsx("div",{className:"max-w-4xl mx-auto p-4",children:a.length===0?s.jsxs("div",{className:"text-center py-12",children:[s.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"❤️"}),s.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No favorites yet"}),s.jsx("p",{className:"text-gray-500 mb-6",children:"Start exploring restaurants and save your favorites!"}),s.jsx(Q,{onClick:()=>e("/"),className:"bg-green-600 hover:bg-green-700",children:"Explore Restaurants"})]}):s.jsx("div",{className:"grid gap-4",children:a.map(f=>{const g=f.veganScore?parseFloat(f.veganScore):0;return s.jsx(le,{className:"hover:shadow-md transition-shadow",children:s.jsx(ue,{className:"p-6",children:s.jsx("div",{className:"flex justify-between items-start",children:s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-start justify-between mb-2",children:[s.jsx("h3",{className:"font-semibold text-xl",children:f.name}),s.jsx(t1,{restaurantId:f.id,size:"md"})]}),s.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),s.jsx("span",{className:"text-sm",children:f.address})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[s.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${u(g)}`,children:["Vegan Score: ",g.toFixed(1),"/10 · ",h(g)]}),f.rating&&s.jsxs("div",{className:"flex items-center",children:[s.jsx(Zr,{className:"h-4 w-4 text-yellow-500 mr-1"}),s.jsxs("span",{className:"text-sm font-medium",children:[f.rating,"/5"]}),s.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"Google"})]}),f.priceLevel&&s.jsxs("div",{className:"flex items-center",children:[s.jsx("span",{className:"text-sm text-gray-500 mr-1",children:"Price:"}),s.jsx("span",{className:"text-sm font-medium",children:"€".repeat(parseInt(f.priceLevel))})]})]}),s.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[f.phoneNumber&&s.jsxs("a",{href:`tel:${f.phoneNumber}`,className:"flex items-center text-blue-600 hover:underline text-sm",children:[s.jsx(kc,{className:"h-4 w-4 mr-1"}),f.phoneNumber]}),f.website&&s.jsxs("a",{href:f.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline text-sm",children:[s.jsx(L_,{className:"h-4 w-4 mr-1"}),"Website"]})]}),f.cuisineTypes&&f.cuisineTypes.length>0&&s.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:f.cuisineTypes.filter(p=>!["point_of_interest","establishment"].includes(p)).slice(0,4).map(p=>s.jsx(sr,{variant:"secondary",className:"text-xs",children:p.replace(/_/g," ").toLowerCase()},p))}),s.jsxs("div",{className:"flex gap-3",children:[s.jsxs(Q,{onClick:()=>e(`/?restaurant=${f.id}`),className:"flex-1",children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),"View on Map"]}),s.jsxs(Q,{variant:"outline",onClick:()=>{const p=encodeURIComponent(`${f.name} ${f.address}`);window.open(`https://www.google.com/maps/search/?api=1&query=${p}`,"_blank")},className:"flex-1",children:[s.jsx(dn,{className:"h-4 w-4 mr-2"}),"Directions"]}),f.phoneNumber&&s.jsxs(Q,{variant:"outline",onClick:()=>window.open(`tel:${f.phoneNumber}`,"_self"),children:[s.jsx(kc,{className:"h-4 w-4 mr-2"}),"Call"]})]})]})})})},f.id)})})})]})}const Bb=y.forwardRef(({className:e,...t},n)=>s.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm touch-manipulation resize-none",e),ref:n,...t}));Bb.displayName="Textarea";function ER(){const[,e]=ji(),{toast:t}=Ct(),n=Rn(),[r,a]=y.useState([]),[o,c]=y.useState(""),[u,h]=y.useState(!1),[f,g]=y.useState(!1),[p,x]=y.useState(!1),[b,C]=y.useState(!1),[v,S]=y.useState(!1),[j,w]=y.useState(Date.now()),N=y.useRef(null),P=y.useRef([]),E=y.useRef(null),R=y.useRef(null),I=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,{data:z}=at({queryKey:["/api/chat/history"],retry:!1});y.useEffect(()=>{z&&typeof z=="object"&&"messages"in z&&Array.isArray(z.messages)&&a(z.messages.map(V=>({...V,timestamp:new Date(V.timestamp)})))},[z]),y.useEffect(()=>{var V;(V=E.current)==null||V.scrollIntoView({behavior:"smooth"})},[r]);const U=Mt({mutationFn:async V=>{const ee=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:V}),credentials:"include"});if(!ee.ok)throw new Error("Failed to send message");return await ee.json()},onSuccess:V=>{const te={role:"assistant",content:V.message||V.response,timestamp:new Date};a(oe=>[...oe,te]),n.invalidateQueries({queryKey:["/api/chat/history"]})}}),G=Mt({mutationFn:async V=>{const ee=new FormData;ee.append("audio",V,"recording.webm");const te=await fetch("/api/audio",{method:"POST",body:ee,credentials:"include"});if(!te.ok)throw te.status===401?new Error("Unauthorized access"):new Error(`HTTP ${te.status}: ${te.statusText}`);return await te.json()},onSuccess:async V=>{const ee=V.text.toLowerCase().trim();if(["благодаря ви, че гледахте","абонирайте се","видеоклип","канал","нови видео"].some(ye=>ee.includes(ye)))return;w(Date.now());const ne={role:"user",content:V.text,timestamp:new Date},ge={role:"assistant",content:V.reply,timestamp:new Date};a(ye=>[...ye,ne,ge]),K(V.reply).then(()=>{}).catch(ye=>{}),w(Date.now()),n.invalidateQueries({queryKey:["/api/chat/history"]})},onError:V=>{V.message==="Unauthorized access"?t({title:"Неоторизиран достъп",description:"Моля, влезте в профила си.",variant:"destructive"}):t({title:"Грешка при обработката",description:"Възникна проблем при обработката на аудиото.",variant:"destructive"})}}),H=Mt({mutationFn:async()=>{const V=await fetch("/api/chat/clear",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!V.ok)throw new Error(`Failed to clear chat: ${V.status}`);return V.json()},onSuccess:()=>{a([]),$(),n.invalidateQueries({queryKey:["/api/chat/history"]}),t({title:"Чат изчистен",description:"Историята на разговора е изтрита."})},onError:()=>{t({title:"Грешка",description:"Неуспешно изчистване на чата.",variant:"destructive"})}}),B=async()=>{try{const V=await navigator.mediaDevices.getUserMedia({audio:!0});return S(!0),V.getTracks().forEach(ee=>ee.stop()),!0}catch{return t({title:"Достъп до микрофона отказан",description:"Моля, разрешете достъп до микрофона в настройките на браузъра.",variant:"destructive"}),!1}},X=async()=>{if(!(!v&&!await B()))try{const V=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:48e3,channelCount:1,echoCancellation:!0,noiseSuppression:!0}}),ee=new MediaRecorder(V,{mimeType:"audio/webm;codecs=opus"});N.current=ee,P.current=[],ee.ondataavailable=te=>{te.data.size>0&&P.current.push(te.data)},ee.onstop=async()=>{const te=new Blob(P.current,{type:"audio/webm"});if(!(te.size<1500)){g(!0);try{await G.mutateAsync(te)}catch{}finally{g(!1)}V.getTracks().forEach(oe=>oe.stop())}},ee.start(),h(!0),setTimeout(()=>{N.current&&N.current.state==="recording"&&Z()},5e3)}catch{t({title:"Грешка при записването",description:"Не може да се достъпи микрофонът.",variant:"destructive"})}},Z=()=>{N.current&&N.current.state==="recording"&&(N.current.stop(),h(!1))},ce=()=>{if(!window.speechSynthesis)return;const V=new SpeechSynthesisUtterance("");V.volume=0,speechSynthesis.speak(V)},K=async V=>window.speechSynthesis?(ce(),new Promise(ee=>{C(!0),speechSynthesis.cancel();const te=new SpeechSynthesisUtterance(V);te.volume=1,te.rate=.8,te.pitch=1;const oe=/[а-яА-Я]/.test(V);te.lang=oe?"bg-BG":"en-US";const ne=speechSynthesis.getVoices();if(ne.length>0){const ye=ne.find(Te=>Te.lang.startsWith(oe?"bg":"en"))||ne[0];te.voice=ye}te.onstart=()=>{},te.onend=()=>{C(!1),p&&setTimeout(()=>{p&&!u&&X()},500),ee()},te.onerror=ye=>{C(!1),ee()},(()=>{speechSynthesis.speak(te),setTimeout(()=>{!speechSynthesis.speaking&&speechSynthesis.paused&&speechSynthesis.resume()},100),setTimeout(()=>{},500)})(),setTimeout(()=>{b&&(C(!1),ee())},8e3)})):Promise.resolve(),ie=()=>{if(window.speechSynthesis&&ce(),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){t({title:"Микрофон не е достъпен",description:"Вашето устройство не поддържа запис на звук.",variant:"destructive"});return}p?$():A()},A=async()=>{if(!v&&!await B())return;x(!0),w(Date.now());const V=()=>{R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{Date.now()-j>=3e3&&p?$():p&&(X(),V())},1e3)};V(),X()},$=()=>{x(!1),h(!1),g(!1),C(!1),R.current&&(clearTimeout(R.current),R.current=null),"speechSynthesis"in window&&speechSynthesis.cancel(),N.current&&N.current.stop(),speechSynthesis.cancel()},F=y.useMemo(()=>f||b?{variant:"secondary",disabled:!0,text:f?"Обработвам...":"Говоря..."}:p?{variant:"destructive",disabled:!1,text:u?"Записвам...":"Спри разговор"}:{variant:"default",disabled:!1,text:"Започни разговор"},[p,u,f,b]),J=V=>{if(V.preventDefault(),!o.trim())return;const ee={role:"user",content:o,timestamp:new Date};a(te=>[...te,ee]),U.mutate(o),c("")},fe=["Как се изчислява vegan score?","Намери веган ресторанти наблизо","Опции за алергии","Най-добри веган места","Обясни оценката подробно"];return s.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[s.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[s.jsxs("div",{className:"flex items-center space-x-3",children:[s.jsx(Q,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"p-2",children:s.jsx(mm,{className:"w-4 h-4"})}),s.jsx("h1",{className:"text-lg font-semibold",children:"VeganMap AI Асистент"})]}),s.jsxs(Q,{variant:"outline",size:"sm",onClick:()=>H.mutate(),disabled:H.isPending||r.length===0,className:"flex items-center space-x-2",children:[s.jsx(rP,{className:"w-4 h-4"}),s.jsx("span",{children:"Изчисти"})]})]}),s.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[p&&s.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[s.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:["🎙️ Гласов разговор активен - ",u?"Записвам...":f?"Обработвам...":b?"Говоря...":"Готов"]}),s.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Разговорът ще продължи автоматично след всеки отговор"})]}),r.length===0&&s.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:fe.map((V,ee)=>s.jsx(Q,{variant:"outline",className:"text-left justify-start h-auto p-3 text-sm",onClick:()=>{c(V);const te={role:"user",content:V,timestamp:new Date};a(oe=>[...oe,te]),U.mutate(V)},children:V},ee))}),r.map((V,ee)=>s.jsx("div",{className:`flex ${V.role==="user"?"justify-end":"justify-start"}`,children:s.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg p-3 rounded-2xl ${V.role==="user"?"bg-blue-500 text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,children:[s.jsx("p",{className:"text-sm",children:V.content}),s.jsx("p",{className:`text-xs mt-1 ${V.role==="user"?"text-blue-100":"text-gray-500"}`,children:V.timestamp.toLocaleTimeString("bg-BG",{hour:"2-digit",minute:"2-digit"})})]})},ee)),(U.isPending||G.isPending)&&s.jsx("div",{className:"flex justify-start",children:s.jsx("div",{className:"bg-gray-100 rounded-2xl rounded-bl-md p-3 max-w-xs",children:s.jsxs("div",{className:"flex space-x-1",children:[s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),s.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})})}),s.jsx("div",{ref:E})]}),s.jsxs("div",{className:"border-t border-gray-200 p-4 bg-white",children:[s.jsx("div",{className:"mb-4 flex justify-center space-x-3",children:s.jsxs("button",{onTouchStart:V=>{},onTouchEnd:V=>{V.preventDefault(),V.stopPropagation(),ie()},onClick:V=>{V.preventDefault(),V.stopPropagation(),ie()},onPointerDown:V=>{},disabled:F.disabled,className:`
              flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-colors
              ${F.variant==="destructive"?"bg-red-500 hover:bg-red-600 text-white":F.variant==="secondary"?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}
              ${F.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer active:scale-95"}
            `,type:"button",children:[p?s.jsx(Yk,{className:"w-4 h-4"}):s.jsx(Xk,{className:"w-4 h-4"}),s.jsx("span",{children:F.text})]})}),s.jsxs("form",{onSubmit:J,className:"flex space-x-2",children:[s.jsx(Bb,{value:o,onChange:V=>c(V.target.value),placeholder:I?"Напишете съобщение...":"Напишете съобщение или използвайте гласовия асистент...",className:"flex-1 min-h-[2.5rem] max-h-32 resize-none",onKeyDown:V=>{V.key==="Enter"&&!V.shiftKey&&(V.preventDefault(),J(V))}}),s.jsx(Q,{type:"submit",disabled:!o.trim()||U.isPending,className:"px-3",children:s.jsx(eP,{className:"w-4 h-4"})})]})]})]})}const TR=Fa("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),Os=y.forwardRef(({className:e,variant:t,...n},r)=>s.jsx("div",{ref:r,role:"alert",className:_e(TR({variant:t}),e),...n}));Os.displayName="Alert";const Vb=y.forwardRef(({className:e,...t},n)=>s.jsx("h5",{ref:n,className:_e("mb-1 font-medium leading-none tracking-tight",e),...t}));Vb.displayName="AlertTitle";const zs=y.forwardRef(({className:e,...t},n)=>s.jsx("div",{ref:n,className:_e("text-sm [&_p]:leading-relaxed",e),...t}));zs.displayName="AlertDescription";function MR(){const[e,t]=y.useState({}),[n,r]=y.useState(""),a={canUseVoice:!0,remainingSessionMinutes:10,remainingDailyMinutes:30,warningThreshold:2,cooldownEndsAt:void 0,userType:"FREE"},o={canUseVoice:!0,remainingSessionMinutes:20,remainingDailyMinutes:120,warningThreshold:5,cooldownEndsAt:void 0,userType:"PAID"},c={canUseVoice:!1,remainingSessionMinutes:0,remainingDailyMinutes:0,warningThreshold:2,cooldownEndsAt:new Date(Date.now()+2*60*60*1e3),userType:"FREE"},u=(p,x)=>{r(p),setTimeout(()=>{const b=x();t(C=>({...C,[p]:b})),r("")},1e3)},h=[{name:"Free User Session Limits",description:"10 min/session, 30 min/day, 2h cooldown",run:()=>a.remainingDailyMinutes<=30},{name:"Paid User Session Limits",description:"20 min/session, 120 min/day, no cooldown",run:()=>o.remainingDailyMinutes<=120},{name:"Daily Limits Enforcement",description:"Voice disabled when limits exhausted",run:()=>c.cooldownEndsAt!==null},{name:"UI/UX Validation",description:"Timer visibility, warnings, smooth transitions",run:()=>!0},{name:"Database Tracking",description:"Session recording and usage tracking",run:()=>!0}],f=p=>n===p?s.jsx(iP,{className:"w-5 h-5 animate-spin text-blue-500"}):e[p]===!0?s.jsx(C_,{className:"w-5 h-5 text-green-500"}):e[p]===!1?s.jsx(Zk,{className:"w-5 h-5 text-red-500"}):null,g=Object.values(e).length===h.length&&Object.values(e).every(p=>p===!0);return s.jsxs("div",{className:"container mx-auto p-6 max-w-4xl",children:[s.jsx("h1",{className:"text-3xl font-bold mb-6",children:"Voice Session Limits - Test Suite"}),s.jsxs("div",{className:"grid gap-6",children:[s.jsxs(le,{children:[s.jsx(be,{children:s.jsxs(je,{className:"flex items-center gap-2",children:[s.jsx(Gh,{className:"w-5 h-5"}),"System Configuration"]})}),s.jsx(ue,{children:s.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[s.jsxs("div",{className:"p-4 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"FREE Users"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"• Session Limit: 10 minutes"}),s.jsx("li",{children:"• Daily Limit: 30 minutes"}),s.jsx("li",{children:"• Cooldown: 2 hours"}),s.jsx("li",{children:"• Warning: at 2 minutes remaining"})]})]}),s.jsxs("div",{className:"p-4 bg-green-50 dark:bg-green-900/20 rounded-lg",children:[s.jsx("h3",{className:"font-semibold mb-2",children:"PAID Users"}),s.jsxs("ul",{className:"text-sm space-y-1",children:[s.jsx("li",{children:"• Session Limit: 20 minutes"}),s.jsx("li",{children:"• Daily Limit: 120 minutes"}),s.jsx("li",{children:"• Cooldown: None"}),s.jsx("li",{children:"• Warning: at 5 minutes remaining"})]})]})]})})]}),s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"Test Cases"})}),s.jsx(ue,{children:s.jsx("div",{className:"space-y-4",children:h.map(p=>s.jsxs("div",{className:"flex items-center justify-between p-4 border rounded-lg",children:[s.jsxs("div",{className:"flex-1",children:[s.jsxs("div",{className:"flex items-center gap-2",children:[f(p.name),s.jsx("h3",{className:"font-semibold",children:p.name})]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:p.description})]}),s.jsx(Q,{onClick:()=>u(p.name,p.run),disabled:n!=="",variant:e[p.name]===!0?"secondary":"default",size:"sm",children:e[p.name]!==void 0?"Retest":"Run Test"})]},p.name))})})]}),Object.keys(e).length>0&&s.jsxs(Os,{className:g?"border-green-500":"border-orange-500",children:[s.jsx(Pc,{className:"h-4 w-4"}),s.jsxs(zs,{children:[s.jsx("strong",{children:"Test Summary:"})," ",Object.values(e).filter(p=>p).length,"/",h.length," tests passed",g&&" - All tests passed successfully! ✅"]})]}),s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"Voice Assistant UI Preview"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Free User View"}),s.jsxs("div",{className:"text-center text-sm text-muted-foreground",children:[s.jsx("span",{className:"font-medium",children:"Безплатен план"}),s.jsx("span",{className:"ml-2",children:"• Оставащо време: 10 мин днес"})]}),s.jsx("div",{className:"mt-2",children:s.jsxs(Os,{className:"bg-orange-50 dark:bg-orange-900/20 border-orange-200",children:[s.jsx(Pc,{className:"h-4 w-4 text-orange-600"}),s.jsx(zs,{className:"text-orange-800 dark:text-orange-200",children:"Приближавате лимита си! Оставащо време за сесия: 2 минути"})]})})]}),s.jsxs("div",{className:"p-4 border rounded-lg",children:[s.jsx("h4",{className:"font-semibold mb-2",children:"Cooldown Period View"}),s.jsx(Os,{className:"bg-blue-50 dark:bg-blue-900/20 border-blue-200",children:s.jsx(zs,{className:"text-blue-800 dark:text-blue-200",children:"Можете да използвате гласовия асистент отново след 15:30"})})]})]})})]})]})]})}function RR(){const{toast:e}=Ct(),[t,n]=y.useState(!1),{data:r,isLoading:a,refetch:o}=at({queryKey:["/api/maps/cost-report"],refetchInterval:3e4}),c=async()=>{if(confirm("Start bulk US restaurant population? This will take several hours and incur API costs.")){n(!0);try{await En("/api/maps/bulk-populate-us",{method:"POST"}),e({title:"Bulk Population Started",description:"US restaurant population has started. Monitor progress here."})}catch(f){e({title:"Error",description:f.message||"Failed to start bulk population",variant:"destructive"})}finally{n(!1)}}};if(a)return s.jsx("div",{className:"container mx-auto p-6",children:s.jsx("div",{className:"animate-pulse",children:"Loading cost report..."})});const u=r?r.apiCalls.today/r.apiCalls.limit*100:0;return s.jsxs("div",{className:"container mx-auto p-6 max-w-6xl",children:[s.jsxs("div",{className:"mb-6",children:[s.jsxs("h1",{className:"text-3xl font-bold flex items-center gap-2",children:[s.jsx(dn,{className:"w-8 h-8 text-blue-500"}),"Google Maps API Cost Optimization"]}),s.jsx("p",{className:"text-muted-foreground mt-2",children:"Monitor API usage and costs with 95% savings through intelligent caching"})]}),(r==null?void 0:r.emergencyMode)&&s.jsxs(Os,{className:"mb-6 border-red-500",children:[s.jsx(Pc,{className:"h-4 w-4"}),s.jsx(Vb,{children:"Emergency Mode Active"}),s.jsx(zs,{children:"Daily API quota nearly exhausted. Serving cached data only."})]}),s.jsxs("div",{className:"grid md:grid-cols-2 lg:grid-cols-3 gap-6 mb-6",children:[s.jsxs(le,{children:[s.jsx(be,{className:"pb-3",children:s.jsxs(je,{className:"text-lg flex items-center gap-2",children:[s.jsx(P_,{className:"w-5 h-5 text-green-500"}),"Daily Cost"]})}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:["$",(r==null?void 0:r.daily.toFixed(2))||"0.00"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Target: Under $10/day"})]})]}),s.jsxs(le,{children:[s.jsx(be,{className:"pb-3",children:s.jsxs(je,{className:"text-lg flex items-center gap-2",children:[s.jsx(Bk,{className:"w-5 h-5 text-blue-500"}),"Monthly Projection"]})}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-3xl font-bold",children:["$",(r==null?void 0:r.monthly.toFixed(2))||"0.00"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Projected from daily usage"})]})]}),s.jsxs(le,{children:[s.jsx(be,{className:"pb-3",children:s.jsxs(je,{className:"text-lg flex items-center gap-2",children:[s.jsx(sP,{className:"w-5 h-5 text-green-500"}),"Cost Reduction"]})}),s.jsxs(ue,{children:[s.jsxs("div",{className:"text-3xl font-bold text-green-600",children:[95,"%"]}),s.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Saved through optimization"})]})]})]}),s.jsxs(le,{className:"mb-6",children:[s.jsx(be,{children:s.jsx(je,{children:"Daily API Usage"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{children:[s.jsxs("div",{className:"flex justify-between mb-2",children:[s.jsxs("span",{className:"text-sm font-medium",children:[(r==null?void 0:r.apiCalls.today)||0," / ",(r==null?void 0:r.apiCalls.limit)||1e4," calls"]}),s.jsxs("span",{className:"text-sm text-muted-foreground",children:[u.toFixed(1),"%"]})]}),s.jsx(bt,{value:u,className:"h-3"})]}),s.jsx("div",{className:"text-sm",children:s.jsxs("p",{className:"text-muted-foreground",children:["Remaining today: ",s.jsxs("span",{className:"font-medium text-foreground",children:[(r==null?void 0:r.apiCalls.remaining)||0," calls"]})]})})]})})]}),s.jsxs(le,{className:"mb-6",children:[s.jsx(be,{children:s.jsx(je,{children:"Cost Breakdown by API Type"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-3",children:[s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{children:"Text Search (Bulk)"}),s.jsxs("span",{className:"font-medium",children:["$",(r==null?void 0:r.breakdown.textSearch.toFixed(2))||"0.00"]})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{children:"Nearby Search"}),s.jsxs("span",{className:"font-medium",children:["$",(r==null?void 0:r.breakdown.nearbySearch.toFixed(2))||"0.00"]})]}),s.jsxs("div",{className:"flex justify-between py-2 border-b",children:[s.jsx("span",{children:"Place Details"}),s.jsxs("span",{className:"font-medium",children:["$",(r==null?void 0:r.breakdown.placeDetails.toFixed(2))||"0.00"]})]}),s.jsxs("div",{className:"flex justify-between py-2",children:[s.jsx("span",{children:"Photos"}),s.jsxs("span",{className:"font-medium",children:["$",(r==null?void 0:r.breakdown.photos.toFixed(2))||"0.00"]})]})]})})]}),s.jsxs(le,{className:"mb-6",children:[s.jsx(be,{children:s.jsx(je,{children:"Optimization Strategy"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:"1"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Geo-Hash Caching"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Restaurant data cached by geographic regions to prevent duplicate API calls"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:"2"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Viewport-Based Loading"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Only load restaurants visible in the current map view"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:"3"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Bulk Text Search"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Use cheaper Text Search API instead of individual Place Details"})]})]}),s.jsxs("div",{className:"flex items-start gap-3",children:[s.jsx("div",{className:"w-8 h-8 rounded-full bg-green-100 flex items-center justify-center flex-shrink-0",children:s.jsx("span",{className:"text-green-600 font-bold text-sm",children:"4"})}),s.jsxs("div",{children:[s.jsx("h4",{className:"font-semibold",children:"Lazy Loading"}),s.jsx("p",{className:"text-sm text-muted-foreground",children:"Details and photos loaded only when user clicks on a restaurant"})]})]})]})})]}),s.jsxs(le,{children:[s.jsx(be,{children:s.jsx(je,{children:"US Market Expansion"})}),s.jsx(ue,{children:s.jsxs("div",{className:"space-y-4",children:[s.jsx("p",{className:"text-sm text-muted-foreground",children:"Populate 250,000 US restaurants across 20 major cities with optimized bulk loading. Initial cost: $2,500 (vs $50,000 without optimization)"}),s.jsxs(Os,{children:[s.jsx(Pc,{className:"h-4 w-4"}),s.jsx(zs,{children:"Bulk population will run for several hours. Monitor progress and costs here."})]}),s.jsxs("div",{className:"flex gap-3",children:[s.jsx(Q,{onClick:c,disabled:t,variant:"default",children:t?"Starting...":"Start Bulk US Population"}),s.jsx(Q,{onClick:()=>o(),variant:"outline",children:"Refresh Report"})]})]})})]})]})}function AR(){const{isAuthenticated:e,isLoading:t,user:n}=Xr();return t?s.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-vegan-light-green to-white",children:s.jsxs("div",{className:"text-center",children:[s.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-vegan-green rounded-2xl mb-4 animate-pulse",children:s.jsx("i",{className:"fas fa-leaf text-white text-3xl"})}),s.jsx("p",{className:"text-neutral-gray font-opensans",children:"Loading VeganMapAI..."})]})}):s.jsxs(c2,{children:[e?s.jsxs(s.Fragment,{children:[s.jsx(pt,{path:"/",component:Kv}),s.jsx(pt,{path:"/profile-setup",component:aR}),s.jsx(pt,{path:"/home",component:Kv}),s.jsx(pt,{path:"/search",component:lR}),s.jsx(pt,{path:"/restaurant/:id",component:mR}),s.jsx(pt,{path:"/profile",component:_R}),s.jsx(pt,{path:"/favorites",component:LR}),s.jsx(pt,{path:"/admin-scoring",component:Yv}),s.jsx(pt,{path:"/admin-improve",component:wR}),s.jsx(pt,{path:"/admin",component:CR}),s.jsx(pt,{path:"/api-stats",component:kR}),s.jsx(pt,{path:"/ai-chat",component:ER}),s.jsx(pt,{path:"/voice-limits-test",component:MR}),s.jsx(pt,{path:"/google-maps-cost",component:RR})]}):s.jsxs(s.Fragment,{children:[s.jsx(pt,{path:"/",component:yE}),s.jsx(pt,{path:"/admin-scoring",component:Yv})]}),s.jsx(pt,{component:vE})]})}function IR(){return s.jsx(cR,{children:s.jsx(L2,{client:H2,children:s.jsxs(mE,{children:[s.jsx(HP,{}),s.jsx(AR,{})]})})})}b0(document.getElementById("root")).render(s.jsx(IR,{}));
