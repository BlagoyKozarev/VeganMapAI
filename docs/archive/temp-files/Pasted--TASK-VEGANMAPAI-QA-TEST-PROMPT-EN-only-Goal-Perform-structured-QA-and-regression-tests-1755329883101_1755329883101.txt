ğŸ¯ TASK: VEGANMAPAI â€“ QA & TEST PROMPT (EN-only)

Goal: Perform structured QA and regression tests on VeganMapAI. Report in structured format: âœ… Working / âš ï¸ Issues / ğŸš€ Next steps.

--------------------------------------------------

1. Functional Tests
- Check backend endpoints:
  - /healthz â†’ should return status=ok
  - /map-data â†’ returns items (>=1), valid JSON
  - /recommend â†’ returns list with vegan restaurants
  - /feedback â†’ accepts POST with sample feedback
- Verify DB connection â†’ must have 407 restaurants.
- Check geohash cache works (repeated queries faster).
- Verify rate limiting triggers on excessive requests.

2. PWA Frontend Tests
- Load main page without errors.
- Map renders with pins (407 restaurants).
- Clusterization works on zoom in/out.
- Clicking a pin opens restaurant details.
- Search bar works (â€œveganâ€ returns results).
- Filters drawer opens and applies filters.
- Responsive design works on mobile view (safe areas ok).
- PWA manifest + service worker installed.
- App can be added to home screen.
- Offline mode (limited functionality still loads cached screen).

3. Voice/AI Tests
- Mic button starts recording and stops after â‰¤30s.
- STT endpoint (/voice/stt) converts speech â†’ text.
- TTS endpoint (/voice/tts) returns playable audio.
- Ask agent via voice: â€œVegan restaurant nearbyâ€ â†’ should trigger RecommendationAgent.
- Ask: â€œWhy this Vegan Score?â€ â†’ should trigger ExplainabilityAgent.
- Voice replies â‰¤2 sentences, in English.
- If location missing â†’ system requests it politely.

4. Advanced Search & Filters Tests
- minScore=8 â†’ returns only high-score items.
- cuisines=thai,mexican â†’ returns correct subset.
- allergens=gluten â†’ excludes gluten restaurants.
- price range 1â€“2 â†’ only cheap restaurants.
- distance=5km with lat/lng â†’ results sorted by distance.
- Empty state shows: â€œNo results. Try adjusting your filters.â€

5. Analytics Tests
- filters_changed event fires on filter update.
- search_submitted fires with q, filters, results, took_ms.
- pagination_changed works correctly.
- sort_changed logged.

6. Acceptance Criteria
- No console errors in frontend.
- TypeScript compilation passes without errors.
- Response time:
  - Cached requests â‰¤800 ms
  - Uncached â‰¤2.5s
- All UI text in English only (no Bulgarian).

--------------------------------------------------

Report format:
âœ… Working â€“ list what passed
âš ï¸ Issues â€“ list failed tests
ğŸš€ Next steps â€“ recommended fixes
