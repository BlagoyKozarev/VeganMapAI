var Tm=e=>{throw TypeError(e)};var Eu=(e,t,n)=>t.has(e)||Tm("Cannot "+n);var M=(e,t,n)=>(Eu(e,t,"read from private field"),n?n.call(e):t.get(e)),de=(e,t,n)=>t.has(e)?Tm("Cannot add the same private member more than once"):t instanceof WeakSet?t.add(e):t.set(e,n),te=(e,t,n,r)=>(Eu(e,t,"write to private field"),r?r.call(e,n):t.set(e,n),n),be=(e,t,n)=>(Eu(e,t,"access private method"),n);var Wa=(e,t,n,r)=>({set _(a){te(e,t,a,n)},get _(){return M(e,t,r)}});function HN(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const a in r)if(a!=="default"&&!(a in e)){const s=Object.getOwnPropertyDescriptor(r,a);s&&Object.defineProperty(e,a,s.get?s:{enumerable:!0,get:()=>r[a]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))r(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const c of s.addedNodes)c.tagName==="LINK"&&c.rel==="modulepreload"&&r(c)}).observe(document,{childList:!0,subtree:!0});function n(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerPolicy&&(s.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?s.credentials="include":a.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(a){if(a.ep)return;a.ep=!0;const s=n(a);fetch(a.href,s)}})();var Kv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Hh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var qv={exports:{}},vc={},Qv={exports:{}},Se={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var va=Symbol.for("react.element"),ZN=Symbol.for("react.portal"),WN=Symbol.for("react.fragment"),GN=Symbol.for("react.strict_mode"),KN=Symbol.for("react.profiler"),qN=Symbol.for("react.provider"),QN=Symbol.for("react.context"),YN=Symbol.for("react.forward_ref"),XN=Symbol.for("react.suspense"),JN=Symbol.for("react.memo"),eC=Symbol.for("react.lazy"),Mm=Symbol.iterator;function tC(e){return e===null||typeof e!="object"?null:(e=Mm&&e[Mm]||e["@@iterator"],typeof e=="function"?e:null)}var Yv={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Xv=Object.assign,Jv={};function Ys(e,t,n){this.props=e,this.context=t,this.refs=Jv,this.updater=n||Yv}Ys.prototype.isReactComponent={};Ys.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};Ys.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function ex(){}ex.prototype=Ys.prototype;function Zh(e,t,n){this.props=e,this.context=t,this.refs=Jv,this.updater=n||Yv}var Wh=Zh.prototype=new ex;Wh.constructor=Zh;Xv(Wh,Ys.prototype);Wh.isPureReactComponent=!0;var Rm=Array.isArray,tx=Object.prototype.hasOwnProperty,Gh={current:null},nx={key:!0,ref:!0,__self:!0,__source:!0};function ix(e,t,n){var r,a={},s=null,c=null;if(t!=null)for(r in t.ref!==void 0&&(c=t.ref),t.key!==void 0&&(s=""+t.key),t)tx.call(t,r)&&!nx.hasOwnProperty(r)&&(a[r]=t[r]);var u=arguments.length-2;if(u===1)a.children=n;else if(1<u){for(var h=Array(u),f=0;f<u;f++)h[f]=arguments[f+2];a.children=h}if(e&&e.defaultProps)for(r in u=e.defaultProps,u)a[r]===void 0&&(a[r]=u[r]);return{$$typeof:va,type:e,key:s,ref:c,props:a,_owner:Gh.current}}function nC(e,t){return{$$typeof:va,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function Kh(e){return typeof e=="object"&&e!==null&&e.$$typeof===va}function iC(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var Om=/\/+/g;function Tu(e,t){return typeof e=="object"&&e!==null&&e.key!=null?iC(""+e.key):t.toString(36)}function xl(e,t,n,r,a){var s=typeof e;(s==="undefined"||s==="boolean")&&(e=null);var c=!1;if(e===null)c=!0;else switch(s){case"string":case"number":c=!0;break;case"object":switch(e.$$typeof){case va:case ZN:c=!0}}if(c)return c=e,a=a(c),e=r===""?"."+Tu(c,0):r,Rm(a)?(n="",e!=null&&(n=e.replace(Om,"$&/")+"/"),xl(a,t,n,"",function(f){return f})):a!=null&&(Kh(a)&&(a=nC(a,n+(!a.key||c&&c.key===a.key?"":(""+a.key).replace(Om,"$&/")+"/")+e)),t.push(a)),1;if(c=0,r=r===""?".":r+":",Rm(e))for(var u=0;u<e.length;u++){s=e[u];var h=r+Tu(s,u);c+=xl(s,t,n,h,a)}else if(h=tC(e),typeof h=="function")for(e=h.call(e),u=0;!(s=e.next()).done;)s=s.value,h=r+Tu(s,u++),c+=xl(s,t,n,h,a);else if(s==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return c}function Ga(e,t,n){if(e==null)return e;var r=[],a=0;return xl(e,r,"","",function(s){return t.call(n,s,a++)}),r}function rC(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var Pt={current:null},yl={transition:null},sC={ReactCurrentDispatcher:Pt,ReactCurrentBatchConfig:yl,ReactCurrentOwner:Gh};function rx(){throw Error("act(...) is not supported in production builds of React.")}Se.Children={map:Ga,forEach:function(e,t,n){Ga(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Ga(e,function(){t++}),t},toArray:function(e){return Ga(e,function(t){return t})||[]},only:function(e){if(!Kh(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};Se.Component=Ys;Se.Fragment=WN;Se.Profiler=KN;Se.PureComponent=Zh;Se.StrictMode=GN;Se.Suspense=XN;Se.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=sC;Se.act=rx;Se.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=Xv({},e.props),a=e.key,s=e.ref,c=e._owner;if(t!=null){if(t.ref!==void 0&&(s=t.ref,c=Gh.current),t.key!==void 0&&(a=""+t.key),e.type&&e.type.defaultProps)var u=e.type.defaultProps;for(h in t)tx.call(t,h)&&!nx.hasOwnProperty(h)&&(r[h]=t[h]===void 0&&u!==void 0?u[h]:t[h])}var h=arguments.length-2;if(h===1)r.children=n;else if(1<h){u=Array(h);for(var f=0;f<h;f++)u[f]=arguments[f+2];r.children=u}return{$$typeof:va,type:e.type,key:a,ref:s,props:r,_owner:c}};Se.createContext=function(e){return e={$$typeof:QN,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:qN,_context:e},e.Consumer=e};Se.createElement=ix;Se.createFactory=function(e){var t=ix.bind(null,e);return t.type=e,t};Se.createRef=function(){return{current:null}};Se.forwardRef=function(e){return{$$typeof:YN,render:e}};Se.isValidElement=Kh;Se.lazy=function(e){return{$$typeof:eC,_payload:{_status:-1,_result:e},_init:rC}};Se.memo=function(e,t){return{$$typeof:JN,type:e,compare:t===void 0?null:t}};Se.startTransition=function(e){var t=yl.transition;yl.transition={};try{e()}finally{yl.transition=t}};Se.unstable_act=rx;Se.useCallback=function(e,t){return Pt.current.useCallback(e,t)};Se.useContext=function(e){return Pt.current.useContext(e)};Se.useDebugValue=function(){};Se.useDeferredValue=function(e){return Pt.current.useDeferredValue(e)};Se.useEffect=function(e,t){return Pt.current.useEffect(e,t)};Se.useId=function(){return Pt.current.useId()};Se.useImperativeHandle=function(e,t,n){return Pt.current.useImperativeHandle(e,t,n)};Se.useInsertionEffect=function(e,t){return Pt.current.useInsertionEffect(e,t)};Se.useLayoutEffect=function(e,t){return Pt.current.useLayoutEffect(e,t)};Se.useMemo=function(e,t){return Pt.current.useMemo(e,t)};Se.useReducer=function(e,t,n){return Pt.current.useReducer(e,t,n)};Se.useRef=function(e){return Pt.current.useRef(e)};Se.useState=function(e){return Pt.current.useState(e)};Se.useSyncExternalStore=function(e,t,n){return Pt.current.useSyncExternalStore(e,t,n)};Se.useTransition=function(){return Pt.current.useTransition()};Se.version="18.3.1";Qv.exports=Se;var _=Qv.exports;const bi=Hh(_),sx=HN({__proto__:null,default:bi},[_]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var oC=_,aC=Symbol.for("react.element"),lC=Symbol.for("react.fragment"),cC=Object.prototype.hasOwnProperty,uC=oC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,dC={key:!0,ref:!0,__self:!0,__source:!0};function ox(e,t,n){var r,a={},s=null,c=null;n!==void 0&&(s=""+n),t.key!==void 0&&(s=""+t.key),t.ref!==void 0&&(c=t.ref);for(r in t)cC.call(t,r)&&!dC.hasOwnProperty(r)&&(a[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)a[r]===void 0&&(a[r]=t[r]);return{$$typeof:aC,type:e,key:s,ref:c,props:a,_owner:uC.current}}vc.Fragment=lC;vc.jsx=ox;vc.jsxs=ox;qv.exports=vc;var o=qv.exports,ax={exports:{}},Gt={},lx={exports:{}},cx={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(A,q){var $=A.length;A.push(q);e:for(;0<$;){var X=$-1>>>1,ue=A[X];if(0<a(ue,q))A[X]=q,A[$]=ue,$=X;else break e}}function n(A){return A.length===0?null:A[0]}function r(A){if(A.length===0)return null;var q=A[0],$=A.pop();if($!==q){A[0]=$;e:for(var X=0,ue=A.length,Ce=ue>>>1;X<Ce;){var B=2*(X+1)-1,ee=A[B],Y=B+1,F=A[Y];if(0>a(ee,$))Y<ue&&0>a(F,ee)?(A[X]=F,A[Y]=$,X=Y):(A[X]=ee,A[B]=$,X=B);else if(Y<ue&&0>a(F,$))A[X]=F,A[Y]=$,X=Y;else break e}}return q}function a(A,q){var $=A.sortIndex-q.sortIndex;return $!==0?$:A.id-q.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;e.unstable_now=function(){return s.now()}}else{var c=Date,u=c.now();e.unstable_now=function(){return c.now()-u}}var h=[],f=[],g=1,m=null,y=3,b=!1,j=!1,v=!1,S=typeof setTimeout=="function"?setTimeout:null,N=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function C(A){for(var q=n(f);q!==null;){if(q.callback===null)r(f);else if(q.startTime<=A)r(f),q.sortIndex=q.expirationTime,t(h,q);else break;q=n(f)}}function k(A){if(v=!1,C(A),!j)if(n(h)!==null)j=!0,G(E);else{var q=n(f);q!==null&&se(k,q.startTime-A)}}function E(A,q){j=!1,v&&(v=!1,N(D),D=-1),b=!0;var $=y;try{for(C(q),m=n(h);m!==null&&(!(m.expirationTime>q)||A&&!Q());){var X=m.callback;if(typeof X=="function"){m.callback=null,y=m.priorityLevel;var ue=X(m.expirationTime<=q);q=e.unstable_now(),typeof ue=="function"?m.callback=ue:m===n(h)&&r(h),C(q)}else r(h);m=n(h)}if(m!==null)var Ce=!0;else{var B=n(f);B!==null&&se(k,B.startTime-q),Ce=!1}return Ce}finally{m=null,y=$,b=!1}}var R=!1,O=null,D=-1,V=5,H=-1;function Q(){return!(e.unstable_now()-H<V)}function W(){if(O!==null){var A=e.unstable_now();H=A;var q=!0;try{q=O(!0,A)}finally{q?le():(R=!1,O=null)}}else R=!1}var le;if(typeof w=="function")le=function(){w(W)};else if(typeof MessageChannel<"u"){var Z=new MessageChannel,ce=Z.port2;Z.port1.onmessage=W,le=function(){ce.postMessage(null)}}else le=function(){S(W,0)};function G(A){O=A,R||(R=!0,le())}function se(A,q){D=S(function(){A(e.unstable_now())},q)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(A){A.callback=null},e.unstable_continueExecution=function(){j||b||(j=!0,G(E))},e.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):V=0<A?Math.floor(1e3/A):5},e.unstable_getCurrentPriorityLevel=function(){return y},e.unstable_getFirstCallbackNode=function(){return n(h)},e.unstable_next=function(A){switch(y){case 1:case 2:case 3:var q=3;break;default:q=y}var $=y;y=q;try{return A()}finally{y=$}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(A,q){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var $=y;y=A;try{return q()}finally{y=$}},e.unstable_scheduleCallback=function(A,q,$){var X=e.unstable_now();switch(typeof $=="object"&&$!==null?($=$.delay,$=typeof $=="number"&&0<$?X+$:X):$=X,A){case 1:var ue=-1;break;case 2:ue=250;break;case 5:ue=1073741823;break;case 4:ue=1e4;break;default:ue=5e3}return ue=$+ue,A={id:g++,callback:q,priorityLevel:A,startTime:$,expirationTime:ue,sortIndex:-1},$>X?(A.sortIndex=$,t(f,A),n(h)===null&&A===n(f)&&(v?(N(D),D=-1):v=!0,se(k,$-X))):(A.sortIndex=ue,t(h,A),j||b||(j=!0,G(E))),A},e.unstable_shouldYield=Q,e.unstable_wrapCallback=function(A){var q=y;return function(){var $=y;y=q;try{return A.apply(this,arguments)}finally{y=$}}}})(cx);lx.exports=cx;var hC=lx.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fC=_,Wt=hC;function K(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var ux=new Set,Go={};function Fr(e,t){Bs(e,t),Bs(e+"Capture",t)}function Bs(e,t){for(Go[e]=t,e=0;e<t.length;e++)ux.add(t[e])}var si=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),yd=Object.prototype.hasOwnProperty,pC=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,Am={},Im={};function mC(e){return yd.call(Im,e)?!0:yd.call(Am,e)?!1:pC.test(e)?Im[e]=!0:(Am[e]=!0,!1)}function gC(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function vC(e,t,n,r){if(t===null||typeof t>"u"||gC(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function kt(e,t,n,r,a,s,c){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=a,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=c}var ht={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){ht[e]=new kt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];ht[t]=new kt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){ht[e]=new kt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){ht[e]=new kt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){ht[e]=new kt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){ht[e]=new kt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){ht[e]=new kt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){ht[e]=new kt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){ht[e]=new kt(e,5,!1,e.toLowerCase(),null,!1,!1)});var qh=/[\-:]([a-z])/g;function Qh(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(qh,Qh);ht[t]=new kt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(qh,Qh);ht[t]=new kt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(qh,Qh);ht[t]=new kt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){ht[e]=new kt(e,1,!1,e.toLowerCase(),null,!1,!1)});ht.xlinkHref=new kt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){ht[e]=new kt(e,1,!1,e.toLowerCase(),null,!0,!0)});function Yh(e,t,n,r){var a=ht.hasOwnProperty(t)?ht[t]:null;(a!==null?a.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&(vC(t,n,a,r)&&(n=null),r||a===null?mC(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):a.mustUseProperty?e[a.propertyName]=n===null?a.type===3?!1:"":n:(t=a.attributeName,r=a.attributeNamespace,n===null?e.removeAttribute(t):(a=a.type,n=a===3||a===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var fi=fC.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ka=Symbol.for("react.element"),ss=Symbol.for("react.portal"),os=Symbol.for("react.fragment"),Xh=Symbol.for("react.strict_mode"),_d=Symbol.for("react.profiler"),dx=Symbol.for("react.provider"),hx=Symbol.for("react.context"),Jh=Symbol.for("react.forward_ref"),wd=Symbol.for("react.suspense"),bd=Symbol.for("react.suspense_list"),ef=Symbol.for("react.memo"),Si=Symbol.for("react.lazy"),fx=Symbol.for("react.offscreen"),Dm=Symbol.iterator;function yo(e){return e===null||typeof e!="object"?null:(e=Dm&&e[Dm]||e["@@iterator"],typeof e=="function"?e:null)}var Ke=Object.assign,Mu;function Eo(e){if(Mu===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Mu=t&&t[1]||""}return`
`+Mu+e}var Ru=!1;function Ou(e,t){if(!e||Ru)return"";Ru=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(f){var r=f}Reflect.construct(e,[],t)}else{try{t.call()}catch(f){r=f}e.call(t.prototype)}else{try{throw Error()}catch(f){r=f}e()}}catch(f){if(f&&r&&typeof f.stack=="string"){for(var a=f.stack.split(`
`),s=r.stack.split(`
`),c=a.length-1,u=s.length-1;1<=c&&0<=u&&a[c]!==s[u];)u--;for(;1<=c&&0<=u;c--,u--)if(a[c]!==s[u]){if(c!==1||u!==1)do if(c--,u--,0>u||a[c]!==s[u]){var h=`
`+a[c].replace(" at new "," at ");return e.displayName&&h.includes("<anonymous>")&&(h=h.replace("<anonymous>",e.displayName)),h}while(1<=c&&0<=u);break}}}finally{Ru=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Eo(e):""}function xC(e){switch(e.tag){case 5:return Eo(e.type);case 16:return Eo("Lazy");case 13:return Eo("Suspense");case 19:return Eo("SuspenseList");case 0:case 2:case 15:return e=Ou(e.type,!1),e;case 11:return e=Ou(e.type.render,!1),e;case 1:return e=Ou(e.type,!0),e;default:return""}}function Nd(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case os:return"Fragment";case ss:return"Portal";case _d:return"Profiler";case Xh:return"StrictMode";case wd:return"Suspense";case bd:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case hx:return(e.displayName||"Context")+".Consumer";case dx:return(e._context.displayName||"Context")+".Provider";case Jh:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case ef:return t=e.displayName||null,t!==null?t:Nd(e.type)||"Memo";case Si:t=e._payload,e=e._init;try{return Nd(e(t))}catch{}}return null}function yC(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Nd(t);case 8:return t===Xh?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function Yi(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function px(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function _C(e){var t=px(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var a=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return a.call(this)},set:function(c){r=""+c,s.call(this,c)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(c){r=""+c},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function qa(e){e._valueTracker||(e._valueTracker=_C(e))}function mx(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=px(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function Dl(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function Cd(e,t){var n=t.checked;return Ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function zm(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=Yi(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function gx(e,t){t=t.checked,t!=null&&Yh(e,"checked",t,!1)}function Sd(e,t){gx(e,t);var n=Yi(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?jd(e,t.type,n):t.hasOwnProperty("defaultValue")&&jd(e,t.type,Yi(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Fm(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function jd(e,t,n){(t!=="number"||Dl(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var To=Array.isArray;function vs(e,t,n,r){if(e=e.options,t){t={};for(var a=0;a<n.length;a++)t["$"+n[a]]=!0;for(n=0;n<e.length;n++)a=t.hasOwnProperty("$"+e[n].value),e[n].selected!==a&&(e[n].selected=a),a&&r&&(e[n].defaultSelected=!0)}else{for(n=""+Yi(n),t=null,a=0;a<e.length;a++){if(e[a].value===n){e[a].selected=!0,r&&(e[a].defaultSelected=!0);return}t!==null||e[a].disabled||(t=e[a])}t!==null&&(t.selected=!0)}}function Pd(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(K(91));return Ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function Bm(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(K(92));if(To(n)){if(1<n.length)throw Error(K(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:Yi(n)}}function vx(e,t){var n=Yi(t.value),r=Yi(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function $m(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function xx(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function kd(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?xx(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Qa,yx=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,a){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,a)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Qa=Qa||document.createElement("div"),Qa.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Qa.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Ko(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Do={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},wC=["Webkit","ms","Moz","O"];Object.keys(Do).forEach(function(e){wC.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Do[t]=Do[e]})});function _x(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Do.hasOwnProperty(e)&&Do[e]?(""+t).trim():t+"px"}function wx(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,a=_x(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,a):e[n]=a}}var bC=Ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ld(e,t){if(t){if(bC[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(K(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(K(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(K(61))}if(t.style!=null&&typeof t.style!="object")throw Error(K(62))}}function Ed(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Td=null;function tf(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var Md=null,xs=null,ys=null;function Vm(e){if(e=_a(e)){if(typeof Md!="function")throw Error(K(280));var t=e.stateNode;t&&(t=bc(t),Md(e.stateNode,e.type,t))}}function bx(e){xs?ys?ys.push(e):ys=[e]:xs=e}function Nx(){if(xs){var e=xs,t=ys;if(ys=xs=null,Vm(e),t)for(e=0;e<t.length;e++)Vm(t[e])}}function Cx(e,t){return e(t)}function Sx(){}var Au=!1;function jx(e,t,n){if(Au)return e(t,n);Au=!0;try{return Cx(e,t,n)}finally{Au=!1,(xs!==null||ys!==null)&&(Sx(),Nx())}}function qo(e,t){var n=e.stateNode;if(n===null)return null;var r=bc(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(K(231,t,typeof n));return n}var Rd=!1;if(si)try{var _o={};Object.defineProperty(_o,"passive",{get:function(){Rd=!0}}),window.addEventListener("test",_o,_o),window.removeEventListener("test",_o,_o)}catch{Rd=!1}function NC(e,t,n,r,a,s,c,u,h){var f=Array.prototype.slice.call(arguments,3);try{t.apply(n,f)}catch(g){this.onError(g)}}var zo=!1,zl=null,Fl=!1,Od=null,CC={onError:function(e){zo=!0,zl=e}};function SC(e,t,n,r,a,s,c,u,h){zo=!1,zl=null,NC.apply(CC,arguments)}function jC(e,t,n,r,a,s,c,u,h){if(SC.apply(this,arguments),zo){if(zo){var f=zl;zo=!1,zl=null}else throw Error(K(198));Fl||(Fl=!0,Od=f)}}function Br(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function Px(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Um(e){if(Br(e)!==e)throw Error(K(188))}function PC(e){var t=e.alternate;if(!t){if(t=Br(e),t===null)throw Error(K(188));return t!==e?null:e}for(var n=e,r=t;;){var a=n.return;if(a===null)break;var s=a.alternate;if(s===null){if(r=a.return,r!==null){n=r;continue}break}if(a.child===s.child){for(s=a.child;s;){if(s===n)return Um(a),e;if(s===r)return Um(a),t;s=s.sibling}throw Error(K(188))}if(n.return!==r.return)n=a,r=s;else{for(var c=!1,u=a.child;u;){if(u===n){c=!0,n=a,r=s;break}if(u===r){c=!0,r=a,n=s;break}u=u.sibling}if(!c){for(u=s.child;u;){if(u===n){c=!0,n=s,r=a;break}if(u===r){c=!0,r=s,n=a;break}u=u.sibling}if(!c)throw Error(K(189))}}if(n.alternate!==r)throw Error(K(190))}if(n.tag!==3)throw Error(K(188));return n.stateNode.current===n?e:t}function kx(e){return e=PC(e),e!==null?Lx(e):null}function Lx(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Lx(e);if(t!==null)return t;e=e.sibling}return null}var Ex=Wt.unstable_scheduleCallback,Hm=Wt.unstable_cancelCallback,kC=Wt.unstable_shouldYield,LC=Wt.unstable_requestPaint,Xe=Wt.unstable_now,EC=Wt.unstable_getCurrentPriorityLevel,nf=Wt.unstable_ImmediatePriority,Tx=Wt.unstable_UserBlockingPriority,Bl=Wt.unstable_NormalPriority,TC=Wt.unstable_LowPriority,Mx=Wt.unstable_IdlePriority,xc=null,Fn=null;function MC(e){if(Fn&&typeof Fn.onCommitFiberRoot=="function")try{Fn.onCommitFiberRoot(xc,e,void 0,(e.current.flags&128)===128)}catch{}}var _n=Math.clz32?Math.clz32:AC,RC=Math.log,OC=Math.LN2;function AC(e){return e>>>=0,e===0?32:31-(RC(e)/OC|0)|0}var Ya=64,Xa=4194304;function Mo(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function $l(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,a=e.suspendedLanes,s=e.pingedLanes,c=n&268435455;if(c!==0){var u=c&~a;u!==0?r=Mo(u):(s&=c,s!==0&&(r=Mo(s)))}else c=n&~a,c!==0?r=Mo(c):s!==0&&(r=Mo(s));if(r===0)return 0;if(t!==0&&t!==r&&!(t&a)&&(a=r&-r,s=t&-t,a>=s||a===16&&(s&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-_n(t),a=1<<n,r|=e[n],t&=~a;return r}function IC(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function DC(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,a=e.expirationTimes,s=e.pendingLanes;0<s;){var c=31-_n(s),u=1<<c,h=a[c];h===-1?(!(u&n)||u&r)&&(a[c]=IC(u,t)):h<=t&&(e.expiredLanes|=u),s&=~u}}function Ad(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Rx(){var e=Ya;return Ya<<=1,!(Ya&4194240)&&(Ya=64),e}function Iu(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function xa(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-_n(t),e[t]=n}function zC(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var a=31-_n(n),s=1<<a;t[a]=0,r[a]=-1,e[a]=-1,n&=~s}}function rf(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-_n(n),a=1<<r;a&t|e[r]&t&&(e[r]|=t),n&=~a}}var Ie=0;function Ox(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Ax,sf,Ix,Dx,zx,Id=!1,Ja=[],Bi=null,$i=null,Vi=null,Qo=new Map,Yo=new Map,Pi=[],FC="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Zm(e,t){switch(e){case"focusin":case"focusout":Bi=null;break;case"dragenter":case"dragleave":$i=null;break;case"mouseover":case"mouseout":Vi=null;break;case"pointerover":case"pointerout":Qo.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yo.delete(t.pointerId)}}function wo(e,t,n,r,a,s){return e===null||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[a]},t!==null&&(t=_a(t),t!==null&&sf(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,a!==null&&t.indexOf(a)===-1&&t.push(a),e)}function BC(e,t,n,r,a){switch(t){case"focusin":return Bi=wo(Bi,e,t,n,r,a),!0;case"dragenter":return $i=wo($i,e,t,n,r,a),!0;case"mouseover":return Vi=wo(Vi,e,t,n,r,a),!0;case"pointerover":var s=a.pointerId;return Qo.set(s,wo(Qo.get(s)||null,e,t,n,r,a)),!0;case"gotpointercapture":return s=a.pointerId,Yo.set(s,wo(Yo.get(s)||null,e,t,n,r,a)),!0}return!1}function Fx(e){var t=mr(e.target);if(t!==null){var n=Br(t);if(n!==null){if(t=n.tag,t===13){if(t=Px(n),t!==null){e.blockedOn=t,zx(e.priority,function(){Ix(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function _l(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Dd(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);Td=r,n.target.dispatchEvent(r),Td=null}else return t=_a(n),t!==null&&sf(t),e.blockedOn=n,!1;t.shift()}return!0}function Wm(e,t,n){_l(e)&&n.delete(t)}function $C(){Id=!1,Bi!==null&&_l(Bi)&&(Bi=null),$i!==null&&_l($i)&&($i=null),Vi!==null&&_l(Vi)&&(Vi=null),Qo.forEach(Wm),Yo.forEach(Wm)}function bo(e,t){e.blockedOn===t&&(e.blockedOn=null,Id||(Id=!0,Wt.unstable_scheduleCallback(Wt.unstable_NormalPriority,$C)))}function Xo(e){function t(a){return bo(a,e)}if(0<Ja.length){bo(Ja[0],e);for(var n=1;n<Ja.length;n++){var r=Ja[n];r.blockedOn===e&&(r.blockedOn=null)}}for(Bi!==null&&bo(Bi,e),$i!==null&&bo($i,e),Vi!==null&&bo(Vi,e),Qo.forEach(t),Yo.forEach(t),n=0;n<Pi.length;n++)r=Pi[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<Pi.length&&(n=Pi[0],n.blockedOn===null);)Fx(n),n.blockedOn===null&&Pi.shift()}var _s=fi.ReactCurrentBatchConfig,Vl=!0;function VC(e,t,n,r){var a=Ie,s=_s.transition;_s.transition=null;try{Ie=1,of(e,t,n,r)}finally{Ie=a,_s.transition=s}}function UC(e,t,n,r){var a=Ie,s=_s.transition;_s.transition=null;try{Ie=4,of(e,t,n,r)}finally{Ie=a,_s.transition=s}}function of(e,t,n,r){if(Vl){var a=Dd(e,t,n,r);if(a===null)Wu(e,t,r,Ul,n),Zm(e,r);else if(BC(a,e,t,n,r))r.stopPropagation();else if(Zm(e,r),t&4&&-1<FC.indexOf(e)){for(;a!==null;){var s=_a(a);if(s!==null&&Ax(s),s=Dd(e,t,n,r),s===null&&Wu(e,t,r,Ul,n),s===a)break;a=s}a!==null&&r.stopPropagation()}else Wu(e,t,r,null,n)}}var Ul=null;function Dd(e,t,n,r){if(Ul=null,e=tf(r),e=mr(e),e!==null)if(t=Br(e),t===null)e=null;else if(n=t.tag,n===13){if(e=Px(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Ul=e,null}function Bx(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(EC()){case nf:return 1;case Tx:return 4;case Bl:case TC:return 16;case Mx:return 536870912;default:return 16}default:return 16}}var zi=null,af=null,wl=null;function $x(){if(wl)return wl;var e,t=af,n=t.length,r,a="value"in zi?zi.value:zi.textContent,s=a.length;for(e=0;e<n&&t[e]===a[e];e++);var c=n-e;for(r=1;r<=c&&t[n-r]===a[s-r];r++);return wl=a.slice(e,1<r?1-r:void 0)}function bl(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function el(){return!0}function Gm(){return!1}function Kt(e){function t(n,r,a,s,c){this._reactName=n,this._targetInst=a,this.type=r,this.nativeEvent=s,this.target=c,this.currentTarget=null;for(var u in e)e.hasOwnProperty(u)&&(n=e[u],this[u]=n?n(s):s[u]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?el:Gm,this.isPropagationStopped=Gm,this}return Ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=el)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=el)},persist:function(){},isPersistent:el}),t}var Xs={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},lf=Kt(Xs),ya=Ke({},Xs,{view:0,detail:0}),HC=Kt(ya),Du,zu,No,yc=Ke({},ya,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:cf,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==No&&(No&&e.type==="mousemove"?(Du=e.screenX-No.screenX,zu=e.screenY-No.screenY):zu=Du=0,No=e),Du)},movementY:function(e){return"movementY"in e?e.movementY:zu}}),Km=Kt(yc),ZC=Ke({},yc,{dataTransfer:0}),WC=Kt(ZC),GC=Ke({},ya,{relatedTarget:0}),Fu=Kt(GC),KC=Ke({},Xs,{animationName:0,elapsedTime:0,pseudoElement:0}),qC=Kt(KC),QC=Ke({},Xs,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),YC=Kt(QC),XC=Ke({},Xs,{data:0}),qm=Kt(XC),JC={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},eS={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},tS={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function nS(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=tS[e])?!!t[e]:!1}function cf(){return nS}var iS=Ke({},ya,{key:function(e){if(e.key){var t=JC[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=bl(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?eS[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:cf,charCode:function(e){return e.type==="keypress"?bl(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?bl(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),rS=Kt(iS),sS=Ke({},yc,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Qm=Kt(sS),oS=Ke({},ya,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:cf}),aS=Kt(oS),lS=Ke({},Xs,{propertyName:0,elapsedTime:0,pseudoElement:0}),cS=Kt(lS),uS=Ke({},yc,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),dS=Kt(uS),hS=[9,13,27,32],uf=si&&"CompositionEvent"in window,Fo=null;si&&"documentMode"in document&&(Fo=document.documentMode);var fS=si&&"TextEvent"in window&&!Fo,Vx=si&&(!uf||Fo&&8<Fo&&11>=Fo),Ym=" ",Xm=!1;function Ux(e,t){switch(e){case"keyup":return hS.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Hx(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var as=!1;function pS(e,t){switch(e){case"compositionend":return Hx(t);case"keypress":return t.which!==32?null:(Xm=!0,Ym);case"textInput":return e=t.data,e===Ym&&Xm?null:e;default:return null}}function mS(e,t){if(as)return e==="compositionend"||!uf&&Ux(e,t)?(e=$x(),wl=af=zi=null,as=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Vx&&t.locale!=="ko"?null:t.data;default:return null}}var gS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Jm(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!gS[e.type]:t==="textarea"}function Zx(e,t,n,r){bx(r),t=Hl(t,"onChange"),0<t.length&&(n=new lf("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Bo=null,Jo=null;function vS(e){ny(e,0)}function _c(e){var t=us(e);if(mx(t))return e}function xS(e,t){if(e==="change")return t}var Wx=!1;if(si){var Bu;if(si){var $u="oninput"in document;if(!$u){var eg=document.createElement("div");eg.setAttribute("oninput","return;"),$u=typeof eg.oninput=="function"}Bu=$u}else Bu=!1;Wx=Bu&&(!document.documentMode||9<document.documentMode)}function tg(){Bo&&(Bo.detachEvent("onpropertychange",Gx),Jo=Bo=null)}function Gx(e){if(e.propertyName==="value"&&_c(Jo)){var t=[];Zx(t,Jo,e,tf(e)),jx(vS,t)}}function yS(e,t,n){e==="focusin"?(tg(),Bo=t,Jo=n,Bo.attachEvent("onpropertychange",Gx)):e==="focusout"&&tg()}function _S(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return _c(Jo)}function wS(e,t){if(e==="click")return _c(t)}function bS(e,t){if(e==="input"||e==="change")return _c(t)}function NS(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var bn=typeof Object.is=="function"?Object.is:NS;function ea(e,t){if(bn(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var a=n[r];if(!yd.call(t,a)||!bn(e[a],t[a]))return!1}return!0}function ng(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ig(e,t){var n=ng(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=ng(n)}}function Kx(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?Kx(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function qx(){for(var e=window,t=Dl();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=Dl(e.document)}return t}function df(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function CS(e){var t=qx(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&Kx(n.ownerDocument.documentElement,n)){if(r!==null&&df(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var a=n.textContent.length,s=Math.min(r.start,a);r=r.end===void 0?s:Math.min(r.end,a),!e.extend&&s>r&&(a=r,r=s,s=a),a=ig(n,s);var c=ig(n,r);a&&c&&(e.rangeCount!==1||e.anchorNode!==a.node||e.anchorOffset!==a.offset||e.focusNode!==c.node||e.focusOffset!==c.offset)&&(t=t.createRange(),t.setStart(a.node,a.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(c.node,c.offset)):(t.setEnd(c.node,c.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var SS=si&&"documentMode"in document&&11>=document.documentMode,ls=null,zd=null,$o=null,Fd=!1;function rg(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Fd||ls==null||ls!==Dl(r)||(r=ls,"selectionStart"in r&&df(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),$o&&ea($o,r)||($o=r,r=Hl(zd,"onSelect"),0<r.length&&(t=new lf("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=ls)))}function tl(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var cs={animationend:tl("Animation","AnimationEnd"),animationiteration:tl("Animation","AnimationIteration"),animationstart:tl("Animation","AnimationStart"),transitionend:tl("Transition","TransitionEnd")},Vu={},Qx={};si&&(Qx=document.createElement("div").style,"AnimationEvent"in window||(delete cs.animationend.animation,delete cs.animationiteration.animation,delete cs.animationstart.animation),"TransitionEvent"in window||delete cs.transitionend.transition);function wc(e){if(Vu[e])return Vu[e];if(!cs[e])return e;var t=cs[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in Qx)return Vu[e]=t[n];return e}var Yx=wc("animationend"),Xx=wc("animationiteration"),Jx=wc("animationstart"),ey=wc("transitionend"),ty=new Map,sg="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function nr(e,t){ty.set(e,t),Fr(t,[e])}for(var Uu=0;Uu<sg.length;Uu++){var Hu=sg[Uu],jS=Hu.toLowerCase(),PS=Hu[0].toUpperCase()+Hu.slice(1);nr(jS,"on"+PS)}nr(Yx,"onAnimationEnd");nr(Xx,"onAnimationIteration");nr(Jx,"onAnimationStart");nr("dblclick","onDoubleClick");nr("focusin","onFocus");nr("focusout","onBlur");nr(ey,"onTransitionEnd");Bs("onMouseEnter",["mouseout","mouseover"]);Bs("onMouseLeave",["mouseout","mouseover"]);Bs("onPointerEnter",["pointerout","pointerover"]);Bs("onPointerLeave",["pointerout","pointerover"]);Fr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Fr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Fr("onBeforeInput",["compositionend","keypress","textInput","paste"]);Fr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Fr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ro="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kS=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ro));function og(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,jC(r,t,void 0,e),e.currentTarget=null}function ny(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],a=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var c=r.length-1;0<=c;c--){var u=r[c],h=u.instance,f=u.currentTarget;if(u=u.listener,h!==s&&a.isPropagationStopped())break e;og(a,u,f),s=h}else for(c=0;c<r.length;c++){if(u=r[c],h=u.instance,f=u.currentTarget,u=u.listener,h!==s&&a.isPropagationStopped())break e;og(a,u,f),s=h}}}if(Fl)throw e=Od,Fl=!1,Od=null,e}function $e(e,t){var n=t[Hd];n===void 0&&(n=t[Hd]=new Set);var r=e+"__bubble";n.has(r)||(iy(t,e,2,!1),n.add(r))}function Zu(e,t,n){var r=0;t&&(r|=4),iy(n,e,r,t)}var nl="_reactListening"+Math.random().toString(36).slice(2);function ta(e){if(!e[nl]){e[nl]=!0,ux.forEach(function(n){n!=="selectionchange"&&(kS.has(n)||Zu(n,!1,e),Zu(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[nl]||(t[nl]=!0,Zu("selectionchange",!1,t))}}function iy(e,t,n,r){switch(Bx(t)){case 1:var a=VC;break;case 4:a=UC;break;default:a=of}n=a.bind(null,t,n,e),a=void 0,!Rd||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(a=!0),r?a!==void 0?e.addEventListener(t,n,{capture:!0,passive:a}):e.addEventListener(t,n,!0):a!==void 0?e.addEventListener(t,n,{passive:a}):e.addEventListener(t,n,!1)}function Wu(e,t,n,r,a){var s=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var c=r.tag;if(c===3||c===4){var u=r.stateNode.containerInfo;if(u===a||u.nodeType===8&&u.parentNode===a)break;if(c===4)for(c=r.return;c!==null;){var h=c.tag;if((h===3||h===4)&&(h=c.stateNode.containerInfo,h===a||h.nodeType===8&&h.parentNode===a))return;c=c.return}for(;u!==null;){if(c=mr(u),c===null)return;if(h=c.tag,h===5||h===6){r=s=c;continue e}u=u.parentNode}}r=r.return}jx(function(){var f=s,g=tf(n),m=[];e:{var y=ty.get(e);if(y!==void 0){var b=lf,j=e;switch(e){case"keypress":if(bl(n)===0)break e;case"keydown":case"keyup":b=rS;break;case"focusin":j="focus",b=Fu;break;case"focusout":j="blur",b=Fu;break;case"beforeblur":case"afterblur":b=Fu;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":b=Km;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":b=WC;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":b=aS;break;case Yx:case Xx:case Jx:b=qC;break;case ey:b=cS;break;case"scroll":b=HC;break;case"wheel":b=dS;break;case"copy":case"cut":case"paste":b=YC;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":b=Qm}var v=(t&4)!==0,S=!v&&e==="scroll",N=v?y!==null?y+"Capture":null:y;v=[];for(var w=f,C;w!==null;){C=w;var k=C.stateNode;if(C.tag===5&&k!==null&&(C=k,N!==null&&(k=qo(w,N),k!=null&&v.push(na(w,k,C)))),S)break;w=w.return}0<v.length&&(y=new b(y,j,null,n,g),m.push({event:y,listeners:v}))}}if(!(t&7)){e:{if(y=e==="mouseover"||e==="pointerover",b=e==="mouseout"||e==="pointerout",y&&n!==Td&&(j=n.relatedTarget||n.fromElement)&&(mr(j)||j[oi]))break e;if((b||y)&&(y=g.window===g?g:(y=g.ownerDocument)?y.defaultView||y.parentWindow:window,b?(j=n.relatedTarget||n.toElement,b=f,j=j?mr(j):null,j!==null&&(S=Br(j),j!==S||j.tag!==5&&j.tag!==6)&&(j=null)):(b=null,j=f),b!==j)){if(v=Km,k="onMouseLeave",N="onMouseEnter",w="mouse",(e==="pointerout"||e==="pointerover")&&(v=Qm,k="onPointerLeave",N="onPointerEnter",w="pointer"),S=b==null?y:us(b),C=j==null?y:us(j),y=new v(k,w+"leave",b,n,g),y.target=S,y.relatedTarget=C,k=null,mr(g)===f&&(v=new v(N,w+"enter",j,n,g),v.target=C,v.relatedTarget=S,k=v),S=k,b&&j)t:{for(v=b,N=j,w=0,C=v;C;C=Jr(C))w++;for(C=0,k=N;k;k=Jr(k))C++;for(;0<w-C;)v=Jr(v),w--;for(;0<C-w;)N=Jr(N),C--;for(;w--;){if(v===N||N!==null&&v===N.alternate)break t;v=Jr(v),N=Jr(N)}v=null}else v=null;b!==null&&ag(m,y,b,v,!1),j!==null&&S!==null&&ag(m,S,j,v,!0)}}e:{if(y=f?us(f):window,b=y.nodeName&&y.nodeName.toLowerCase(),b==="select"||b==="input"&&y.type==="file")var E=xS;else if(Jm(y))if(Wx)E=bS;else{E=_S;var R=yS}else(b=y.nodeName)&&b.toLowerCase()==="input"&&(y.type==="checkbox"||y.type==="radio")&&(E=wS);if(E&&(E=E(e,f))){Zx(m,E,n,g);break e}R&&R(e,y,f),e==="focusout"&&(R=y._wrapperState)&&R.controlled&&y.type==="number"&&jd(y,"number",y.value)}switch(R=f?us(f):window,e){case"focusin":(Jm(R)||R.contentEditable==="true")&&(ls=R,zd=f,$o=null);break;case"focusout":$o=zd=ls=null;break;case"mousedown":Fd=!0;break;case"contextmenu":case"mouseup":case"dragend":Fd=!1,rg(m,n,g);break;case"selectionchange":if(SS)break;case"keydown":case"keyup":rg(m,n,g)}var O;if(uf)e:{switch(e){case"compositionstart":var D="onCompositionStart";break e;case"compositionend":D="onCompositionEnd";break e;case"compositionupdate":D="onCompositionUpdate";break e}D=void 0}else as?Ux(e,n)&&(D="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(D="onCompositionStart");D&&(Vx&&n.locale!=="ko"&&(as||D!=="onCompositionStart"?D==="onCompositionEnd"&&as&&(O=$x()):(zi=g,af="value"in zi?zi.value:zi.textContent,as=!0)),R=Hl(f,D),0<R.length&&(D=new qm(D,e,null,n,g),m.push({event:D,listeners:R}),O?D.data=O:(O=Hx(n),O!==null&&(D.data=O)))),(O=fS?pS(e,n):mS(e,n))&&(f=Hl(f,"onBeforeInput"),0<f.length&&(g=new qm("onBeforeInput","beforeinput",null,n,g),m.push({event:g,listeners:f}),g.data=O))}ny(m,t)})}function na(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Hl(e,t){for(var n=t+"Capture",r=[];e!==null;){var a=e,s=a.stateNode;a.tag===5&&s!==null&&(a=s,s=qo(e,n),s!=null&&r.unshift(na(e,s,a)),s=qo(e,t),s!=null&&r.push(na(e,s,a))),e=e.return}return r}function Jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function ag(e,t,n,r,a){for(var s=t._reactName,c=[];n!==null&&n!==r;){var u=n,h=u.alternate,f=u.stateNode;if(h!==null&&h===r)break;u.tag===5&&f!==null&&(u=f,a?(h=qo(n,s),h!=null&&c.unshift(na(n,h,u))):a||(h=qo(n,s),h!=null&&c.push(na(n,h,u)))),n=n.return}c.length!==0&&e.push({event:t,listeners:c})}var LS=/\r\n?/g,ES=/\u0000|\uFFFD/g;function lg(e){return(typeof e=="string"?e:""+e).replace(LS,`
`).replace(ES,"")}function il(e,t,n){if(t=lg(t),lg(e)!==t&&n)throw Error(K(425))}function Zl(){}var Bd=null,$d=null;function Vd(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Ud=typeof setTimeout=="function"?setTimeout:void 0,TS=typeof clearTimeout=="function"?clearTimeout:void 0,cg=typeof Promise=="function"?Promise:void 0,MS=typeof queueMicrotask=="function"?queueMicrotask:typeof cg<"u"?function(e){return cg.resolve(null).then(e).catch(RS)}:Ud;function RS(e){setTimeout(function(){throw e})}function Gu(e,t){var n=t,r=0;do{var a=n.nextSibling;if(e.removeChild(n),a&&a.nodeType===8)if(n=a.data,n==="/$"){if(r===0){e.removeChild(a),Xo(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=a}while(n);Xo(t)}function Ui(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function ug(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var Js=Math.random().toString(36).slice(2),Dn="__reactFiber$"+Js,ia="__reactProps$"+Js,oi="__reactContainer$"+Js,Hd="__reactEvents$"+Js,OS="__reactListeners$"+Js,AS="__reactHandles$"+Js;function mr(e){var t=e[Dn];if(t)return t;for(var n=e.parentNode;n;){if(t=n[oi]||n[Dn]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=ug(e);e!==null;){if(n=e[Dn])return n;e=ug(e)}return t}e=n,n=e.parentNode}return null}function _a(e){return e=e[Dn]||e[oi],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function us(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(K(33))}function bc(e){return e[ia]||null}var Zd=[],ds=-1;function ir(e){return{current:e}}function Ue(e){0>ds||(e.current=Zd[ds],Zd[ds]=null,ds--)}function Fe(e,t){ds++,Zd[ds]=e.current,e.current=t}var Xi={},vt=ir(Xi),Ot=ir(!1),Lr=Xi;function $s(e,t){var n=e.type.contextTypes;if(!n)return Xi;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var a={},s;for(s in n)a[s]=t[s];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=a),a}function At(e){return e=e.childContextTypes,e!=null}function Wl(){Ue(Ot),Ue(vt)}function dg(e,t,n){if(vt.current!==Xi)throw Error(K(168));Fe(vt,t),Fe(Ot,n)}function ry(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var a in r)if(!(a in t))throw Error(K(108,yC(e)||"Unknown",a));return Ke({},n,r)}function Gl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Xi,Lr=vt.current,Fe(vt,e),Fe(Ot,Ot.current),!0}function hg(e,t,n){var r=e.stateNode;if(!r)throw Error(K(169));n?(e=ry(e,t,Lr),r.__reactInternalMemoizedMergedChildContext=e,Ue(Ot),Ue(vt),Fe(vt,e)):Ue(Ot),Fe(Ot,n)}var Jn=null,Nc=!1,Ku=!1;function sy(e){Jn===null?Jn=[e]:Jn.push(e)}function IS(e){Nc=!0,sy(e)}function rr(){if(!Ku&&Jn!==null){Ku=!0;var e=0,t=Ie;try{var n=Jn;for(Ie=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Jn=null,Nc=!1}catch(a){throw Jn!==null&&(Jn=Jn.slice(e+1)),Ex(nf,rr),a}finally{Ie=t,Ku=!1}}return null}var hs=[],fs=0,Kl=null,ql=0,rn=[],sn=0,Er=null,ti=1,ni="";function fr(e,t){hs[fs++]=ql,hs[fs++]=Kl,Kl=e,ql=t}function oy(e,t,n){rn[sn++]=ti,rn[sn++]=ni,rn[sn++]=Er,Er=e;var r=ti;e=ni;var a=32-_n(r)-1;r&=~(1<<a),n+=1;var s=32-_n(t)+a;if(30<s){var c=a-a%5;s=(r&(1<<c)-1).toString(32),r>>=c,a-=c,ti=1<<32-_n(t)+a|n<<a|r,ni=s+e}else ti=1<<s|n<<a|r,ni=e}function hf(e){e.return!==null&&(fr(e,1),oy(e,1,0))}function ff(e){for(;e===Kl;)Kl=hs[--fs],hs[fs]=null,ql=hs[--fs],hs[fs]=null;for(;e===Er;)Er=rn[--sn],rn[sn]=null,ni=rn[--sn],rn[sn]=null,ti=rn[--sn],rn[sn]=null}var Ht=null,Ut=null,He=!1,vn=null;function ay(e,t){var n=on(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function fg(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,Ht=e,Ut=Ui(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,Ht=e,Ut=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=Er!==null?{id:ti,overflow:ni}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=on(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,Ht=e,Ut=null,!0):!1;default:return!1}}function Wd(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Gd(e){if(He){var t=Ut;if(t){var n=t;if(!fg(e,t)){if(Wd(e))throw Error(K(418));t=Ui(n.nextSibling);var r=Ht;t&&fg(e,t)?ay(r,n):(e.flags=e.flags&-4097|2,He=!1,Ht=e)}}else{if(Wd(e))throw Error(K(418));e.flags=e.flags&-4097|2,He=!1,Ht=e}}}function pg(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;Ht=e}function rl(e){if(e!==Ht)return!1;if(!He)return pg(e),He=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Vd(e.type,e.memoizedProps)),t&&(t=Ut)){if(Wd(e))throw ly(),Error(K(418));for(;t;)ay(e,t),t=Ui(t.nextSibling)}if(pg(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(K(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){Ut=Ui(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}Ut=null}}else Ut=Ht?Ui(e.stateNode.nextSibling):null;return!0}function ly(){for(var e=Ut;e;)e=Ui(e.nextSibling)}function Vs(){Ut=Ht=null,He=!1}function pf(e){vn===null?vn=[e]:vn.push(e)}var DS=fi.ReactCurrentBatchConfig;function Co(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(K(309));var r=n.stateNode}if(!r)throw Error(K(147,e));var a=r,s=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===s?t.ref:(t=function(c){var u=a.refs;c===null?delete u[s]:u[s]=c},t._stringRef=s,t)}if(typeof e!="string")throw Error(K(284));if(!n._owner)throw Error(K(290,e))}return e}function sl(e,t){throw e=Object.prototype.toString.call(t),Error(K(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function mg(e){var t=e._init;return t(e._payload)}function cy(e){function t(N,w){if(e){var C=N.deletions;C===null?(N.deletions=[w],N.flags|=16):C.push(w)}}function n(N,w){if(!e)return null;for(;w!==null;)t(N,w),w=w.sibling;return null}function r(N,w){for(N=new Map;w!==null;)w.key!==null?N.set(w.key,w):N.set(w.index,w),w=w.sibling;return N}function a(N,w){return N=Gi(N,w),N.index=0,N.sibling=null,N}function s(N,w,C){return N.index=C,e?(C=N.alternate,C!==null?(C=C.index,C<w?(N.flags|=2,w):C):(N.flags|=2,w)):(N.flags|=1048576,w)}function c(N){return e&&N.alternate===null&&(N.flags|=2),N}function u(N,w,C,k){return w===null||w.tag!==6?(w=td(C,N.mode,k),w.return=N,w):(w=a(w,C),w.return=N,w)}function h(N,w,C,k){var E=C.type;return E===os?g(N,w,C.props.children,k,C.key):w!==null&&(w.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Si&&mg(E)===w.type)?(k=a(w,C.props),k.ref=Co(N,w,C),k.return=N,k):(k=Ll(C.type,C.key,C.props,null,N.mode,k),k.ref=Co(N,w,C),k.return=N,k)}function f(N,w,C,k){return w===null||w.tag!==4||w.stateNode.containerInfo!==C.containerInfo||w.stateNode.implementation!==C.implementation?(w=nd(C,N.mode,k),w.return=N,w):(w=a(w,C.children||[]),w.return=N,w)}function g(N,w,C,k,E){return w===null||w.tag!==7?(w=Pr(C,N.mode,k,E),w.return=N,w):(w=a(w,C),w.return=N,w)}function m(N,w,C){if(typeof w=="string"&&w!==""||typeof w=="number")return w=td(""+w,N.mode,C),w.return=N,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ka:return C=Ll(w.type,w.key,w.props,null,N.mode,C),C.ref=Co(N,null,w),C.return=N,C;case ss:return w=nd(w,N.mode,C),w.return=N,w;case Si:var k=w._init;return m(N,k(w._payload),C)}if(To(w)||yo(w))return w=Pr(w,N.mode,C,null),w.return=N,w;sl(N,w)}return null}function y(N,w,C,k){var E=w!==null?w.key:null;if(typeof C=="string"&&C!==""||typeof C=="number")return E!==null?null:u(N,w,""+C,k);if(typeof C=="object"&&C!==null){switch(C.$$typeof){case Ka:return C.key===E?h(N,w,C,k):null;case ss:return C.key===E?f(N,w,C,k):null;case Si:return E=C._init,y(N,w,E(C._payload),k)}if(To(C)||yo(C))return E!==null?null:g(N,w,C,k,null);sl(N,C)}return null}function b(N,w,C,k,E){if(typeof k=="string"&&k!==""||typeof k=="number")return N=N.get(C)||null,u(w,N,""+k,E);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case Ka:return N=N.get(k.key===null?C:k.key)||null,h(w,N,k,E);case ss:return N=N.get(k.key===null?C:k.key)||null,f(w,N,k,E);case Si:var R=k._init;return b(N,w,C,R(k._payload),E)}if(To(k)||yo(k))return N=N.get(C)||null,g(w,N,k,E,null);sl(w,k)}return null}function j(N,w,C,k){for(var E=null,R=null,O=w,D=w=0,V=null;O!==null&&D<C.length;D++){O.index>D?(V=O,O=null):V=O.sibling;var H=y(N,O,C[D],k);if(H===null){O===null&&(O=V);break}e&&O&&H.alternate===null&&t(N,O),w=s(H,w,D),R===null?E=H:R.sibling=H,R=H,O=V}if(D===C.length)return n(N,O),He&&fr(N,D),E;if(O===null){for(;D<C.length;D++)O=m(N,C[D],k),O!==null&&(w=s(O,w,D),R===null?E=O:R.sibling=O,R=O);return He&&fr(N,D),E}for(O=r(N,O);D<C.length;D++)V=b(O,N,D,C[D],k),V!==null&&(e&&V.alternate!==null&&O.delete(V.key===null?D:V.key),w=s(V,w,D),R===null?E=V:R.sibling=V,R=V);return e&&O.forEach(function(Q){return t(N,Q)}),He&&fr(N,D),E}function v(N,w,C,k){var E=yo(C);if(typeof E!="function")throw Error(K(150));if(C=E.call(C),C==null)throw Error(K(151));for(var R=E=null,O=w,D=w=0,V=null,H=C.next();O!==null&&!H.done;D++,H=C.next()){O.index>D?(V=O,O=null):V=O.sibling;var Q=y(N,O,H.value,k);if(Q===null){O===null&&(O=V);break}e&&O&&Q.alternate===null&&t(N,O),w=s(Q,w,D),R===null?E=Q:R.sibling=Q,R=Q,O=V}if(H.done)return n(N,O),He&&fr(N,D),E;if(O===null){for(;!H.done;D++,H=C.next())H=m(N,H.value,k),H!==null&&(w=s(H,w,D),R===null?E=H:R.sibling=H,R=H);return He&&fr(N,D),E}for(O=r(N,O);!H.done;D++,H=C.next())H=b(O,N,D,H.value,k),H!==null&&(e&&H.alternate!==null&&O.delete(H.key===null?D:H.key),w=s(H,w,D),R===null?E=H:R.sibling=H,R=H);return e&&O.forEach(function(W){return t(N,W)}),He&&fr(N,D),E}function S(N,w,C,k){if(typeof C=="object"&&C!==null&&C.type===os&&C.key===null&&(C=C.props.children),typeof C=="object"&&C!==null){switch(C.$$typeof){case Ka:e:{for(var E=C.key,R=w;R!==null;){if(R.key===E){if(E=C.type,E===os){if(R.tag===7){n(N,R.sibling),w=a(R,C.props.children),w.return=N,N=w;break e}}else if(R.elementType===E||typeof E=="object"&&E!==null&&E.$$typeof===Si&&mg(E)===R.type){n(N,R.sibling),w=a(R,C.props),w.ref=Co(N,R,C),w.return=N,N=w;break e}n(N,R);break}else t(N,R);R=R.sibling}C.type===os?(w=Pr(C.props.children,N.mode,k,C.key),w.return=N,N=w):(k=Ll(C.type,C.key,C.props,null,N.mode,k),k.ref=Co(N,w,C),k.return=N,N=k)}return c(N);case ss:e:{for(R=C.key;w!==null;){if(w.key===R)if(w.tag===4&&w.stateNode.containerInfo===C.containerInfo&&w.stateNode.implementation===C.implementation){n(N,w.sibling),w=a(w,C.children||[]),w.return=N,N=w;break e}else{n(N,w);break}else t(N,w);w=w.sibling}w=nd(C,N.mode,k),w.return=N,N=w}return c(N);case Si:return R=C._init,S(N,w,R(C._payload),k)}if(To(C))return j(N,w,C,k);if(yo(C))return v(N,w,C,k);sl(N,C)}return typeof C=="string"&&C!==""||typeof C=="number"?(C=""+C,w!==null&&w.tag===6?(n(N,w.sibling),w=a(w,C),w.return=N,N=w):(n(N,w),w=td(C,N.mode,k),w.return=N,N=w),c(N)):n(N,w)}return S}var Us=cy(!0),uy=cy(!1),Ql=ir(null),Yl=null,ps=null,mf=null;function gf(){mf=ps=Yl=null}function vf(e){var t=Ql.current;Ue(Ql),e._currentValue=t}function Kd(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function ws(e,t){Yl=e,mf=ps=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(Rt=!0),e.firstContext=null)}function ln(e){var t=e._currentValue;if(mf!==e)if(e={context:e,memoizedValue:t,next:null},ps===null){if(Yl===null)throw Error(K(308));ps=e,Yl.dependencies={lanes:0,firstContext:e}}else ps=ps.next=e;return t}var gr=null;function xf(e){gr===null?gr=[e]:gr.push(e)}function dy(e,t,n,r){var a=t.interleaved;return a===null?(n.next=n,xf(t)):(n.next=a.next,a.next=n),t.interleaved=n,ai(e,r)}function ai(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var ji=!1;function yf(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function hy(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function ii(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Hi(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,Me&2){var a=r.pending;return a===null?t.next=t:(t.next=a.next,a.next=t),r.pending=t,ai(e,n)}return a=r.interleaved,a===null?(t.next=t,xf(r)):(t.next=a.next,a.next=t),r.interleaved=t,ai(e,n)}function Nl(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rf(e,n)}}function gg(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var a=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var c={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?a=s=c:s=s.next=c,n=n.next}while(n!==null);s===null?a=s=t:s=s.next=t}else a=s=t;n={baseState:r.baseState,firstBaseUpdate:a,lastBaseUpdate:s,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Xl(e,t,n,r){var a=e.updateQueue;ji=!1;var s=a.firstBaseUpdate,c=a.lastBaseUpdate,u=a.shared.pending;if(u!==null){a.shared.pending=null;var h=u,f=h.next;h.next=null,c===null?s=f:c.next=f,c=h;var g=e.alternate;g!==null&&(g=g.updateQueue,u=g.lastBaseUpdate,u!==c&&(u===null?g.firstBaseUpdate=f:u.next=f,g.lastBaseUpdate=h))}if(s!==null){var m=a.baseState;c=0,g=f=h=null,u=s;do{var y=u.lane,b=u.eventTime;if((r&y)===y){g!==null&&(g=g.next={eventTime:b,lane:0,tag:u.tag,payload:u.payload,callback:u.callback,next:null});e:{var j=e,v=u;switch(y=t,b=n,v.tag){case 1:if(j=v.payload,typeof j=="function"){m=j.call(b,m,y);break e}m=j;break e;case 3:j.flags=j.flags&-65537|128;case 0:if(j=v.payload,y=typeof j=="function"?j.call(b,m,y):j,y==null)break e;m=Ke({},m,y);break e;case 2:ji=!0}}u.callback!==null&&u.lane!==0&&(e.flags|=64,y=a.effects,y===null?a.effects=[u]:y.push(u))}else b={eventTime:b,lane:y,tag:u.tag,payload:u.payload,callback:u.callback,next:null},g===null?(f=g=b,h=m):g=g.next=b,c|=y;if(u=u.next,u===null){if(u=a.shared.pending,u===null)break;y=u,u=y.next,y.next=null,a.lastBaseUpdate=y,a.shared.pending=null}}while(!0);if(g===null&&(h=m),a.baseState=h,a.firstBaseUpdate=f,a.lastBaseUpdate=g,t=a.shared.interleaved,t!==null){a=t;do c|=a.lane,a=a.next;while(a!==t)}else s===null&&(a.shared.lanes=0);Mr|=c,e.lanes=c,e.memoizedState=m}}function vg(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],a=r.callback;if(a!==null){if(r.callback=null,r=n,typeof a!="function")throw Error(K(191,a));a.call(r)}}}var wa={},Bn=ir(wa),ra=ir(wa),sa=ir(wa);function vr(e){if(e===wa)throw Error(K(174));return e}function _f(e,t){switch(Fe(sa,t),Fe(ra,e),Fe(Bn,wa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:kd(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=kd(t,e)}Ue(Bn),Fe(Bn,t)}function Hs(){Ue(Bn),Ue(ra),Ue(sa)}function fy(e){vr(sa.current);var t=vr(Bn.current),n=kd(t,e.type);t!==n&&(Fe(ra,e),Fe(Bn,n))}function wf(e){ra.current===e&&(Ue(Bn),Ue(ra))}var We=ir(0);function Jl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var qu=[];function bf(){for(var e=0;e<qu.length;e++)qu[e]._workInProgressVersionPrimary=null;qu.length=0}var Cl=fi.ReactCurrentDispatcher,Qu=fi.ReactCurrentBatchConfig,Tr=0,Ge=null,nt=null,ot=null,ec=!1,Vo=!1,oa=0,zS=0;function ft(){throw Error(K(321))}function Nf(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!bn(e[n],t[n]))return!1;return!0}function Cf(e,t,n,r,a,s){if(Tr=s,Ge=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,Cl.current=e===null||e.memoizedState===null?VS:US,e=n(r,a),Vo){s=0;do{if(Vo=!1,oa=0,25<=s)throw Error(K(301));s+=1,ot=nt=null,t.updateQueue=null,Cl.current=HS,e=n(r,a)}while(Vo)}if(Cl.current=tc,t=nt!==null&&nt.next!==null,Tr=0,ot=nt=Ge=null,ec=!1,t)throw Error(K(300));return e}function Sf(){var e=oa!==0;return oa=0,e}function Tn(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return ot===null?Ge.memoizedState=ot=e:ot=ot.next=e,ot}function cn(){if(nt===null){var e=Ge.alternate;e=e!==null?e.memoizedState:null}else e=nt.next;var t=ot===null?Ge.memoizedState:ot.next;if(t!==null)ot=t,nt=e;else{if(e===null)throw Error(K(310));nt=e,e={memoizedState:nt.memoizedState,baseState:nt.baseState,baseQueue:nt.baseQueue,queue:nt.queue,next:null},ot===null?Ge.memoizedState=ot=e:ot=ot.next=e}return ot}function aa(e,t){return typeof t=="function"?t(e):t}function Yu(e){var t=cn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=nt,a=r.baseQueue,s=n.pending;if(s!==null){if(a!==null){var c=a.next;a.next=s.next,s.next=c}r.baseQueue=a=s,n.pending=null}if(a!==null){s=a.next,r=r.baseState;var u=c=null,h=null,f=s;do{var g=f.lane;if((Tr&g)===g)h!==null&&(h=h.next={lane:0,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null}),r=f.hasEagerState?f.eagerState:e(r,f.action);else{var m={lane:g,action:f.action,hasEagerState:f.hasEagerState,eagerState:f.eagerState,next:null};h===null?(u=h=m,c=r):h=h.next=m,Ge.lanes|=g,Mr|=g}f=f.next}while(f!==null&&f!==s);h===null?c=r:h.next=u,bn(r,t.memoizedState)||(Rt=!0),t.memoizedState=r,t.baseState=c,t.baseQueue=h,n.lastRenderedState=r}if(e=n.interleaved,e!==null){a=e;do s=a.lane,Ge.lanes|=s,Mr|=s,a=a.next;while(a!==e)}else a===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Xu(e){var t=cn(),n=t.queue;if(n===null)throw Error(K(311));n.lastRenderedReducer=e;var r=n.dispatch,a=n.pending,s=t.memoizedState;if(a!==null){n.pending=null;var c=a=a.next;do s=e(s,c.action),c=c.next;while(c!==a);bn(s,t.memoizedState)||(Rt=!0),t.memoizedState=s,t.baseQueue===null&&(t.baseState=s),n.lastRenderedState=s}return[s,r]}function py(){}function my(e,t){var n=Ge,r=cn(),a=t(),s=!bn(r.memoizedState,a);if(s&&(r.memoizedState=a,Rt=!0),r=r.queue,jf(xy.bind(null,n,r,e),[e]),r.getSnapshot!==t||s||ot!==null&&ot.memoizedState.tag&1){if(n.flags|=2048,la(9,vy.bind(null,n,r,a,t),void 0,null),at===null)throw Error(K(349));Tr&30||gy(n,t,a)}return a}function gy(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function vy(e,t,n,r){t.value=n,t.getSnapshot=r,yy(t)&&_y(e)}function xy(e,t,n){return n(function(){yy(t)&&_y(e)})}function yy(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!bn(e,n)}catch{return!0}}function _y(e){var t=ai(e,1);t!==null&&wn(t,e,1,-1)}function xg(e){var t=Tn();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:aa,lastRenderedState:e},t.queue=e,e=e.dispatch=$S.bind(null,Ge,e),[t.memoizedState,e]}function la(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=Ge.updateQueue,t===null?(t={lastEffect:null,stores:null},Ge.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function wy(){return cn().memoizedState}function Sl(e,t,n,r){var a=Tn();Ge.flags|=e,a.memoizedState=la(1|t,n,void 0,r===void 0?null:r)}function Cc(e,t,n,r){var a=cn();r=r===void 0?null:r;var s=void 0;if(nt!==null){var c=nt.memoizedState;if(s=c.destroy,r!==null&&Nf(r,c.deps)){a.memoizedState=la(t,n,s,r);return}}Ge.flags|=e,a.memoizedState=la(1|t,n,s,r)}function yg(e,t){return Sl(8390656,8,e,t)}function jf(e,t){return Cc(2048,8,e,t)}function by(e,t){return Cc(4,2,e,t)}function Ny(e,t){return Cc(4,4,e,t)}function Cy(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function Sy(e,t,n){return n=n!=null?n.concat([e]):null,Cc(4,4,Cy.bind(null,t,e),n)}function Pf(){}function jy(e,t){var n=cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nf(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Py(e,t){var n=cn();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Nf(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function ky(e,t,n){return Tr&21?(bn(n,t)||(n=Rx(),Ge.lanes|=n,Mr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,Rt=!0),e.memoizedState=n)}function FS(e,t){var n=Ie;Ie=n!==0&&4>n?n:4,e(!0);var r=Qu.transition;Qu.transition={};try{e(!1),t()}finally{Ie=n,Qu.transition=r}}function Ly(){return cn().memoizedState}function BS(e,t,n){var r=Wi(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Ey(e))Ty(t,n);else if(n=dy(e,t,n,r),n!==null){var a=jt();wn(n,e,r,a),My(n,t,r)}}function $S(e,t,n){var r=Wi(e),a={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Ey(e))Ty(t,a);else{var s=e.alternate;if(e.lanes===0&&(s===null||s.lanes===0)&&(s=t.lastRenderedReducer,s!==null))try{var c=t.lastRenderedState,u=s(c,n);if(a.hasEagerState=!0,a.eagerState=u,bn(u,c)){var h=t.interleaved;h===null?(a.next=a,xf(t)):(a.next=h.next,h.next=a),t.interleaved=a;return}}catch{}finally{}n=dy(e,t,a,r),n!==null&&(a=jt(),wn(n,e,r,a),My(n,t,r))}}function Ey(e){var t=e.alternate;return e===Ge||t!==null&&t===Ge}function Ty(e,t){Vo=ec=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function My(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,rf(e,n)}}var tc={readContext:ln,useCallback:ft,useContext:ft,useEffect:ft,useImperativeHandle:ft,useInsertionEffect:ft,useLayoutEffect:ft,useMemo:ft,useReducer:ft,useRef:ft,useState:ft,useDebugValue:ft,useDeferredValue:ft,useTransition:ft,useMutableSource:ft,useSyncExternalStore:ft,useId:ft,unstable_isNewReconciler:!1},VS={readContext:ln,useCallback:function(e,t){return Tn().memoizedState=[e,t===void 0?null:t],e},useContext:ln,useEffect:yg,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,Sl(4194308,4,Cy.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Sl(4194308,4,e,t)},useInsertionEffect:function(e,t){return Sl(4,2,e,t)},useMemo:function(e,t){var n=Tn();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Tn();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=BS.bind(null,Ge,e),[r.memoizedState,e]},useRef:function(e){var t=Tn();return e={current:e},t.memoizedState=e},useState:xg,useDebugValue:Pf,useDeferredValue:function(e){return Tn().memoizedState=e},useTransition:function(){var e=xg(!1),t=e[0];return e=FS.bind(null,e[1]),Tn().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=Ge,a=Tn();if(He){if(n===void 0)throw Error(K(407));n=n()}else{if(n=t(),at===null)throw Error(K(349));Tr&30||gy(r,t,n)}a.memoizedState=n;var s={value:n,getSnapshot:t};return a.queue=s,yg(xy.bind(null,r,s,e),[e]),r.flags|=2048,la(9,vy.bind(null,r,s,n,t),void 0,null),n},useId:function(){var e=Tn(),t=at.identifierPrefix;if(He){var n=ni,r=ti;n=(r&~(1<<32-_n(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=oa++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=zS++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},US={readContext:ln,useCallback:jy,useContext:ln,useEffect:jf,useImperativeHandle:Sy,useInsertionEffect:by,useLayoutEffect:Ny,useMemo:Py,useReducer:Yu,useRef:wy,useState:function(){return Yu(aa)},useDebugValue:Pf,useDeferredValue:function(e){var t=cn();return ky(t,nt.memoizedState,e)},useTransition:function(){var e=Yu(aa)[0],t=cn().memoizedState;return[e,t]},useMutableSource:py,useSyncExternalStore:my,useId:Ly,unstable_isNewReconciler:!1},HS={readContext:ln,useCallback:jy,useContext:ln,useEffect:jf,useImperativeHandle:Sy,useInsertionEffect:by,useLayoutEffect:Ny,useMemo:Py,useReducer:Xu,useRef:wy,useState:function(){return Xu(aa)},useDebugValue:Pf,useDeferredValue:function(e){var t=cn();return nt===null?t.memoizedState=e:ky(t,nt.memoizedState,e)},useTransition:function(){var e=Xu(aa)[0],t=cn().memoizedState;return[e,t]},useMutableSource:py,useSyncExternalStore:my,useId:Ly,unstable_isNewReconciler:!1};function pn(e,t){if(e&&e.defaultProps){t=Ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function qd(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:Ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var Sc={isMounted:function(e){return(e=e._reactInternals)?Br(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=jt(),a=Wi(e),s=ii(r,a);s.payload=t,n!=null&&(s.callback=n),t=Hi(e,s,a),t!==null&&(wn(t,e,a,r),Nl(t,e,a))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=jt(),a=Wi(e),s=ii(r,a);s.tag=1,s.payload=t,n!=null&&(s.callback=n),t=Hi(e,s,a),t!==null&&(wn(t,e,a,r),Nl(t,e,a))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=jt(),r=Wi(e),a=ii(n,r);a.tag=2,t!=null&&(a.callback=t),t=Hi(e,a,r),t!==null&&(wn(t,e,r,n),Nl(t,e,r))}};function _g(e,t,n,r,a,s,c){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,s,c):t.prototype&&t.prototype.isPureReactComponent?!ea(n,r)||!ea(a,s):!0}function Ry(e,t,n){var r=!1,a=Xi,s=t.contextType;return typeof s=="object"&&s!==null?s=ln(s):(a=At(t)?Lr:vt.current,r=t.contextTypes,s=(r=r!=null)?$s(e,a):Xi),t=new t(n,s),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=Sc,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=a,e.__reactInternalMemoizedMaskedChildContext=s),t}function wg(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&Sc.enqueueReplaceState(t,t.state,null)}function Qd(e,t,n,r){var a=e.stateNode;a.props=n,a.state=e.memoizedState,a.refs={},yf(e);var s=t.contextType;typeof s=="object"&&s!==null?a.context=ln(s):(s=At(t)?Lr:vt.current,a.context=$s(e,s)),a.state=e.memoizedState,s=t.getDerivedStateFromProps,typeof s=="function"&&(qd(e,t,s,n),a.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof a.getSnapshotBeforeUpdate=="function"||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(t=a.state,typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount(),t!==a.state&&Sc.enqueueReplaceState(a,a.state,null),Xl(e,n,a,r),a.state=e.memoizedState),typeof a.componentDidMount=="function"&&(e.flags|=4194308)}function Zs(e,t){try{var n="",r=t;do n+=xC(r),r=r.return;while(r);var a=n}catch(s){a=`
Error generating stack: `+s.message+`
`+s.stack}return{value:e,source:t,stack:a,digest:null}}function Ju(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function Yd(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var ZS=typeof WeakMap=="function"?WeakMap:Map;function Oy(e,t,n){n=ii(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ic||(ic=!0,ah=r),Yd(e,t)},n}function Ay(e,t,n){n=ii(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var a=t.value;n.payload=function(){return r(a)},n.callback=function(){Yd(e,t)}}var s=e.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){Yd(e,t),typeof r!="function"&&(Zi===null?Zi=new Set([this]):Zi.add(this));var c=t.stack;this.componentDidCatch(t.value,{componentStack:c!==null?c:""})}),n}function bg(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new ZS;var a=new Set;r.set(t,a)}else a=r.get(t),a===void 0&&(a=new Set,r.set(t,a));a.has(n)||(a.add(n),e=sj.bind(null,e,t,n),t.then(e,e))}function Ng(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function Cg(e,t,n,r,a){return e.mode&1?(e.flags|=65536,e.lanes=a,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=ii(-1,1),t.tag=2,Hi(n,t,1))),n.lanes|=1),e)}var WS=fi.ReactCurrentOwner,Rt=!1;function Ct(e,t,n,r){t.child=e===null?uy(t,null,n,r):Us(t,e.child,n,r)}function Sg(e,t,n,r,a){n=n.render;var s=t.ref;return ws(t,a),r=Cf(e,t,n,r,s,a),n=Sf(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,li(e,t,a)):(He&&n&&hf(t),t.flags|=1,Ct(e,t,r,a),t.child)}function jg(e,t,n,r,a){if(e===null){var s=n.type;return typeof s=="function"&&!Af(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=s,Iy(e,t,s,r,a)):(e=Ll(n.type,null,r,t,t.mode,a),e.ref=t.ref,e.return=t,t.child=e)}if(s=e.child,!(e.lanes&a)){var c=s.memoizedProps;if(n=n.compare,n=n!==null?n:ea,n(c,r)&&e.ref===t.ref)return li(e,t,a)}return t.flags|=1,e=Gi(s,r),e.ref=t.ref,e.return=t,t.child=e}function Iy(e,t,n,r,a){if(e!==null){var s=e.memoizedProps;if(ea(s,r)&&e.ref===t.ref)if(Rt=!1,t.pendingProps=r=s,(e.lanes&a)!==0)e.flags&131072&&(Rt=!0);else return t.lanes=e.lanes,li(e,t,a)}return Xd(e,t,n,r,a)}function Dy(e,t,n){var r=t.pendingProps,a=r.children,s=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},Fe(gs,$t),$t|=n;else{if(!(n&1073741824))return e=s!==null?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,Fe(gs,$t),$t|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,Fe(gs,$t),$t|=r}else s!==null?(r=s.baseLanes|n,t.memoizedState=null):r=n,Fe(gs,$t),$t|=r;return Ct(e,t,a,n),t.child}function zy(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Xd(e,t,n,r,a){var s=At(n)?Lr:vt.current;return s=$s(t,s),ws(t,a),n=Cf(e,t,n,r,s,a),r=Sf(),e!==null&&!Rt?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~a,li(e,t,a)):(He&&r&&hf(t),t.flags|=1,Ct(e,t,n,a),t.child)}function Pg(e,t,n,r,a){if(At(n)){var s=!0;Gl(t)}else s=!1;if(ws(t,a),t.stateNode===null)jl(e,t),Ry(t,n,r),Qd(t,n,r,a),r=!0;else if(e===null){var c=t.stateNode,u=t.memoizedProps;c.props=u;var h=c.context,f=n.contextType;typeof f=="object"&&f!==null?f=ln(f):(f=At(n)?Lr:vt.current,f=$s(t,f));var g=n.getDerivedStateFromProps,m=typeof g=="function"||typeof c.getSnapshotBeforeUpdate=="function";m||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==r||h!==f)&&wg(t,c,r,f),ji=!1;var y=t.memoizedState;c.state=y,Xl(t,r,c,a),h=t.memoizedState,u!==r||y!==h||Ot.current||ji?(typeof g=="function"&&(qd(t,n,g,r),h=t.memoizedState),(u=ji||_g(t,n,u,r,y,h,f))?(m||typeof c.UNSAFE_componentWillMount!="function"&&typeof c.componentWillMount!="function"||(typeof c.componentWillMount=="function"&&c.componentWillMount(),typeof c.UNSAFE_componentWillMount=="function"&&c.UNSAFE_componentWillMount()),typeof c.componentDidMount=="function"&&(t.flags|=4194308)):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=h),c.props=r,c.state=h,c.context=f,r=u):(typeof c.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{c=t.stateNode,hy(e,t),u=t.memoizedProps,f=t.type===t.elementType?u:pn(t.type,u),c.props=f,m=t.pendingProps,y=c.context,h=n.contextType,typeof h=="object"&&h!==null?h=ln(h):(h=At(n)?Lr:vt.current,h=$s(t,h));var b=n.getDerivedStateFromProps;(g=typeof b=="function"||typeof c.getSnapshotBeforeUpdate=="function")||typeof c.UNSAFE_componentWillReceiveProps!="function"&&typeof c.componentWillReceiveProps!="function"||(u!==m||y!==h)&&wg(t,c,r,h),ji=!1,y=t.memoizedState,c.state=y,Xl(t,r,c,a);var j=t.memoizedState;u!==m||y!==j||Ot.current||ji?(typeof b=="function"&&(qd(t,n,b,r),j=t.memoizedState),(f=ji||_g(t,n,f,r,y,j,h)||!1)?(g||typeof c.UNSAFE_componentWillUpdate!="function"&&typeof c.componentWillUpdate!="function"||(typeof c.componentWillUpdate=="function"&&c.componentWillUpdate(r,j,h),typeof c.UNSAFE_componentWillUpdate=="function"&&c.UNSAFE_componentWillUpdate(r,j,h)),typeof c.componentDidUpdate=="function"&&(t.flags|=4),typeof c.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=j),c.props=r,c.state=j,c.context=h,r=f):(typeof c.componentDidUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=4),typeof c.getSnapshotBeforeUpdate!="function"||u===e.memoizedProps&&y===e.memoizedState||(t.flags|=1024),r=!1)}return Jd(e,t,n,r,s,a)}function Jd(e,t,n,r,a,s){zy(e,t);var c=(t.flags&128)!==0;if(!r&&!c)return a&&hg(t,n,!1),li(e,t,s);r=t.stateNode,WS.current=t;var u=c&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&c?(t.child=Us(t,e.child,null,s),t.child=Us(t,null,u,s)):Ct(e,t,u,s),t.memoizedState=r.state,a&&hg(t,n,!0),t.child}function Fy(e){var t=e.stateNode;t.pendingContext?dg(e,t.pendingContext,t.pendingContext!==t.context):t.context&&dg(e,t.context,!1),_f(e,t.containerInfo)}function kg(e,t,n,r,a){return Vs(),pf(a),t.flags|=256,Ct(e,t,n,r),t.child}var eh={dehydrated:null,treeContext:null,retryLane:0};function th(e){return{baseLanes:e,cachePool:null,transitions:null}}function By(e,t,n){var r=t.pendingProps,a=We.current,s=!1,c=(t.flags&128)!==0,u;if((u=c)||(u=e!==null&&e.memoizedState===null?!1:(a&2)!==0),u?(s=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(a|=1),Fe(We,a&1),e===null)return Gd(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(c=r.children,e=r.fallback,s?(r=t.mode,s=t.child,c={mode:"hidden",children:c},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=c):s=kc(c,r,0,null),e=Pr(e,r,n,null),s.return=t,e.return=t,s.sibling=e,t.child=s,t.child.memoizedState=th(n),t.memoizedState=eh,e):kf(t,c));if(a=e.memoizedState,a!==null&&(u=a.dehydrated,u!==null))return GS(e,t,c,r,u,a,n);if(s){s=r.fallback,c=t.mode,a=e.child,u=a.sibling;var h={mode:"hidden",children:r.children};return!(c&1)&&t.child!==a?(r=t.child,r.childLanes=0,r.pendingProps=h,t.deletions=null):(r=Gi(a,h),r.subtreeFlags=a.subtreeFlags&14680064),u!==null?s=Gi(u,s):(s=Pr(s,c,n,null),s.flags|=2),s.return=t,r.return=t,r.sibling=s,t.child=r,r=s,s=t.child,c=e.child.memoizedState,c=c===null?th(n):{baseLanes:c.baseLanes|n,cachePool:null,transitions:c.transitions},s.memoizedState=c,s.childLanes=e.childLanes&~n,t.memoizedState=eh,r}return s=e.child,e=s.sibling,r=Gi(s,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function kf(e,t){return t=kc({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function ol(e,t,n,r){return r!==null&&pf(r),Us(t,e.child,null,n),e=kf(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function GS(e,t,n,r,a,s,c){if(n)return t.flags&256?(t.flags&=-257,r=Ju(Error(K(422))),ol(e,t,c,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(s=r.fallback,a=t.mode,r=kc({mode:"visible",children:r.children},a,0,null),s=Pr(s,a,c,null),s.flags|=2,r.return=t,s.return=t,r.sibling=s,t.child=r,t.mode&1&&Us(t,e.child,null,c),t.child.memoizedState=th(c),t.memoizedState=eh,s);if(!(t.mode&1))return ol(e,t,c,null);if(a.data==="$!"){if(r=a.nextSibling&&a.nextSibling.dataset,r)var u=r.dgst;return r=u,s=Error(K(419)),r=Ju(s,r,void 0),ol(e,t,c,r)}if(u=(c&e.childLanes)!==0,Rt||u){if(r=at,r!==null){switch(c&-c){case 4:a=2;break;case 16:a=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:a=32;break;case 536870912:a=268435456;break;default:a=0}a=a&(r.suspendedLanes|c)?0:a,a!==0&&a!==s.retryLane&&(s.retryLane=a,ai(e,a),wn(r,e,a,-1))}return Of(),r=Ju(Error(K(421))),ol(e,t,c,r)}return a.data==="$?"?(t.flags|=128,t.child=e.child,t=oj.bind(null,e),a._reactRetry=t,null):(e=s.treeContext,Ut=Ui(a.nextSibling),Ht=t,He=!0,vn=null,e!==null&&(rn[sn++]=ti,rn[sn++]=ni,rn[sn++]=Er,ti=e.id,ni=e.overflow,Er=t),t=kf(t,r.children),t.flags|=4096,t)}function Lg(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Kd(e.return,t,n)}function ed(e,t,n,r,a){var s=e.memoizedState;s===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:a}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=a)}function $y(e,t,n){var r=t.pendingProps,a=r.revealOrder,s=r.tail;if(Ct(e,t,r.children,n),r=We.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&Lg(e,n,t);else if(e.tag===19)Lg(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(Fe(We,r),!(t.mode&1))t.memoizedState=null;else switch(a){case"forwards":for(n=t.child,a=null;n!==null;)e=n.alternate,e!==null&&Jl(e)===null&&(a=n),n=n.sibling;n=a,n===null?(a=t.child,t.child=null):(a=n.sibling,n.sibling=null),ed(t,!1,a,n,s);break;case"backwards":for(n=null,a=t.child,t.child=null;a!==null;){if(e=a.alternate,e!==null&&Jl(e)===null){t.child=a;break}e=a.sibling,a.sibling=n,n=a,a=e}ed(t,!0,n,null,s);break;case"together":ed(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function jl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function li(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),Mr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(K(153));if(t.child!==null){for(e=t.child,n=Gi(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=Gi(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function KS(e,t,n){switch(t.tag){case 3:Fy(t),Vs();break;case 5:fy(t);break;case 1:At(t.type)&&Gl(t);break;case 4:_f(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,a=t.memoizedProps.value;Fe(Ql,r._currentValue),r._currentValue=a;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(Fe(We,We.current&1),t.flags|=128,null):n&t.child.childLanes?By(e,t,n):(Fe(We,We.current&1),e=li(e,t,n),e!==null?e.sibling:null);Fe(We,We.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return $y(e,t,n);t.flags|=128}if(a=t.memoizedState,a!==null&&(a.rendering=null,a.tail=null,a.lastEffect=null),Fe(We,We.current),r)break;return null;case 22:case 23:return t.lanes=0,Dy(e,t,n)}return li(e,t,n)}var Vy,nh,Uy,Hy;Vy=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};nh=function(){};Uy=function(e,t,n,r){var a=e.memoizedProps;if(a!==r){e=t.stateNode,vr(Bn.current);var s=null;switch(n){case"input":a=Cd(e,a),r=Cd(e,r),s=[];break;case"select":a=Ke({},a,{value:void 0}),r=Ke({},r,{value:void 0}),s=[];break;case"textarea":a=Pd(e,a),r=Pd(e,r),s=[];break;default:typeof a.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=Zl)}Ld(n,r);var c;n=null;for(f in a)if(!r.hasOwnProperty(f)&&a.hasOwnProperty(f)&&a[f]!=null)if(f==="style"){var u=a[f];for(c in u)u.hasOwnProperty(c)&&(n||(n={}),n[c]="")}else f!=="dangerouslySetInnerHTML"&&f!=="children"&&f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&f!=="autoFocus"&&(Go.hasOwnProperty(f)?s||(s=[]):(s=s||[]).push(f,null));for(f in r){var h=r[f];if(u=a!=null?a[f]:void 0,r.hasOwnProperty(f)&&h!==u&&(h!=null||u!=null))if(f==="style")if(u){for(c in u)!u.hasOwnProperty(c)||h&&h.hasOwnProperty(c)||(n||(n={}),n[c]="");for(c in h)h.hasOwnProperty(c)&&u[c]!==h[c]&&(n||(n={}),n[c]=h[c])}else n||(s||(s=[]),s.push(f,n)),n=h;else f==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,u=u?u.__html:void 0,h!=null&&u!==h&&(s=s||[]).push(f,h)):f==="children"?typeof h!="string"&&typeof h!="number"||(s=s||[]).push(f,""+h):f!=="suppressContentEditableWarning"&&f!=="suppressHydrationWarning"&&(Go.hasOwnProperty(f)?(h!=null&&f==="onScroll"&&$e("scroll",e),s||u===h||(s=[])):(s=s||[]).push(f,h))}n&&(s=s||[]).push("style",n);var f=s;(t.updateQueue=f)&&(t.flags|=4)}};Hy=function(e,t,n,r){n!==r&&(t.flags|=4)};function So(e,t){if(!He)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function pt(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags&14680064,r|=a.flags&14680064,a.return=e,a=a.sibling;else for(a=e.child;a!==null;)n|=a.lanes|a.childLanes,r|=a.subtreeFlags,r|=a.flags,a.return=e,a=a.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function qS(e,t,n){var r=t.pendingProps;switch(ff(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return pt(t),null;case 1:return At(t.type)&&Wl(),pt(t),null;case 3:return r=t.stateNode,Hs(),Ue(Ot),Ue(vt),bf(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(rl(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,vn!==null&&(uh(vn),vn=null))),nh(e,t),pt(t),null;case 5:wf(t);var a=vr(sa.current);if(n=t.type,e!==null&&t.stateNode!=null)Uy(e,t,n,r,a),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(K(166));return pt(t),null}if(e=vr(Bn.current),rl(t)){r=t.stateNode,n=t.type;var s=t.memoizedProps;switch(r[Dn]=t,r[ia]=s,e=(t.mode&1)!==0,n){case"dialog":$e("cancel",r),$e("close",r);break;case"iframe":case"object":case"embed":$e("load",r);break;case"video":case"audio":for(a=0;a<Ro.length;a++)$e(Ro[a],r);break;case"source":$e("error",r);break;case"img":case"image":case"link":$e("error",r),$e("load",r);break;case"details":$e("toggle",r);break;case"input":zm(r,s),$e("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},$e("invalid",r);break;case"textarea":Bm(r,s),$e("invalid",r)}Ld(n,s),a=null;for(var c in s)if(s.hasOwnProperty(c)){var u=s[c];c==="children"?typeof u=="string"?r.textContent!==u&&(s.suppressHydrationWarning!==!0&&il(r.textContent,u,e),a=["children",u]):typeof u=="number"&&r.textContent!==""+u&&(s.suppressHydrationWarning!==!0&&il(r.textContent,u,e),a=["children",""+u]):Go.hasOwnProperty(c)&&u!=null&&c==="onScroll"&&$e("scroll",r)}switch(n){case"input":qa(r),Fm(r,s,!0);break;case"textarea":qa(r),$m(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=Zl)}r=a,t.updateQueue=r,r!==null&&(t.flags|=4)}else{c=a.nodeType===9?a:a.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=xx(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=c.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=c.createElement(n,{is:r.is}):(e=c.createElement(n),n==="select"&&(c=e,r.multiple?c.multiple=!0:r.size&&(c.size=r.size))):e=c.createElementNS(e,n),e[Dn]=t,e[ia]=r,Vy(e,t,!1,!1),t.stateNode=e;e:{switch(c=Ed(n,r),n){case"dialog":$e("cancel",e),$e("close",e),a=r;break;case"iframe":case"object":case"embed":$e("load",e),a=r;break;case"video":case"audio":for(a=0;a<Ro.length;a++)$e(Ro[a],e);a=r;break;case"source":$e("error",e),a=r;break;case"img":case"image":case"link":$e("error",e),$e("load",e),a=r;break;case"details":$e("toggle",e),a=r;break;case"input":zm(e,r),a=Cd(e,r),$e("invalid",e);break;case"option":a=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},a=Ke({},r,{value:void 0}),$e("invalid",e);break;case"textarea":Bm(e,r),a=Pd(e,r),$e("invalid",e);break;default:a=r}Ld(n,a),u=a;for(s in u)if(u.hasOwnProperty(s)){var h=u[s];s==="style"?wx(e,h):s==="dangerouslySetInnerHTML"?(h=h?h.__html:void 0,h!=null&&yx(e,h)):s==="children"?typeof h=="string"?(n!=="textarea"||h!=="")&&Ko(e,h):typeof h=="number"&&Ko(e,""+h):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Go.hasOwnProperty(s)?h!=null&&s==="onScroll"&&$e("scroll",e):h!=null&&Yh(e,s,h,c))}switch(n){case"input":qa(e),Fm(e,r,!1);break;case"textarea":qa(e),$m(e);break;case"option":r.value!=null&&e.setAttribute("value",""+Yi(r.value));break;case"select":e.multiple=!!r.multiple,s=r.value,s!=null?vs(e,!!r.multiple,s,!1):r.defaultValue!=null&&vs(e,!!r.multiple,r.defaultValue,!0);break;default:typeof a.onClick=="function"&&(e.onclick=Zl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return pt(t),null;case 6:if(e&&t.stateNode!=null)Hy(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(K(166));if(n=vr(sa.current),vr(Bn.current),rl(t)){if(r=t.stateNode,n=t.memoizedProps,r[Dn]=t,(s=r.nodeValue!==n)&&(e=Ht,e!==null))switch(e.tag){case 3:il(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&il(r.nodeValue,n,(e.mode&1)!==0)}s&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Dn]=t,t.stateNode=r}return pt(t),null;case 13:if(Ue(We),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(He&&Ut!==null&&t.mode&1&&!(t.flags&128))ly(),Vs(),t.flags|=98560,s=!1;else if(s=rl(t),r!==null&&r.dehydrated!==null){if(e===null){if(!s)throw Error(K(318));if(s=t.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(K(317));s[Dn]=t}else Vs(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;pt(t),s=!1}else vn!==null&&(uh(vn),vn=null),s=!0;if(!s)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||We.current&1?rt===0&&(rt=3):Of())),t.updateQueue!==null&&(t.flags|=4),pt(t),null);case 4:return Hs(),nh(e,t),e===null&&ta(t.stateNode.containerInfo),pt(t),null;case 10:return vf(t.type._context),pt(t),null;case 17:return At(t.type)&&Wl(),pt(t),null;case 19:if(Ue(We),s=t.memoizedState,s===null)return pt(t),null;if(r=(t.flags&128)!==0,c=s.rendering,c===null)if(r)So(s,!1);else{if(rt!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(c=Jl(e),c!==null){for(t.flags|=128,So(s,!1),r=c.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)s=n,e=r,s.flags&=14680066,c=s.alternate,c===null?(s.childLanes=0,s.lanes=e,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=c.childLanes,s.lanes=c.lanes,s.child=c.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=c.memoizedProps,s.memoizedState=c.memoizedState,s.updateQueue=c.updateQueue,s.type=c.type,e=c.dependencies,s.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return Fe(We,We.current&1|2),t.child}e=e.sibling}s.tail!==null&&Xe()>Ws&&(t.flags|=128,r=!0,So(s,!1),t.lanes=4194304)}else{if(!r)if(e=Jl(c),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),So(s,!0),s.tail===null&&s.tailMode==="hidden"&&!c.alternate&&!He)return pt(t),null}else 2*Xe()-s.renderingStartTime>Ws&&n!==1073741824&&(t.flags|=128,r=!0,So(s,!1),t.lanes=4194304);s.isBackwards?(c.sibling=t.child,t.child=c):(n=s.last,n!==null?n.sibling=c:t.child=c,s.last=c)}return s.tail!==null?(t=s.tail,s.rendering=t,s.tail=t.sibling,s.renderingStartTime=Xe(),t.sibling=null,n=We.current,Fe(We,r?n&1|2:n&1),t):(pt(t),null);case 22:case 23:return Rf(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?$t&1073741824&&(pt(t),t.subtreeFlags&6&&(t.flags|=8192)):pt(t),null;case 24:return null;case 25:return null}throw Error(K(156,t.tag))}function QS(e,t){switch(ff(t),t.tag){case 1:return At(t.type)&&Wl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Hs(),Ue(Ot),Ue(vt),bf(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return wf(t),null;case 13:if(Ue(We),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(K(340));Vs()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return Ue(We),null;case 4:return Hs(),null;case 10:return vf(t.type._context),null;case 22:case 23:return Rf(),null;case 24:return null;default:return null}}var al=!1,gt=!1,YS=typeof WeakSet=="function"?WeakSet:Set,ie=null;function ms(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Qe(e,t,r)}else n.current=null}function ih(e,t,n){try{n()}catch(r){Qe(e,t,r)}}var Eg=!1;function XS(e,t){if(Bd=Vl,e=qx(),df(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var a=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var c=0,u=-1,h=-1,f=0,g=0,m=e,y=null;t:for(;;){for(var b;m!==n||a!==0&&m.nodeType!==3||(u=c+a),m!==s||r!==0&&m.nodeType!==3||(h=c+r),m.nodeType===3&&(c+=m.nodeValue.length),(b=m.firstChild)!==null;)y=m,m=b;for(;;){if(m===e)break t;if(y===n&&++f===a&&(u=c),y===s&&++g===r&&(h=c),(b=m.nextSibling)!==null)break;m=y,y=m.parentNode}m=b}n=u===-1||h===-1?null:{start:u,end:h}}else n=null}n=n||{start:0,end:0}}else n=null;for($d={focusedElem:e,selectionRange:n},Vl=!1,ie=t;ie!==null;)if(t=ie,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,ie=e;else for(;ie!==null;){t=ie;try{var j=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(j!==null){var v=j.memoizedProps,S=j.memoizedState,N=t.stateNode,w=N.getSnapshotBeforeUpdate(t.elementType===t.type?v:pn(t.type,v),S);N.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var C=t.stateNode.containerInfo;C.nodeType===1?C.textContent="":C.nodeType===9&&C.documentElement&&C.removeChild(C.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(K(163))}}catch(k){Qe(t,t.return,k)}if(e=t.sibling,e!==null){e.return=t.return,ie=e;break}ie=t.return}return j=Eg,Eg=!1,j}function Uo(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var a=r=r.next;do{if((a.tag&e)===e){var s=a.destroy;a.destroy=void 0,s!==void 0&&ih(t,n,s)}a=a.next}while(a!==r)}}function jc(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function rh(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function Zy(e){var t=e.alternate;t!==null&&(e.alternate=null,Zy(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[Dn],delete t[ia],delete t[Hd],delete t[OS],delete t[AS])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function Wy(e){return e.tag===5||e.tag===3||e.tag===4}function Tg(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||Wy(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function sh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=Zl));else if(r!==4&&(e=e.child,e!==null))for(sh(e,t,n),e=e.sibling;e!==null;)sh(e,t,n),e=e.sibling}function oh(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(oh(e,t,n),e=e.sibling;e!==null;)oh(e,t,n),e=e.sibling}var ut=null,gn=!1;function yi(e,t,n){for(n=n.child;n!==null;)Gy(e,t,n),n=n.sibling}function Gy(e,t,n){if(Fn&&typeof Fn.onCommitFiberUnmount=="function")try{Fn.onCommitFiberUnmount(xc,n)}catch{}switch(n.tag){case 5:gt||ms(n,t);case 6:var r=ut,a=gn;ut=null,yi(e,t,n),ut=r,gn=a,ut!==null&&(gn?(e=ut,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):ut.removeChild(n.stateNode));break;case 18:ut!==null&&(gn?(e=ut,n=n.stateNode,e.nodeType===8?Gu(e.parentNode,n):e.nodeType===1&&Gu(e,n),Xo(e)):Gu(ut,n.stateNode));break;case 4:r=ut,a=gn,ut=n.stateNode.containerInfo,gn=!0,yi(e,t,n),ut=r,gn=a;break;case 0:case 11:case 14:case 15:if(!gt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){a=r=r.next;do{var s=a,c=s.destroy;s=s.tag,c!==void 0&&(s&2||s&4)&&ih(n,t,c),a=a.next}while(a!==r)}yi(e,t,n);break;case 1:if(!gt&&(ms(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(u){Qe(n,t,u)}yi(e,t,n);break;case 21:yi(e,t,n);break;case 22:n.mode&1?(gt=(r=gt)||n.memoizedState!==null,yi(e,t,n),gt=r):yi(e,t,n);break;default:yi(e,t,n)}}function Mg(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new YS),t.forEach(function(r){var a=aj.bind(null,e,r);n.has(r)||(n.add(r),r.then(a,a))})}}function hn(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var a=n[r];try{var s=e,c=t,u=c;e:for(;u!==null;){switch(u.tag){case 5:ut=u.stateNode,gn=!1;break e;case 3:ut=u.stateNode.containerInfo,gn=!0;break e;case 4:ut=u.stateNode.containerInfo,gn=!0;break e}u=u.return}if(ut===null)throw Error(K(160));Gy(s,c,a),ut=null,gn=!1;var h=a.alternate;h!==null&&(h.return=null),a.return=null}catch(f){Qe(a,t,f)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)Ky(t,e),t=t.sibling}function Ky(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(hn(t,e),En(e),r&4){try{Uo(3,e,e.return),jc(3,e)}catch(v){Qe(e,e.return,v)}try{Uo(5,e,e.return)}catch(v){Qe(e,e.return,v)}}break;case 1:hn(t,e),En(e),r&512&&n!==null&&ms(n,n.return);break;case 5:if(hn(t,e),En(e),r&512&&n!==null&&ms(n,n.return),e.flags&32){var a=e.stateNode;try{Ko(a,"")}catch(v){Qe(e,e.return,v)}}if(r&4&&(a=e.stateNode,a!=null)){var s=e.memoizedProps,c=n!==null?n.memoizedProps:s,u=e.type,h=e.updateQueue;if(e.updateQueue=null,h!==null)try{u==="input"&&s.type==="radio"&&s.name!=null&&gx(a,s),Ed(u,c);var f=Ed(u,s);for(c=0;c<h.length;c+=2){var g=h[c],m=h[c+1];g==="style"?wx(a,m):g==="dangerouslySetInnerHTML"?yx(a,m):g==="children"?Ko(a,m):Yh(a,g,m,f)}switch(u){case"input":Sd(a,s);break;case"textarea":vx(a,s);break;case"select":var y=a._wrapperState.wasMultiple;a._wrapperState.wasMultiple=!!s.multiple;var b=s.value;b!=null?vs(a,!!s.multiple,b,!1):y!==!!s.multiple&&(s.defaultValue!=null?vs(a,!!s.multiple,s.defaultValue,!0):vs(a,!!s.multiple,s.multiple?[]:"",!1))}a[ia]=s}catch(v){Qe(e,e.return,v)}}break;case 6:if(hn(t,e),En(e),r&4){if(e.stateNode===null)throw Error(K(162));a=e.stateNode,s=e.memoizedProps;try{a.nodeValue=s}catch(v){Qe(e,e.return,v)}}break;case 3:if(hn(t,e),En(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xo(t.containerInfo)}catch(v){Qe(e,e.return,v)}break;case 4:hn(t,e),En(e);break;case 13:hn(t,e),En(e),a=e.child,a.flags&8192&&(s=a.memoizedState!==null,a.stateNode.isHidden=s,!s||a.alternate!==null&&a.alternate.memoizedState!==null||(Tf=Xe())),r&4&&Mg(e);break;case 22:if(g=n!==null&&n.memoizedState!==null,e.mode&1?(gt=(f=gt)||g,hn(t,e),gt=f):hn(t,e),En(e),r&8192){if(f=e.memoizedState!==null,(e.stateNode.isHidden=f)&&!g&&e.mode&1)for(ie=e,g=e.child;g!==null;){for(m=ie=g;ie!==null;){switch(y=ie,b=y.child,y.tag){case 0:case 11:case 14:case 15:Uo(4,y,y.return);break;case 1:ms(y,y.return);var j=y.stateNode;if(typeof j.componentWillUnmount=="function"){r=y,n=y.return;try{t=r,j.props=t.memoizedProps,j.state=t.memoizedState,j.componentWillUnmount()}catch(v){Qe(r,n,v)}}break;case 5:ms(y,y.return);break;case 22:if(y.memoizedState!==null){Og(m);continue}}b!==null?(b.return=y,ie=b):Og(m)}g=g.sibling}e:for(g=null,m=e;;){if(m.tag===5){if(g===null){g=m;try{a=m.stateNode,f?(s=a.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(u=m.stateNode,h=m.memoizedProps.style,c=h!=null&&h.hasOwnProperty("display")?h.display:null,u.style.display=_x("display",c))}catch(v){Qe(e,e.return,v)}}}else if(m.tag===6){if(g===null)try{m.stateNode.nodeValue=f?"":m.memoizedProps}catch(v){Qe(e,e.return,v)}}else if((m.tag!==22&&m.tag!==23||m.memoizedState===null||m===e)&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===e)break e;for(;m.sibling===null;){if(m.return===null||m.return===e)break e;g===m&&(g=null),m=m.return}g===m&&(g=null),m.sibling.return=m.return,m=m.sibling}}break;case 19:hn(t,e),En(e),r&4&&Mg(e);break;case 21:break;default:hn(t,e),En(e)}}function En(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(Wy(n)){var r=n;break e}n=n.return}throw Error(K(160))}switch(r.tag){case 5:var a=r.stateNode;r.flags&32&&(Ko(a,""),r.flags&=-33);var s=Tg(e);oh(e,s,a);break;case 3:case 4:var c=r.stateNode.containerInfo,u=Tg(e);sh(e,u,c);break;default:throw Error(K(161))}}catch(h){Qe(e,e.return,h)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function JS(e,t,n){ie=e,qy(e)}function qy(e,t,n){for(var r=(e.mode&1)!==0;ie!==null;){var a=ie,s=a.child;if(a.tag===22&&r){var c=a.memoizedState!==null||al;if(!c){var u=a.alternate,h=u!==null&&u.memoizedState!==null||gt;u=al;var f=gt;if(al=c,(gt=h)&&!f)for(ie=a;ie!==null;)c=ie,h=c.child,c.tag===22&&c.memoizedState!==null?Ag(a):h!==null?(h.return=c,ie=h):Ag(a);for(;s!==null;)ie=s,qy(s),s=s.sibling;ie=a,al=u,gt=f}Rg(e)}else a.subtreeFlags&8772&&s!==null?(s.return=a,ie=s):Rg(e)}}function Rg(e){for(;ie!==null;){var t=ie;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:gt||jc(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!gt)if(n===null)r.componentDidMount();else{var a=t.elementType===t.type?n.memoizedProps:pn(t.type,n.memoizedProps);r.componentDidUpdate(a,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=t.updateQueue;s!==null&&vg(t,s,r);break;case 3:var c=t.updateQueue;if(c!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}vg(t,c,n)}break;case 5:var u=t.stateNode;if(n===null&&t.flags&4){n=u;var h=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":h.autoFocus&&n.focus();break;case"img":h.src&&(n.src=h.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var f=t.alternate;if(f!==null){var g=f.memoizedState;if(g!==null){var m=g.dehydrated;m!==null&&Xo(m)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(K(163))}gt||t.flags&512&&rh(t)}catch(y){Qe(t,t.return,y)}}if(t===e){ie=null;break}if(n=t.sibling,n!==null){n.return=t.return,ie=n;break}ie=t.return}}function Og(e){for(;ie!==null;){var t=ie;if(t===e){ie=null;break}var n=t.sibling;if(n!==null){n.return=t.return,ie=n;break}ie=t.return}}function Ag(e){for(;ie!==null;){var t=ie;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{jc(4,t)}catch(h){Qe(t,n,h)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var a=t.return;try{r.componentDidMount()}catch(h){Qe(t,a,h)}}var s=t.return;try{rh(t)}catch(h){Qe(t,s,h)}break;case 5:var c=t.return;try{rh(t)}catch(h){Qe(t,c,h)}}}catch(h){Qe(t,t.return,h)}if(t===e){ie=null;break}var u=t.sibling;if(u!==null){u.return=t.return,ie=u;break}ie=t.return}}var ej=Math.ceil,nc=fi.ReactCurrentDispatcher,Lf=fi.ReactCurrentOwner,an=fi.ReactCurrentBatchConfig,Me=0,at=null,tt=null,dt=0,$t=0,gs=ir(0),rt=0,ca=null,Mr=0,Pc=0,Ef=0,Ho=null,Mt=null,Tf=0,Ws=1/0,Xn=null,ic=!1,ah=null,Zi=null,ll=!1,Fi=null,rc=0,Zo=0,lh=null,Pl=-1,kl=0;function jt(){return Me&6?Xe():Pl!==-1?Pl:Pl=Xe()}function Wi(e){return e.mode&1?Me&2&&dt!==0?dt&-dt:DS.transition!==null?(kl===0&&(kl=Rx()),kl):(e=Ie,e!==0||(e=window.event,e=e===void 0?16:Bx(e.type)),e):1}function wn(e,t,n,r){if(50<Zo)throw Zo=0,lh=null,Error(K(185));xa(e,n,r),(!(Me&2)||e!==at)&&(e===at&&(!(Me&2)&&(Pc|=n),rt===4&&ki(e,dt)),It(e,r),n===1&&Me===0&&!(t.mode&1)&&(Ws=Xe()+500,Nc&&rr()))}function It(e,t){var n=e.callbackNode;DC(e,t);var r=$l(e,e===at?dt:0);if(r===0)n!==null&&Hm(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Hm(n),t===1)e.tag===0?IS(Ig.bind(null,e)):sy(Ig.bind(null,e)),MS(function(){!(Me&6)&&rr()}),n=null;else{switch(Ox(r)){case 1:n=nf;break;case 4:n=Tx;break;case 16:n=Bl;break;case 536870912:n=Mx;break;default:n=Bl}n=i_(n,Qy.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function Qy(e,t){if(Pl=-1,kl=0,Me&6)throw Error(K(327));var n=e.callbackNode;if(bs()&&e.callbackNode!==n)return null;var r=$l(e,e===at?dt:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=sc(e,r);else{t=r;var a=Me;Me|=2;var s=Xy();(at!==e||dt!==t)&&(Xn=null,Ws=Xe()+500,jr(e,t));do try{ij();break}catch(u){Yy(e,u)}while(!0);gf(),nc.current=s,Me=a,tt!==null?t=0:(at=null,dt=0,t=rt)}if(t!==0){if(t===2&&(a=Ad(e),a!==0&&(r=a,t=ch(e,a))),t===1)throw n=ca,jr(e,0),ki(e,r),It(e,Xe()),n;if(t===6)ki(e,r);else{if(a=e.current.alternate,!(r&30)&&!tj(a)&&(t=sc(e,r),t===2&&(s=Ad(e),s!==0&&(r=s,t=ch(e,s))),t===1))throw n=ca,jr(e,0),ki(e,r),It(e,Xe()),n;switch(e.finishedWork=a,e.finishedLanes=r,t){case 0:case 1:throw Error(K(345));case 2:pr(e,Mt,Xn);break;case 3:if(ki(e,r),(r&130023424)===r&&(t=Tf+500-Xe(),10<t)){if($l(e,0)!==0)break;if(a=e.suspendedLanes,(a&r)!==r){jt(),e.pingedLanes|=e.suspendedLanes&a;break}e.timeoutHandle=Ud(pr.bind(null,e,Mt,Xn),t);break}pr(e,Mt,Xn);break;case 4:if(ki(e,r),(r&4194240)===r)break;for(t=e.eventTimes,a=-1;0<r;){var c=31-_n(r);s=1<<c,c=t[c],c>a&&(a=c),r&=~s}if(r=a,r=Xe()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*ej(r/1960))-r,10<r){e.timeoutHandle=Ud(pr.bind(null,e,Mt,Xn),r);break}pr(e,Mt,Xn);break;case 5:pr(e,Mt,Xn);break;default:throw Error(K(329))}}}return It(e,Xe()),e.callbackNode===n?Qy.bind(null,e):null}function ch(e,t){var n=Ho;return e.current.memoizedState.isDehydrated&&(jr(e,t).flags|=256),e=sc(e,t),e!==2&&(t=Mt,Mt=n,t!==null&&uh(t)),e}function uh(e){Mt===null?Mt=e:Mt.push.apply(Mt,e)}function tj(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var a=n[r],s=a.getSnapshot;a=a.value;try{if(!bn(s(),a))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function ki(e,t){for(t&=~Ef,t&=~Pc,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-_n(t),r=1<<n;e[n]=-1,t&=~r}}function Ig(e){if(Me&6)throw Error(K(327));bs();var t=$l(e,0);if(!(t&1))return It(e,Xe()),null;var n=sc(e,t);if(e.tag!==0&&n===2){var r=Ad(e);r!==0&&(t=r,n=ch(e,r))}if(n===1)throw n=ca,jr(e,0),ki(e,t),It(e,Xe()),n;if(n===6)throw Error(K(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,pr(e,Mt,Xn),It(e,Xe()),null}function Mf(e,t){var n=Me;Me|=1;try{return e(t)}finally{Me=n,Me===0&&(Ws=Xe()+500,Nc&&rr())}}function Rr(e){Fi!==null&&Fi.tag===0&&!(Me&6)&&bs();var t=Me;Me|=1;var n=an.transition,r=Ie;try{if(an.transition=null,Ie=1,e)return e()}finally{Ie=r,an.transition=n,Me=t,!(Me&6)&&rr()}}function Rf(){$t=gs.current,Ue(gs)}function jr(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,TS(n)),tt!==null)for(n=tt.return;n!==null;){var r=n;switch(ff(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wl();break;case 3:Hs(),Ue(Ot),Ue(vt),bf();break;case 5:wf(r);break;case 4:Hs();break;case 13:Ue(We);break;case 19:Ue(We);break;case 10:vf(r.type._context);break;case 22:case 23:Rf()}n=n.return}if(at=e,tt=e=Gi(e.current,null),dt=$t=t,rt=0,ca=null,Ef=Pc=Mr=0,Mt=Ho=null,gr!==null){for(t=0;t<gr.length;t++)if(n=gr[t],r=n.interleaved,r!==null){n.interleaved=null;var a=r.next,s=n.pending;if(s!==null){var c=s.next;s.next=a,r.next=c}n.pending=r}gr=null}return e}function Yy(e,t){do{var n=tt;try{if(gf(),Cl.current=tc,ec){for(var r=Ge.memoizedState;r!==null;){var a=r.queue;a!==null&&(a.pending=null),r=r.next}ec=!1}if(Tr=0,ot=nt=Ge=null,Vo=!1,oa=0,Lf.current=null,n===null||n.return===null){rt=1,ca=t,tt=null;break}e:{var s=e,c=n.return,u=n,h=t;if(t=dt,u.flags|=32768,h!==null&&typeof h=="object"&&typeof h.then=="function"){var f=h,g=u,m=g.tag;if(!(g.mode&1)&&(m===0||m===11||m===15)){var y=g.alternate;y?(g.updateQueue=y.updateQueue,g.memoizedState=y.memoizedState,g.lanes=y.lanes):(g.updateQueue=null,g.memoizedState=null)}var b=Ng(c);if(b!==null){b.flags&=-257,Cg(b,c,u,s,t),b.mode&1&&bg(s,f,t),t=b,h=f;var j=t.updateQueue;if(j===null){var v=new Set;v.add(h),t.updateQueue=v}else j.add(h);break e}else{if(!(t&1)){bg(s,f,t),Of();break e}h=Error(K(426))}}else if(He&&u.mode&1){var S=Ng(c);if(S!==null){!(S.flags&65536)&&(S.flags|=256),Cg(S,c,u,s,t),pf(Zs(h,u));break e}}s=h=Zs(h,u),rt!==4&&(rt=2),Ho===null?Ho=[s]:Ho.push(s),s=c;do{switch(s.tag){case 3:s.flags|=65536,t&=-t,s.lanes|=t;var N=Oy(s,h,t);gg(s,N);break e;case 1:u=h;var w=s.type,C=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||C!==null&&typeof C.componentDidCatch=="function"&&(Zi===null||!Zi.has(C)))){s.flags|=65536,t&=-t,s.lanes|=t;var k=Ay(s,u,t);gg(s,k);break e}}s=s.return}while(s!==null)}e_(n)}catch(E){t=E,tt===n&&n!==null&&(tt=n=n.return);continue}break}while(!0)}function Xy(){var e=nc.current;return nc.current=tc,e===null?tc:e}function Of(){(rt===0||rt===3||rt===2)&&(rt=4),at===null||!(Mr&268435455)&&!(Pc&268435455)||ki(at,dt)}function sc(e,t){var n=Me;Me|=2;var r=Xy();(at!==e||dt!==t)&&(Xn=null,jr(e,t));do try{nj();break}catch(a){Yy(e,a)}while(!0);if(gf(),Me=n,nc.current=r,tt!==null)throw Error(K(261));return at=null,dt=0,rt}function nj(){for(;tt!==null;)Jy(tt)}function ij(){for(;tt!==null&&!kC();)Jy(tt)}function Jy(e){var t=n_(e.alternate,e,$t);e.memoizedProps=e.pendingProps,t===null?e_(e):tt=t,Lf.current=null}function e_(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=QS(n,t),n!==null){n.flags&=32767,tt=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{rt=6,tt=null;return}}else if(n=qS(n,t,$t),n!==null){tt=n;return}if(t=t.sibling,t!==null){tt=t;return}tt=t=e}while(t!==null);rt===0&&(rt=5)}function pr(e,t,n){var r=Ie,a=an.transition;try{an.transition=null,Ie=1,rj(e,t,n,r)}finally{an.transition=a,Ie=r}return null}function rj(e,t,n,r){do bs();while(Fi!==null);if(Me&6)throw Error(K(327));n=e.finishedWork;var a=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(K(177));e.callbackNode=null,e.callbackPriority=0;var s=n.lanes|n.childLanes;if(zC(e,s),e===at&&(tt=at=null,dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ll||(ll=!0,i_(Bl,function(){return bs(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=an.transition,an.transition=null;var c=Ie;Ie=1;var u=Me;Me|=4,Lf.current=null,XS(e,n),Ky(n,e),CS($d),Vl=!!Bd,$d=Bd=null,e.current=n,JS(n),LC(),Me=u,Ie=c,an.transition=s}else e.current=n;if(ll&&(ll=!1,Fi=e,rc=a),s=e.pendingLanes,s===0&&(Zi=null),MC(n.stateNode),It(e,Xe()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)a=t[n],r(a.value,{componentStack:a.stack,digest:a.digest});if(ic)throw ic=!1,e=ah,ah=null,e;return rc&1&&e.tag!==0&&bs(),s=e.pendingLanes,s&1?e===lh?Zo++:(Zo=0,lh=e):Zo=0,rr(),null}function bs(){if(Fi!==null){var e=Ox(rc),t=an.transition,n=Ie;try{if(an.transition=null,Ie=16>e?16:e,Fi===null)var r=!1;else{if(e=Fi,Fi=null,rc=0,Me&6)throw Error(K(331));var a=Me;for(Me|=4,ie=e.current;ie!==null;){var s=ie,c=s.child;if(ie.flags&16){var u=s.deletions;if(u!==null){for(var h=0;h<u.length;h++){var f=u[h];for(ie=f;ie!==null;){var g=ie;switch(g.tag){case 0:case 11:case 15:Uo(8,g,s)}var m=g.child;if(m!==null)m.return=g,ie=m;else for(;ie!==null;){g=ie;var y=g.sibling,b=g.return;if(Zy(g),g===f){ie=null;break}if(y!==null){y.return=b,ie=y;break}ie=b}}}var j=s.alternate;if(j!==null){var v=j.child;if(v!==null){j.child=null;do{var S=v.sibling;v.sibling=null,v=S}while(v!==null)}}ie=s}}if(s.subtreeFlags&2064&&c!==null)c.return=s,ie=c;else e:for(;ie!==null;){if(s=ie,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Uo(9,s,s.return)}var N=s.sibling;if(N!==null){N.return=s.return,ie=N;break e}ie=s.return}}var w=e.current;for(ie=w;ie!==null;){c=ie;var C=c.child;if(c.subtreeFlags&2064&&C!==null)C.return=c,ie=C;else e:for(c=w;ie!==null;){if(u=ie,u.flags&2048)try{switch(u.tag){case 0:case 11:case 15:jc(9,u)}}catch(E){Qe(u,u.return,E)}if(u===c){ie=null;break e}var k=u.sibling;if(k!==null){k.return=u.return,ie=k;break e}ie=u.return}}if(Me=a,rr(),Fn&&typeof Fn.onPostCommitFiberRoot=="function")try{Fn.onPostCommitFiberRoot(xc,e)}catch{}r=!0}return r}finally{Ie=n,an.transition=t}}return!1}function Dg(e,t,n){t=Zs(n,t),t=Oy(e,t,1),e=Hi(e,t,1),t=jt(),e!==null&&(xa(e,1,t),It(e,t))}function Qe(e,t,n){if(e.tag===3)Dg(e,e,n);else for(;t!==null;){if(t.tag===3){Dg(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Zi===null||!Zi.has(r))){e=Zs(n,e),e=Ay(t,e,1),t=Hi(t,e,1),e=jt(),t!==null&&(xa(t,1,e),It(t,e));break}}t=t.return}}function sj(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=jt(),e.pingedLanes|=e.suspendedLanes&n,at===e&&(dt&n)===n&&(rt===4||rt===3&&(dt&130023424)===dt&&500>Xe()-Tf?jr(e,0):Ef|=n),It(e,t)}function t_(e,t){t===0&&(e.mode&1?(t=Xa,Xa<<=1,!(Xa&130023424)&&(Xa=4194304)):t=1);var n=jt();e=ai(e,t),e!==null&&(xa(e,t,n),It(e,n))}function oj(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),t_(e,n)}function aj(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,a=e.memoizedState;a!==null&&(n=a.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(K(314))}r!==null&&r.delete(t),t_(e,n)}var n_;n_=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||Ot.current)Rt=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return Rt=!1,KS(e,t,n);Rt=!!(e.flags&131072)}else Rt=!1,He&&t.flags&1048576&&oy(t,ql,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;jl(e,t),e=t.pendingProps;var a=$s(t,vt.current);ws(t,n),a=Cf(null,t,r,e,a,n);var s=Sf();return t.flags|=1,typeof a=="object"&&a!==null&&typeof a.render=="function"&&a.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,At(r)?(s=!0,Gl(t)):s=!1,t.memoizedState=a.state!==null&&a.state!==void 0?a.state:null,yf(t),a.updater=Sc,t.stateNode=a,a._reactInternals=t,Qd(t,r,e,n),t=Jd(null,t,r,!0,s,n)):(t.tag=0,He&&s&&hf(t),Ct(null,t,a,n),t=t.child),t;case 16:r=t.elementType;e:{switch(jl(e,t),e=t.pendingProps,a=r._init,r=a(r._payload),t.type=r,a=t.tag=cj(r),e=pn(r,e),a){case 0:t=Xd(null,t,r,e,n);break e;case 1:t=Pg(null,t,r,e,n);break e;case 11:t=Sg(null,t,r,e,n);break e;case 14:t=jg(null,t,r,pn(r.type,e),n);break e}throw Error(K(306,r,""))}return t;case 0:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:pn(r,a),Xd(e,t,r,a,n);case 1:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:pn(r,a),Pg(e,t,r,a,n);case 3:e:{if(Fy(t),e===null)throw Error(K(387));r=t.pendingProps,s=t.memoizedState,a=s.element,hy(e,t),Xl(t,r,null,n);var c=t.memoizedState;if(r=c.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:c.cache,pendingSuspenseBoundaries:c.pendingSuspenseBoundaries,transitions:c.transitions},t.updateQueue.baseState=s,t.memoizedState=s,t.flags&256){a=Zs(Error(K(423)),t),t=kg(e,t,r,n,a);break e}else if(r!==a){a=Zs(Error(K(424)),t),t=kg(e,t,r,n,a);break e}else for(Ut=Ui(t.stateNode.containerInfo.firstChild),Ht=t,He=!0,vn=null,n=uy(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Vs(),r===a){t=li(e,t,n);break e}Ct(e,t,r,n)}t=t.child}return t;case 5:return fy(t),e===null&&Gd(t),r=t.type,a=t.pendingProps,s=e!==null?e.memoizedProps:null,c=a.children,Vd(r,a)?c=null:s!==null&&Vd(r,s)&&(t.flags|=32),zy(e,t),Ct(e,t,c,n),t.child;case 6:return e===null&&Gd(t),null;case 13:return By(e,t,n);case 4:return _f(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Us(t,null,r,n):Ct(e,t,r,n),t.child;case 11:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:pn(r,a),Sg(e,t,r,a,n);case 7:return Ct(e,t,t.pendingProps,n),t.child;case 8:return Ct(e,t,t.pendingProps.children,n),t.child;case 12:return Ct(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,a=t.pendingProps,s=t.memoizedProps,c=a.value,Fe(Ql,r._currentValue),r._currentValue=c,s!==null)if(bn(s.value,c)){if(s.children===a.children&&!Ot.current){t=li(e,t,n);break e}}else for(s=t.child,s!==null&&(s.return=t);s!==null;){var u=s.dependencies;if(u!==null){c=s.child;for(var h=u.firstContext;h!==null;){if(h.context===r){if(s.tag===1){h=ii(-1,n&-n),h.tag=2;var f=s.updateQueue;if(f!==null){f=f.shared;var g=f.pending;g===null?h.next=h:(h.next=g.next,g.next=h),f.pending=h}}s.lanes|=n,h=s.alternate,h!==null&&(h.lanes|=n),Kd(s.return,n,t),u.lanes|=n;break}h=h.next}}else if(s.tag===10)c=s.type===t.type?null:s.child;else if(s.tag===18){if(c=s.return,c===null)throw Error(K(341));c.lanes|=n,u=c.alternate,u!==null&&(u.lanes|=n),Kd(c,n,t),c=s.sibling}else c=s.child;if(c!==null)c.return=s;else for(c=s;c!==null;){if(c===t){c=null;break}if(s=c.sibling,s!==null){s.return=c.return,c=s;break}c=c.return}s=c}Ct(e,t,a.children,n),t=t.child}return t;case 9:return a=t.type,r=t.pendingProps.children,ws(t,n),a=ln(a),r=r(a),t.flags|=1,Ct(e,t,r,n),t.child;case 14:return r=t.type,a=pn(r,t.pendingProps),a=pn(r.type,a),jg(e,t,r,a,n);case 15:return Iy(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,a=t.pendingProps,a=t.elementType===r?a:pn(r,a),jl(e,t),t.tag=1,At(r)?(e=!0,Gl(t)):e=!1,ws(t,n),Ry(t,r,a),Qd(t,r,a,n),Jd(null,t,r,!0,e,n);case 19:return $y(e,t,n);case 22:return Dy(e,t,n)}throw Error(K(156,t.tag))};function i_(e,t){return Ex(e,t)}function lj(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function on(e,t,n,r){return new lj(e,t,n,r)}function Af(e){return e=e.prototype,!(!e||!e.isReactComponent)}function cj(e){if(typeof e=="function")return Af(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Jh)return 11;if(e===ef)return 14}return 2}function Gi(e,t){var n=e.alternate;return n===null?(n=on(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Ll(e,t,n,r,a,s){var c=2;if(r=e,typeof e=="function")Af(e)&&(c=1);else if(typeof e=="string")c=5;else e:switch(e){case os:return Pr(n.children,a,s,t);case Xh:c=8,a|=8;break;case _d:return e=on(12,n,t,a|2),e.elementType=_d,e.lanes=s,e;case wd:return e=on(13,n,t,a),e.elementType=wd,e.lanes=s,e;case bd:return e=on(19,n,t,a),e.elementType=bd,e.lanes=s,e;case fx:return kc(n,a,s,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case dx:c=10;break e;case hx:c=9;break e;case Jh:c=11;break e;case ef:c=14;break e;case Si:c=16,r=null;break e}throw Error(K(130,e==null?e:typeof e,""))}return t=on(c,n,t,a),t.elementType=e,t.type=r,t.lanes=s,t}function Pr(e,t,n,r){return e=on(7,e,r,t),e.lanes=n,e}function kc(e,t,n,r){return e=on(22,e,r,t),e.elementType=fx,e.lanes=n,e.stateNode={isHidden:!1},e}function td(e,t,n){return e=on(6,e,null,t),e.lanes=n,e}function nd(e,t,n){return t=on(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function uj(e,t,n,r,a){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Iu(0),this.expirationTimes=Iu(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Iu(0),this.identifierPrefix=r,this.onRecoverableError=a,this.mutableSourceEagerHydrationData=null}function If(e,t,n,r,a,s,c,u,h){return e=new uj(e,t,n,u,h),t===1?(t=1,s===!0&&(t|=8)):t=0,s=on(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},yf(s),e}function dj(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ss,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function r_(e){if(!e)return Xi;e=e._reactInternals;e:{if(Br(e)!==e||e.tag!==1)throw Error(K(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(At(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(K(171))}if(e.tag===1){var n=e.type;if(At(n))return ry(e,n,t)}return t}function s_(e,t,n,r,a,s,c,u,h){return e=If(n,r,!0,e,a,s,c,u,h),e.context=r_(null),n=e.current,r=jt(),a=Wi(n),s=ii(r,a),s.callback=t??null,Hi(n,s,a),e.current.lanes=a,xa(e,a,r),It(e,r),e}function Lc(e,t,n,r){var a=t.current,s=jt(),c=Wi(a);return n=r_(n),t.context===null?t.context=n:t.pendingContext=n,t=ii(s,c),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=Hi(a,t,c),e!==null&&(wn(e,a,c,s),Nl(e,a,c)),c}function oc(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function zg(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function Df(e,t){zg(e,t),(e=e.alternate)&&zg(e,t)}function hj(){return null}var o_=typeof reportError=="function"?reportError:function(e){console.error(e)};function zf(e){this._internalRoot=e}Ec.prototype.render=zf.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(K(409));Lc(e,t,null,null)};Ec.prototype.unmount=zf.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;Rr(function(){Lc(null,e,null,null)}),t[oi]=null}};function Ec(e){this._internalRoot=e}Ec.prototype.unstable_scheduleHydration=function(e){if(e){var t=Dx();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Pi.length&&t!==0&&t<Pi[n].priority;n++);Pi.splice(n,0,e),n===0&&Fx(e)}};function Ff(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function Tc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Fg(){}function fj(e,t,n,r,a){if(a){if(typeof r=="function"){var s=r;r=function(){var f=oc(c);s.call(f)}}var c=s_(t,r,e,0,null,!1,!1,"",Fg);return e._reactRootContainer=c,e[oi]=c.current,ta(e.nodeType===8?e.parentNode:e),Rr(),c}for(;a=e.lastChild;)e.removeChild(a);if(typeof r=="function"){var u=r;r=function(){var f=oc(h);u.call(f)}}var h=If(e,0,!1,null,null,!1,!1,"",Fg);return e._reactRootContainer=h,e[oi]=h.current,ta(e.nodeType===8?e.parentNode:e),Rr(function(){Lc(t,h,n,r)}),h}function Mc(e,t,n,r,a){var s=n._reactRootContainer;if(s){var c=s;if(typeof a=="function"){var u=a;a=function(){var h=oc(c);u.call(h)}}Lc(t,c,e,a)}else c=fj(n,t,e,a,r);return oc(c)}Ax=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Mo(t.pendingLanes);n!==0&&(rf(t,n|1),It(t,Xe()),!(Me&6)&&(Ws=Xe()+500,rr()))}break;case 13:Rr(function(){var r=ai(e,1);if(r!==null){var a=jt();wn(r,e,1,a)}}),Df(e,1)}};sf=function(e){if(e.tag===13){var t=ai(e,134217728);if(t!==null){var n=jt();wn(t,e,134217728,n)}Df(e,134217728)}};Ix=function(e){if(e.tag===13){var t=Wi(e),n=ai(e,t);if(n!==null){var r=jt();wn(n,e,t,r)}Df(e,t)}};Dx=function(){return Ie};zx=function(e,t){var n=Ie;try{return Ie=e,t()}finally{Ie=n}};Md=function(e,t,n){switch(t){case"input":if(Sd(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var a=bc(r);if(!a)throw Error(K(90));mx(r),Sd(r,a)}}}break;case"textarea":vx(e,n);break;case"select":t=n.value,t!=null&&vs(e,!!n.multiple,t,!1)}};Cx=Mf;Sx=Rr;var pj={usingClientEntryPoint:!1,Events:[_a,us,bc,bx,Nx,Mf]},jo={findFiberByHostInstance:mr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},mj={bundleType:jo.bundleType,version:jo.version,rendererPackageName:jo.rendererPackageName,rendererConfig:jo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:fi.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=kx(e),e===null?null:e.stateNode},findFiberByHostInstance:jo.findFiberByHostInstance||hj,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var cl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!cl.isDisabled&&cl.supportsFiber)try{xc=cl.inject(mj),Fn=cl}catch{}}Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pj;Gt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Ff(t))throw Error(K(200));return dj(e,t,null,n)};Gt.createRoot=function(e,t){if(!Ff(e))throw Error(K(299));var n=!1,r="",a=o_;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(a=t.onRecoverableError)),t=If(e,1,!1,null,null,n,!1,r,a),e[oi]=t.current,ta(e.nodeType===8?e.parentNode:e),new zf(t)};Gt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(K(188)):(e=Object.keys(e).join(","),Error(K(268,e)));return e=kx(t),e=e===null?null:e.stateNode,e};Gt.flushSync=function(e){return Rr(e)};Gt.hydrate=function(e,t,n){if(!Tc(t))throw Error(K(200));return Mc(null,e,t,!0,n)};Gt.hydrateRoot=function(e,t,n){if(!Ff(e))throw Error(K(405));var r=n!=null&&n.hydratedSources||null,a=!1,s="",c=o_;if(n!=null&&(n.unstable_strictMode===!0&&(a=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(c=n.onRecoverableError)),t=s_(t,null,e,1,n??null,a,!1,s,c),e[oi]=t.current,ta(e),r)for(e=0;e<r.length;e++)n=r[e],a=n._getVersion,a=a(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,a]:t.mutableSourceEagerHydrationData.push(n,a);return new Ec(t)};Gt.render=function(e,t,n){if(!Tc(t))throw Error(K(200));return Mc(null,e,t,!1,n)};Gt.unmountComponentAtNode=function(e){if(!Tc(e))throw Error(K(40));return e._reactRootContainer?(Rr(function(){Mc(null,null,e,!1,function(){e._reactRootContainer=null,e[oi]=null})}),!0):!1};Gt.unstable_batchedUpdates=Mf;Gt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!Tc(n))throw Error(K(200));if(e==null||e._reactInternals===void 0)throw Error(K(38));return Mc(e,t,n,!1,r)};Gt.version="18.3.1-next-f1338f8080-20240426";function a_(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(a_)}catch(e){console.error(e)}}a_(),ax.exports=Gt;var $r=ax.exports;const gj=Hh($r);var l_,Bg=$r;l_=Bg.createRoot,Bg.hydrateRoot;function vj(e,t){if(e instanceof RegExp)return{keys:!1,pattern:e};var n,r,a,s,c=[],u="",h=e.split("/");for(h[0]||h.shift();a=h.shift();)n=a[0],n==="*"?(c.push(n),u+=a[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=a.indexOf("?",1),s=a.indexOf(".",1),c.push(a.substring(1,~r?r:~s?s:a.length)),u+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(u+=(~r?"?":"")+"\\"+a.substring(s))):u+="/"+a;return{keys:c,pattern:new RegExp("^"+u+(t?"(?=$|/)":"/?$"),"i")}}var c_={exports:{}},u_={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gs=_;function xj(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var yj=typeof Object.is=="function"?Object.is:xj,_j=Gs.useState,wj=Gs.useEffect,bj=Gs.useLayoutEffect,Nj=Gs.useDebugValue;function Cj(e,t){var n=t(),r=_j({inst:{value:n,getSnapshot:t}}),a=r[0].inst,s=r[1];return bj(function(){a.value=n,a.getSnapshot=t,id(a)&&s({inst:a})},[e,n,t]),wj(function(){return id(a)&&s({inst:a}),e(function(){id(a)&&s({inst:a})})},[e]),Nj(n),n}function id(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!yj(e,n)}catch{return!0}}function Sj(e,t){return t()}var jj=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?Sj:Cj;u_.useSyncExternalStore=Gs.useSyncExternalStore!==void 0?Gs.useSyncExternalStore:jj;c_.exports=u_;var Pj=c_.exports;const kj=sx.useInsertionEffect,Lj=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ej=Lj?_.useLayoutEffect:_.useEffect,Tj=kj||Ej,d_=e=>{const t=_.useRef([e,(...n)=>t[0](...n)]).current;return Tj(()=>{t[0]=e}),t[1]},Mj="popstate",Bf="pushState",$f="replaceState",Rj="hashchange",$g=[Mj,Bf,$f,Rj],Oj=e=>{for(const t of $g)addEventListener(t,e);return()=>{for(const t of $g)removeEventListener(t,e)}},h_=(e,t)=>Pj.useSyncExternalStore(Oj,e,t),Aj=()=>location.search,Ij=({ssrSearch:e=""}={})=>h_(Aj,()=>e),Vg=()=>location.pathname,Dj=({ssrPath:e}={})=>h_(Vg,e?()=>e:Vg),zj=(e,{replace:t=!1,state:n=null}={})=>history[t?$f:Bf](n,"",e),Fj=(e={})=>[Dj(e),zj],Ug=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[Ug]>"u"){for(const e of[Bf,$f]){const t=history[e];history[e]=function(){const n=t.apply(this,arguments),r=new Event(e);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,Ug,{value:!0})}const Bj=(e,t)=>t.toLowerCase().indexOf(e.toLowerCase())?"~"+t:t.slice(e.length)||"/",f_=(e="")=>e==="/"?"":e,$j=(e,t)=>e[0]==="~"?e.slice(1):f_(t)+e,Vj=(e="",t)=>Bj(Hg(f_(e)),Hg(t)),Hg=e=>{try{return decodeURI(e)}catch{return e}},p_={hook:Fj,searchHook:Ij,parser:vj,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:e=>e},m_=_.createContext(p_),ba=()=>_.useContext(m_),g_={},v_=_.createContext(g_),x_=()=>_.useContext(v_),Rc=e=>{const[t,n]=e.hook(e);return[Vj(e.base,t),d_((r,a)=>n($j(r,e.base),a))]},sr=()=>Rc(ba()),y_=(e,t,n,r)=>{const{pattern:a,keys:s}=t instanceof RegExp?{keys:!1,pattern:t}:e(t||"*",r),c=a.exec(n)||[],[u,...h]=c;return u!==void 0?[!0,(()=>{const f=s!==!1?Object.fromEntries(s.map((m,y)=>[m,h[y]])):c.groups;let g={...h};return f&&Object.assign(g,f),g})(),...r?[u]:[]]:[!1,null]},Uj=({children:e,...t})=>{var g,m;const n=ba(),r=t.hook?p_:n;let a=r;const[s,c]=((g=t.ssrPath)==null?void 0:g.split("?"))??[];c&&(t.ssrSearch=c,t.ssrPath=s),t.hrefs=t.hrefs??((m=t.hook)==null?void 0:m.hrefs);let u=_.useRef({}),h=u.current,f=h;for(let y in r){const b=y==="base"?r[y]+(t[y]||""):t[y]||r[y];h===f&&b!==f[y]&&(u.current=f={...f}),f[y]=b,b!==r[y]&&(a=f)}return _.createElement(m_.Provider,{value:a,children:e})},Zg=({children:e,component:t},n)=>t?_.createElement(t,{params:n}):typeof e=="function"?e(n):e,Hj=e=>{let t=_.useRef(g_),n=t.current;for(const r in e)e[r]!==n[r]&&(n=e);return Object.keys(e).length===0&&(n=e),t.current=n},_t=({path:e,nest:t,match:n,...r})=>{const a=ba(),[s]=Rc(a),[c,u,h]=n??y_(a.parser,e,s,t),f=Hj({...x_(),...u});if(!c)return null;const g=h?_.createElement(Uj,{base:h},Zg(r,f)):Zg(r,f);return _.createElement(v_.Provider,{value:f,children:g})},Zj=_.forwardRef((e,t)=>{const n=ba(),[r,a]=Rc(n),{to:s="",href:c=s,onClick:u,asChild:h,children:f,className:g,replace:m,state:y,...b}=e,j=d_(S=>{S.ctrlKey||S.metaKey||S.altKey||S.shiftKey||S.button!==0||(u==null||u(S),S.defaultPrevented||(S.preventDefault(),a(c,e)))}),v=n.hrefs(c[0]==="~"?c.slice(1):n.base+c,n);return h&&_.isValidElement(f)?_.cloneElement(f,{onClick:j,href:v}):_.createElement("a",{...b,onClick:j,href:v,className:g!=null&&g.call?g(r===c):g,children:f,ref:t})}),__=e=>Array.isArray(e)?e.flatMap(t=>__(t&&t.type===_.Fragment?t.props.children:t)):[e],Wj=({children:e,location:t})=>{const n=ba(),[r]=Rc(n);for(const a of __(e)){let s=0;if(_.isValidElement(a)&&(s=y_(n.parser,a.props.path,t||r,a.props.nest))[0])return _.cloneElement(a,{match:s})}return null};var eo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){return this.listeners.add(e),this.onSubscribe(),()=>{this.listeners.delete(e),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Or=typeof window>"u"||"Deno"in globalThis;function nn(){}function Gj(e,t){return typeof e=="function"?e(t):e}function dh(e){return typeof e=="number"&&e>=0&&e!==1/0}function w_(e,t){return Math.max(e+(t||0)-Date.now(),0)}function Ns(e,t){return typeof e=="function"?e(t):e}function xn(e,t){return typeof e=="function"?e(t):e}function Wg(e,t){const{type:n="all",exact:r,fetchStatus:a,predicate:s,queryKey:c,stale:u}=e;if(c){if(r){if(t.queryHash!==Vf(c,t.options))return!1}else if(!ua(t.queryKey,c))return!1}if(n!=="all"){const h=t.isActive();if(n==="active"&&!h||n==="inactive"&&h)return!1}return!(typeof u=="boolean"&&t.isStale()!==u||a&&a!==t.state.fetchStatus||s&&!s(t))}function Gg(e,t){const{exact:n,status:r,predicate:a,mutationKey:s}=e;if(s){if(!t.options.mutationKey)return!1;if(n){if(Ar(t.options.mutationKey)!==Ar(s))return!1}else if(!ua(t.options.mutationKey,s))return!1}return!(r&&t.state.status!==r||a&&!a(t))}function Vf(e,t){return((t==null?void 0:t.queryKeyHashFn)||Ar)(e)}function Ar(e){return JSON.stringify(e,(t,n)=>hh(n)?Object.keys(n).sort().reduce((r,a)=>(r[a]=n[a],r),{}):n)}function ua(e,t){return e===t?!0:typeof e!=typeof t?!1:e&&t&&typeof e=="object"&&typeof t=="object"?!Object.keys(t).some(n=>!ua(e[n],t[n])):!1}function b_(e,t){if(e===t)return e;const n=Kg(e)&&Kg(t);if(n||hh(e)&&hh(t)){const r=n?e:Object.keys(e),a=r.length,s=n?t:Object.keys(t),c=s.length,u=n?[]:{};let h=0;for(let f=0;f<c;f++){const g=n?f:s[f];(!n&&r.includes(g)||n)&&e[g]===void 0&&t[g]===void 0?(u[g]=void 0,h++):(u[g]=b_(e[g],t[g]),u[g]===e[g]&&e[g]!==void 0&&h++)}return a===c&&h===a?e:u}return t}function ac(e,t){if(!t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}function Kg(e){return Array.isArray(e)&&e.length===Object.keys(e).length}function hh(e){if(!qg(e))return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(!qg(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(e)!==Object.prototype)}function qg(e){return Object.prototype.toString.call(e)==="[object Object]"}function Kj(e){return new Promise(t=>{setTimeout(t,e)})}function fh(e,t,n){return typeof n.structuralSharing=="function"?n.structuralSharing(e,t):n.structuralSharing!==!1?b_(e,t):t}function qj(e,t,n=0){const r=[...e,t];return n&&r.length>n?r.slice(1):r}function Qj(e,t,n=0){const r=[t,...e];return n&&r.length>n?r.slice(0,-1):r}var Uf=Symbol();function N_(e,t){return!e.queryFn&&(t!=null&&t.initialPromise)?()=>t.initialPromise:!e.queryFn||e.queryFn===Uf?()=>Promise.reject(new Error(`Missing queryFn: '${e.queryHash}'`)):e.queryFn}var yr,Li,Ps,zv,Yj=(zv=class extends eo{constructor(){super();de(this,yr);de(this,Li);de(this,Ps);te(this,Ps,t=>{if(!Or&&window.addEventListener){const n=()=>t();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){M(this,Li)||this.setEventListener(M(this,Ps))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Li))==null||t.call(this),te(this,Li,void 0))}setEventListener(t){var n;te(this,Ps,t),(n=M(this,Li))==null||n.call(this),te(this,Li,t(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(t){M(this,yr)!==t&&(te(this,yr,t),this.onFocus())}onFocus(){const t=this.isFocused();this.listeners.forEach(n=>{n(t)})}isFocused(){var t;return typeof M(this,yr)=="boolean"?M(this,yr):((t=globalThis.document)==null?void 0:t.visibilityState)!=="hidden"}},yr=new WeakMap,Li=new WeakMap,Ps=new WeakMap,zv),Hf=new Yj,ks,Ei,Ls,Fv,Xj=(Fv=class extends eo{constructor(){super();de(this,ks,!0);de(this,Ei);de(this,Ls);te(this,Ls,t=>{if(!Or&&window.addEventListener){const n=()=>t(!0),r=()=>t(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){M(this,Ei)||this.setEventListener(M(this,Ls))}onUnsubscribe(){var t;this.hasListeners()||((t=M(this,Ei))==null||t.call(this),te(this,Ei,void 0))}setEventListener(t){var n;te(this,Ls,t),(n=M(this,Ei))==null||n.call(this),te(this,Ei,t(this.setOnline.bind(this)))}setOnline(t){M(this,ks)!==t&&(te(this,ks,t),this.listeners.forEach(r=>{r(t)}))}isOnline(){return M(this,ks)}},ks=new WeakMap,Ei=new WeakMap,Ls=new WeakMap,Fv),lc=new Xj;function ph(){let e,t;const n=new Promise((a,s)=>{e=a,t=s});n.status="pending",n.catch(()=>{});function r(a){Object.assign(n,a),delete n.resolve,delete n.reject}return n.resolve=a=>{r({status:"fulfilled",value:a}),e(a)},n.reject=a=>{r({status:"rejected",reason:a}),t(a)},n}function Jj(e){return Math.min(1e3*2**e,3e4)}function C_(e){return(e??"online")==="online"?lc.isOnline():!0}var S_=class extends Error{constructor(e){super("CancelledError"),this.revert=e==null?void 0:e.revert,this.silent=e==null?void 0:e.silent}};function rd(e){return e instanceof S_}function j_(e){let t=!1,n=0,r=!1,a;const s=ph(),c=v=>{var S;r||(y(new S_(v)),(S=e.abort)==null||S.call(e))},u=()=>{t=!0},h=()=>{t=!1},f=()=>Hf.isFocused()&&(e.networkMode==="always"||lc.isOnline())&&e.canRun(),g=()=>C_(e.networkMode)&&e.canRun(),m=v=>{var S;r||(r=!0,(S=e.onSuccess)==null||S.call(e,v),a==null||a(),s.resolve(v))},y=v=>{var S;r||(r=!0,(S=e.onError)==null||S.call(e,v),a==null||a(),s.reject(v))},b=()=>new Promise(v=>{var S;a=N=>{(r||f())&&v(N)},(S=e.onPause)==null||S.call(e)}).then(()=>{var v;a=void 0,r||(v=e.onContinue)==null||v.call(e)}),j=()=>{if(r)return;let v;const S=n===0?e.initialPromise:void 0;try{v=S??e.fn()}catch(N){v=Promise.reject(N)}Promise.resolve(v).then(m).catch(N=>{var R;if(r)return;const w=e.retry??(Or?0:3),C=e.retryDelay??Jj,k=typeof C=="function"?C(n,N):C,E=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,N);if(t||!E){y(N);return}n++,(R=e.onFail)==null||R.call(e,n,N),Kj(k).then(()=>f()?void 0:b()).then(()=>{t?y(N):j()})})};return{promise:s,cancel:c,continue:()=>(a==null||a(),s),cancelRetry:u,continueRetry:h,canStart:g,start:()=>(g()?j():b().then(j),s)}}function eP(){let e=[],t=0,n=u=>{u()},r=u=>{u()},a=u=>setTimeout(u,0);const s=u=>{t?e.push(u):a(()=>{n(u)})},c=()=>{const u=e;e=[],u.length&&a(()=>{r(()=>{u.forEach(h=>{n(h)})})})};return{batch:u=>{let h;t++;try{h=u()}finally{t--,t||c()}return h},batchCalls:u=>(...h)=>{s(()=>{u(...h)})},schedule:s,setNotifyFunction:u=>{n=u},setBatchNotifyFunction:u=>{r=u},setScheduler:u=>{a=u}}}var it=eP(),_r,Bv,P_=(Bv=class{constructor(){de(this,_r)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dh(this.gcTime)&&te(this,_r,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(e){this.gcTime=Math.max(this.gcTime||0,e??(Or?1/0:5*60*1e3))}clearGcTimeout(){M(this,_r)&&(clearTimeout(M(this,_r)),te(this,_r,void 0))}},_r=new WeakMap,Bv),Es,Ts,tn,mt,fa,wr,mn,Yn,$v,tP=($v=class extends P_{constructor(t){super();de(this,mn);de(this,Es);de(this,Ts);de(this,tn);de(this,mt);de(this,fa);de(this,wr);te(this,wr,!1),te(this,fa,t.defaultOptions),this.setOptions(t.options),this.observers=[],te(this,tn,t.cache),this.queryKey=t.queryKey,this.queryHash=t.queryHash,te(this,Es,nP(this.options)),this.state=t.state??M(this,Es),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var t;return(t=M(this,mt))==null?void 0:t.promise}setOptions(t){this.options={...M(this,fa),...t},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&M(this,tn).remove(this)}setData(t,n){const r=fh(this.state.data,t,this.options);return be(this,mn,Yn).call(this,{data:r,type:"success",dataUpdatedAt:n==null?void 0:n.updatedAt,manual:n==null?void 0:n.manual}),r}setState(t,n){be(this,mn,Yn).call(this,{type:"setState",state:t,setStateOptions:n})}cancel(t){var r,a;const n=(r=M(this,mt))==null?void 0:r.promise;return(a=M(this,mt))==null||a.cancel(t),n?n.then(nn).catch(nn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(M(this,Es))}isActive(){return this.observers.some(t=>xn(t.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Uf||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(t=>t.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(t=0){return this.state.isInvalidated||this.state.data===void 0||!w_(this.state.dataUpdatedAt,t)}onFocus(){var n;const t=this.observers.find(r=>r.shouldFetchOnWindowFocus());t==null||t.refetch({cancelRefetch:!1}),(n=M(this,mt))==null||n.continue()}onOnline(){var n;const t=this.observers.find(r=>r.shouldFetchOnReconnect());t==null||t.refetch({cancelRefetch:!1}),(n=M(this,mt))==null||n.continue()}addObserver(t){this.observers.includes(t)||(this.observers.push(t),this.clearGcTimeout(),M(this,tn).notify({type:"observerAdded",query:this,observer:t}))}removeObserver(t){this.observers.includes(t)&&(this.observers=this.observers.filter(n=>n!==t),this.observers.length||(M(this,mt)&&(M(this,wr)?M(this,mt).cancel({revert:!0}):M(this,mt).cancelRetry()),this.scheduleGc()),M(this,tn).notify({type:"observerRemoved",query:this,observer:t}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||be(this,mn,Yn).call(this,{type:"invalidate"})}fetch(t,n){var h,f,g;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(n!=null&&n.cancelRefetch))this.cancel({silent:!0});else if(M(this,mt))return M(this,mt).continueRetry(),M(this,mt).promise}if(t&&this.setOptions(t),!this.options.queryFn){const m=this.observers.find(y=>y.options.queryFn);m&&this.setOptions(m.options)}const r=new AbortController,a=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(te(this,wr,!0),r.signal)})},s=()=>{const m=N_(this.options,n),y={queryKey:this.queryKey,meta:this.meta};return a(y),te(this,wr,!1),this.options.persister?this.options.persister(m,y,this):m(y)},c={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:s};a(c),(h=this.options.behavior)==null||h.onFetch(c,this),te(this,Ts,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&be(this,mn,Yn).call(this,{type:"fetch",meta:(g=c.fetchOptions)==null?void 0:g.meta});const u=m=>{var y,b,j,v;rd(m)&&m.silent||be(this,mn,Yn).call(this,{type:"error",error:m}),rd(m)||((b=(y=M(this,tn).config).onError)==null||b.call(y,m,this),(v=(j=M(this,tn).config).onSettled)==null||v.call(j,this.state.data,m,this)),this.scheduleGc()};return te(this,mt,j_({initialPromise:n==null?void 0:n.initialPromise,fn:c.fetchFn,abort:r.abort.bind(r),onSuccess:m=>{var y,b,j,v;if(m===void 0){u(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(S){u(S);return}(b=(y=M(this,tn).config).onSuccess)==null||b.call(y,m,this),(v=(j=M(this,tn).config).onSettled)==null||v.call(j,m,this.state.error,this),this.scheduleGc()},onError:u,onFail:(m,y)=>{be(this,mn,Yn).call(this,{type:"failed",failureCount:m,error:y})},onPause:()=>{be(this,mn,Yn).call(this,{type:"pause"})},onContinue:()=>{be(this,mn,Yn).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),M(this,mt).start()}},Es=new WeakMap,Ts=new WeakMap,tn=new WeakMap,mt=new WeakMap,fa=new WeakMap,wr=new WeakMap,mn=new WeakSet,Yn=function(t){const n=r=>{switch(t.type){case"failed":return{...r,fetchFailureCount:t.failureCount,fetchFailureReason:t.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,...k_(r.data,this.options),fetchMeta:t.meta??null};case"success":return{...r,data:t.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:t.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!t.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const a=t.error;return rd(a)&&a.revert&&M(this,Ts)?{...M(this,Ts),fetchStatus:"idle"}:{...r,error:a,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:a,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...t.state}}};this.state=n(this.state),it.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate()}),M(this,tn).notify({query:this,type:"updated",action:t})})},$v);function k_(e,t){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:C_(t.networkMode)?"fetching":"paused",...e===void 0&&{error:null,status:"pending"}}}function nP(e){const t=typeof e.initialData=="function"?e.initialData():e.initialData,n=t!==void 0,r=n?typeof e.initialDataUpdatedAt=="function"?e.initialDataUpdatedAt():e.initialDataUpdatedAt:0;return{data:t,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Mn,Vv,iP=(Vv=class extends eo{constructor(t={}){super();de(this,Mn);this.config=t,te(this,Mn,new Map)}build(t,n,r){const a=n.queryKey,s=n.queryHash??Vf(a,n);let c=this.get(s);return c||(c=new tP({cache:this,queryKey:a,queryHash:s,options:t.defaultQueryOptions(n),state:r,defaultOptions:t.getQueryDefaults(a)}),this.add(c)),c}add(t){M(this,Mn).has(t.queryHash)||(M(this,Mn).set(t.queryHash,t),this.notify({type:"added",query:t}))}remove(t){const n=M(this,Mn).get(t.queryHash);n&&(t.destroy(),n===t&&M(this,Mn).delete(t.queryHash),this.notify({type:"removed",query:t}))}clear(){it.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}get(t){return M(this,Mn).get(t)}getAll(){return[...M(this,Mn).values()]}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Wg(n,r))}findAll(t={}){const n=this.getAll();return Object.keys(t).length>0?n.filter(r=>Wg(t,r)):n}notify(t){it.batch(()=>{this.listeners.forEach(n=>{n(t)})})}onFocus(){it.batch(()=>{this.getAll().forEach(t=>{t.onFocus()})})}onOnline(){it.batch(()=>{this.getAll().forEach(t=>{t.onOnline()})})}},Mn=new WeakMap,Vv),Rn,bt,br,On,Ni,Uv,rP=(Uv=class extends P_{constructor(t){super();de(this,On);de(this,Rn);de(this,bt);de(this,br);this.mutationId=t.mutationId,te(this,bt,t.mutationCache),te(this,Rn,[]),this.state=t.state||L_(),this.setOptions(t.options),this.scheduleGc()}setOptions(t){this.options=t,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(t){M(this,Rn).includes(t)||(M(this,Rn).push(t),this.clearGcTimeout(),M(this,bt).notify({type:"observerAdded",mutation:this,observer:t}))}removeObserver(t){te(this,Rn,M(this,Rn).filter(n=>n!==t)),this.scheduleGc(),M(this,bt).notify({type:"observerRemoved",mutation:this,observer:t})}optionalRemove(){M(this,Rn).length||(this.state.status==="pending"?this.scheduleGc():M(this,bt).remove(this))}continue(){var t;return((t=M(this,br))==null?void 0:t.continue())??this.execute(this.state.variables)}async execute(t){var a,s,c,u,h,f,g,m,y,b,j,v,S,N,w,C,k,E,R,O;te(this,br,j_({fn:()=>this.options.mutationFn?this.options.mutationFn(t):Promise.reject(new Error("No mutationFn found")),onFail:(D,V)=>{be(this,On,Ni).call(this,{type:"failed",failureCount:D,error:V})},onPause:()=>{be(this,On,Ni).call(this,{type:"pause"})},onContinue:()=>{be(this,On,Ni).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>M(this,bt).canRun(this)}));const n=this.state.status==="pending",r=!M(this,br).canStart();try{if(!n){be(this,On,Ni).call(this,{type:"pending",variables:t,isPaused:r}),await((s=(a=M(this,bt).config).onMutate)==null?void 0:s.call(a,t,this));const V=await((u=(c=this.options).onMutate)==null?void 0:u.call(c,t));V!==this.state.context&&be(this,On,Ni).call(this,{type:"pending",context:V,variables:t,isPaused:r})}const D=await M(this,br).start();return await((f=(h=M(this,bt).config).onSuccess)==null?void 0:f.call(h,D,t,this.state.context,this)),await((m=(g=this.options).onSuccess)==null?void 0:m.call(g,D,t,this.state.context)),await((b=(y=M(this,bt).config).onSettled)==null?void 0:b.call(y,D,null,this.state.variables,this.state.context,this)),await((v=(j=this.options).onSettled)==null?void 0:v.call(j,D,null,t,this.state.context)),be(this,On,Ni).call(this,{type:"success",data:D}),D}catch(D){try{throw await((N=(S=M(this,bt).config).onError)==null?void 0:N.call(S,D,t,this.state.context,this)),await((C=(w=this.options).onError)==null?void 0:C.call(w,D,t,this.state.context)),await((E=(k=M(this,bt).config).onSettled)==null?void 0:E.call(k,void 0,D,this.state.variables,this.state.context,this)),await((O=(R=this.options).onSettled)==null?void 0:O.call(R,void 0,D,t,this.state.context)),D}finally{be(this,On,Ni).call(this,{type:"error",error:D})}}finally{M(this,bt).runNext(this)}}},Rn=new WeakMap,bt=new WeakMap,br=new WeakMap,On=new WeakSet,Ni=function(t){const n=r=>{switch(t.type){case"failed":return{...r,failureCount:t.failureCount,failureReason:t.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:t.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:t.isPaused,status:"pending",variables:t.variables,submittedAt:Date.now()};case"success":return{...r,data:t.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:t.error,failureCount:r.failureCount+1,failureReason:t.error,isPaused:!1,status:"error"}}};this.state=n(this.state),it.batch(()=>{M(this,Rn).forEach(r=>{r.onMutationUpdate(t)}),M(this,bt).notify({mutation:this,type:"updated",action:t})})},Uv);function L_(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Bt,pa,Hv,sP=(Hv=class extends eo{constructor(t={}){super();de(this,Bt);de(this,pa);this.config=t,te(this,Bt,new Map),te(this,pa,Date.now())}build(t,n,r){const a=new rP({mutationCache:this,mutationId:++Wa(this,pa)._,options:t.defaultMutationOptions(n),state:r});return this.add(a),a}add(t){const n=ul(t),r=M(this,Bt).get(n)??[];r.push(t),M(this,Bt).set(n,r),this.notify({type:"added",mutation:t})}remove(t){var r;const n=ul(t);if(M(this,Bt).has(n)){const a=(r=M(this,Bt).get(n))==null?void 0:r.filter(s=>s!==t);a&&(a.length===0?M(this,Bt).delete(n):M(this,Bt).set(n,a))}this.notify({type:"removed",mutation:t})}canRun(t){var r;const n=(r=M(this,Bt).get(ul(t)))==null?void 0:r.find(a=>a.state.status==="pending");return!n||n===t}runNext(t){var r;const n=(r=M(this,Bt).get(ul(t)))==null?void 0:r.find(a=>a!==t&&a.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){it.batch(()=>{this.getAll().forEach(t=>{this.remove(t)})})}getAll(){return[...M(this,Bt).values()].flat()}find(t){const n={exact:!0,...t};return this.getAll().find(r=>Gg(n,r))}findAll(t={}){return this.getAll().filter(n=>Gg(t,n))}notify(t){it.batch(()=>{this.listeners.forEach(n=>{n(t)})})}resumePausedMutations(){const t=this.getAll().filter(n=>n.state.isPaused);return it.batch(()=>Promise.all(t.map(n=>n.continue().catch(nn))))}},Bt=new WeakMap,pa=new WeakMap,Hv);function ul(e){var t;return((t=e.options.scope)==null?void 0:t.id)??String(e.mutationId)}function Qg(e){return{onFetch:(t,n)=>{var g,m,y,b,j;const r=t.options,a=(y=(m=(g=t.fetchOptions)==null?void 0:g.meta)==null?void 0:m.fetchMore)==null?void 0:y.direction,s=((b=t.state.data)==null?void 0:b.pages)||[],c=((j=t.state.data)==null?void 0:j.pageParams)||[];let u={pages:[],pageParams:[]},h=0;const f=async()=>{let v=!1;const S=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>(t.signal.aborted?v=!0:t.signal.addEventListener("abort",()=>{v=!0}),t.signal)})},N=N_(t.options,t.fetchOptions),w=async(C,k,E)=>{if(v)return Promise.reject();if(k==null&&C.pages.length)return Promise.resolve(C);const R={queryKey:t.queryKey,pageParam:k,direction:E?"backward":"forward",meta:t.options.meta};S(R);const O=await N(R),{maxPages:D}=t.options,V=E?Qj:qj;return{pages:V(C.pages,O,D),pageParams:V(C.pageParams,k,D)}};if(a&&s.length){const C=a==="backward",k=C?oP:Yg,E={pages:s,pageParams:c},R=k(r,E);u=await w(E,R,C)}else{const C=e??s.length;do{const k=h===0?c[0]??r.initialPageParam:Yg(r,u);if(h>0&&k==null)break;u=await w(u,k),h++}while(h<C)}return u};t.options.persister?t.fetchFn=()=>{var v,S;return(S=(v=t.options).persister)==null?void 0:S.call(v,f,{queryKey:t.queryKey,meta:t.options.meta,signal:t.signal},n)}:t.fetchFn=f}}}function Yg(e,{pages:t,pageParams:n}){const r=t.length-1;return t.length>0?e.getNextPageParam(t[r],t,n[r],n):void 0}function oP(e,{pages:t,pageParams:n}){var r;return t.length>0?(r=e.getPreviousPageParam)==null?void 0:r.call(e,t[0],t,n[0],n):void 0}var qe,Ti,Mi,Ms,Rs,Ri,Os,As,Zv,aP=(Zv=class{constructor(e={}){de(this,qe);de(this,Ti);de(this,Mi);de(this,Ms);de(this,Rs);de(this,Ri);de(this,Os);de(this,As);te(this,qe,e.queryCache||new iP),te(this,Ti,e.mutationCache||new sP),te(this,Mi,e.defaultOptions||{}),te(this,Ms,new Map),te(this,Rs,new Map),te(this,Ri,0)}mount(){Wa(this,Ri)._++,M(this,Ri)===1&&(te(this,Os,Hf.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,qe).onFocus())})),te(this,As,lc.subscribe(async e=>{e&&(await this.resumePausedMutations(),M(this,qe).onOnline())})))}unmount(){var e,t;Wa(this,Ri)._--,M(this,Ri)===0&&((e=M(this,Os))==null||e.call(this),te(this,Os,void 0),(t=M(this,As))==null||t.call(this),te(this,As,void 0))}isFetching(e){return M(this,qe).findAll({...e,fetchStatus:"fetching"}).length}isMutating(e){return M(this,Ti).findAll({...e,status:"pending"}).length}getQueryData(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=M(this,qe).get(t.queryHash))==null?void 0:n.state.data}ensureQueryData(e){const t=this.getQueryData(e.queryKey);if(t===void 0)return this.fetchQuery(e);{const n=this.defaultQueryOptions(e),r=M(this,qe).build(this,n);return e.revalidateIfStale&&r.isStaleByTime(Ns(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(t)}}getQueriesData(e){return M(this,qe).findAll(e).map(({queryKey:t,state:n})=>{const r=n.data;return[t,r]})}setQueryData(e,t,n){const r=this.defaultQueryOptions({queryKey:e}),a=M(this,qe).get(r.queryHash),s=a==null?void 0:a.state.data,c=Gj(t,s);if(c!==void 0)return M(this,qe).build(this,r).setData(c,{...n,manual:!0})}setQueriesData(e,t,n){return it.batch(()=>M(this,qe).findAll(e).map(({queryKey:r})=>[r,this.setQueryData(r,t,n)]))}getQueryState(e){var n;const t=this.defaultQueryOptions({queryKey:e});return(n=M(this,qe).get(t.queryHash))==null?void 0:n.state}removeQueries(e){const t=M(this,qe);it.batch(()=>{t.findAll(e).forEach(n=>{t.remove(n)})})}resetQueries(e,t){const n=M(this,qe),r={type:"active",...e};return it.batch(()=>(n.findAll(e).forEach(a=>{a.reset()}),this.refetchQueries(r,t)))}cancelQueries(e={},t={}){const n={revert:!0,...t},r=it.batch(()=>M(this,qe).findAll(e).map(a=>a.cancel(n)));return Promise.all(r).then(nn).catch(nn)}invalidateQueries(e={},t={}){return it.batch(()=>{if(M(this,qe).findAll(e).forEach(r=>{r.invalidate()}),e.refetchType==="none")return Promise.resolve();const n={...e,type:e.refetchType??e.type??"active"};return this.refetchQueries(n,t)})}refetchQueries(e={},t){const n={...t,cancelRefetch:(t==null?void 0:t.cancelRefetch)??!0},r=it.batch(()=>M(this,qe).findAll(e).filter(a=>!a.isDisabled()).map(a=>{let s=a.fetch(void 0,n);return n.throwOnError||(s=s.catch(nn)),a.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(nn)}fetchQuery(e){const t=this.defaultQueryOptions(e);t.retry===void 0&&(t.retry=!1);const n=M(this,qe).build(this,t);return n.isStaleByTime(Ns(t.staleTime,n))?n.fetch(t):Promise.resolve(n.state.data)}prefetchQuery(e){return this.fetchQuery(e).then(nn).catch(nn)}fetchInfiniteQuery(e){return e.behavior=Qg(e.pages),this.fetchQuery(e)}prefetchInfiniteQuery(e){return this.fetchInfiniteQuery(e).then(nn).catch(nn)}ensureInfiniteQueryData(e){return e.behavior=Qg(e.pages),this.ensureQueryData(e)}resumePausedMutations(){return lc.isOnline()?M(this,Ti).resumePausedMutations():Promise.resolve()}getQueryCache(){return M(this,qe)}getMutationCache(){return M(this,Ti)}getDefaultOptions(){return M(this,Mi)}setDefaultOptions(e){te(this,Mi,e)}setQueryDefaults(e,t){M(this,Ms).set(Ar(e),{queryKey:e,defaultOptions:t})}getQueryDefaults(e){const t=[...M(this,Ms).values()];let n={};return t.forEach(r=>{ua(e,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(e,t){M(this,Rs).set(Ar(e),{mutationKey:e,defaultOptions:t})}getMutationDefaults(e){const t=[...M(this,Rs).values()];let n={};return t.forEach(r=>{ua(e,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(e){if(e._defaulted)return e;const t={...M(this,Mi).queries,...this.getQueryDefaults(e.queryKey),...e,_defaulted:!0};return t.queryHash||(t.queryHash=Vf(t.queryKey,t)),t.refetchOnReconnect===void 0&&(t.refetchOnReconnect=t.networkMode!=="always"),t.throwOnError===void 0&&(t.throwOnError=!!t.suspense),!t.networkMode&&t.persister&&(t.networkMode="offlineFirst"),t.enabled!==!0&&t.queryFn===Uf&&(t.enabled=!1),t}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...M(this,Mi).mutations,...(e==null?void 0:e.mutationKey)&&this.getMutationDefaults(e.mutationKey),...e,_defaulted:!0}}clear(){M(this,qe).clear(),M(this,Ti).clear()}},qe=new WeakMap,Ti=new WeakMap,Mi=new WeakMap,Ms=new WeakMap,Rs=new WeakMap,Ri=new WeakMap,Os=new WeakMap,As=new WeakMap,Zv),Et,je,ma,Nt,Nr,Is,Oi,An,ga,Ds,zs,Cr,Sr,Ai,Fs,Oe,Oo,mh,gh,vh,xh,yh,_h,wh,E_,Wv,lP=(Wv=class extends eo{constructor(t,n){super();de(this,Oe);de(this,Et);de(this,je);de(this,ma);de(this,Nt);de(this,Nr);de(this,Is);de(this,Oi);de(this,An);de(this,ga);de(this,Ds);de(this,zs);de(this,Cr);de(this,Sr);de(this,Ai);de(this,Fs,new Set);this.options=n,te(this,Et,t),te(this,An,null),te(this,Oi,ph()),this.options.experimental_prefetchInRender||M(this,Oi).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(n)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(M(this,je).addObserver(this),Xg(M(this,je),this.options)?be(this,Oe,Oo).call(this):this.updateResult(),be(this,Oe,xh).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return bh(M(this,je),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return bh(M(this,je),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,be(this,Oe,yh).call(this),be(this,Oe,_h).call(this),M(this,je).removeObserver(this)}setOptions(t,n){const r=this.options,a=M(this,je);if(this.options=M(this,Et).defaultQueryOptions(t),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xn(this.options.enabled,M(this,je))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");be(this,Oe,wh).call(this),M(this,je).setOptions(this.options),r._defaulted&&!ac(this.options,r)&&M(this,Et).getQueryCache().notify({type:"observerOptionsUpdated",query:M(this,je),observer:this});const s=this.hasListeners();s&&Jg(M(this,je),a,this.options,r)&&be(this,Oe,Oo).call(this),this.updateResult(n),s&&(M(this,je)!==a||xn(this.options.enabled,M(this,je))!==xn(r.enabled,M(this,je))||Ns(this.options.staleTime,M(this,je))!==Ns(r.staleTime,M(this,je)))&&be(this,Oe,mh).call(this);const c=be(this,Oe,gh).call(this);s&&(M(this,je)!==a||xn(this.options.enabled,M(this,je))!==xn(r.enabled,M(this,je))||c!==M(this,Ai))&&be(this,Oe,vh).call(this,c)}getOptimisticResult(t){const n=M(this,Et).getQueryCache().build(M(this,Et),t),r=this.createResult(n,t);return uP(this,r)&&(te(this,Nt,r),te(this,Is,this.options),te(this,Nr,M(this,je).state)),r}getCurrentResult(){return M(this,Nt)}trackResult(t,n){const r={};return Object.keys(t).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),n==null||n(a),t[a])})}),r}trackProp(t){M(this,Fs).add(t)}getCurrentQuery(){return M(this,je)}refetch({...t}={}){return this.fetch({...t})}fetchOptimistic(t){const n=M(this,Et).defaultQueryOptions(t),r=M(this,Et).getQueryCache().build(M(this,Et),n);return r.fetch().then(()=>this.createResult(r,n))}fetch(t){return be(this,Oe,Oo).call(this,{...t,cancelRefetch:t.cancelRefetch??!0}).then(()=>(this.updateResult(),M(this,Nt)))}createResult(t,n){var D;const r=M(this,je),a=this.options,s=M(this,Nt),c=M(this,Nr),u=M(this,Is),f=t!==r?t.state:M(this,ma),{state:g}=t;let m={...g},y=!1,b;if(n._optimisticResults){const V=this.hasListeners(),H=!V&&Xg(t,n),Q=V&&Jg(t,r,n,a);(H||Q)&&(m={...m,...k_(g.data,t.options)}),n._optimisticResults==="isRestoring"&&(m.fetchStatus="idle")}let{error:j,errorUpdatedAt:v,status:S}=m;if(n.select&&m.data!==void 0)if(s&&m.data===(c==null?void 0:c.data)&&n.select===M(this,ga))b=M(this,Ds);else try{te(this,ga,n.select),b=n.select(m.data),b=fh(s==null?void 0:s.data,b,n),te(this,Ds,b),te(this,An,null)}catch(V){te(this,An,V)}else b=m.data;if(n.placeholderData!==void 0&&b===void 0&&S==="pending"){let V;if(s!=null&&s.isPlaceholderData&&n.placeholderData===(u==null?void 0:u.placeholderData))V=s.data;else if(V=typeof n.placeholderData=="function"?n.placeholderData((D=M(this,zs))==null?void 0:D.state.data,M(this,zs)):n.placeholderData,n.select&&V!==void 0)try{V=n.select(V),te(this,An,null)}catch(H){te(this,An,H)}V!==void 0&&(S="success",b=fh(s==null?void 0:s.data,V,n),y=!0)}M(this,An)&&(j=M(this,An),b=M(this,Ds),v=Date.now(),S="error");const N=m.fetchStatus==="fetching",w=S==="pending",C=S==="error",k=w&&N,E=b!==void 0,O={status:S,fetchStatus:m.fetchStatus,isPending:w,isSuccess:S==="success",isError:C,isInitialLoading:k,isLoading:k,data:b,dataUpdatedAt:m.dataUpdatedAt,error:j,errorUpdatedAt:v,failureCount:m.fetchFailureCount,failureReason:m.fetchFailureReason,errorUpdateCount:m.errorUpdateCount,isFetched:m.dataUpdateCount>0||m.errorUpdateCount>0,isFetchedAfterMount:m.dataUpdateCount>f.dataUpdateCount||m.errorUpdateCount>f.errorUpdateCount,isFetching:N,isRefetching:N&&!w,isLoadingError:C&&!E,isPaused:m.fetchStatus==="paused",isPlaceholderData:y,isRefetchError:C&&E,isStale:Zf(t,n),refetch:this.refetch,promise:M(this,Oi)};if(this.options.experimental_prefetchInRender){const V=W=>{O.status==="error"?W.reject(O.error):O.data!==void 0&&W.resolve(O.data)},H=()=>{const W=te(this,Oi,O.promise=ph());V(W)},Q=M(this,Oi);switch(Q.status){case"pending":t.queryHash===r.queryHash&&V(Q);break;case"fulfilled":(O.status==="error"||O.data!==Q.value)&&H();break;case"rejected":(O.status!=="error"||O.error!==Q.reason)&&H();break}}return O}updateResult(t){const n=M(this,Nt),r=this.createResult(M(this,je),this.options);if(te(this,Nr,M(this,je).state),te(this,Is,this.options),M(this,Nr).data!==void 0&&te(this,zs,M(this,je)),ac(r,n))return;te(this,Nt,r);const a={},s=()=>{if(!n)return!0;const{notifyOnChangeProps:c}=this.options,u=typeof c=="function"?c():c;if(u==="all"||!u&&!M(this,Fs).size)return!0;const h=new Set(u??M(this,Fs));return this.options.throwOnError&&h.add("error"),Object.keys(M(this,Nt)).some(f=>{const g=f;return M(this,Nt)[g]!==n[g]&&h.has(g)})};(t==null?void 0:t.listeners)!==!1&&s()&&(a.listeners=!0),be(this,Oe,E_).call(this,{...a,...t})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&be(this,Oe,xh).call(this)}},Et=new WeakMap,je=new WeakMap,ma=new WeakMap,Nt=new WeakMap,Nr=new WeakMap,Is=new WeakMap,Oi=new WeakMap,An=new WeakMap,ga=new WeakMap,Ds=new WeakMap,zs=new WeakMap,Cr=new WeakMap,Sr=new WeakMap,Ai=new WeakMap,Fs=new WeakMap,Oe=new WeakSet,Oo=function(t){be(this,Oe,wh).call(this);let n=M(this,je).fetch(this.options,t);return t!=null&&t.throwOnError||(n=n.catch(nn)),n},mh=function(){be(this,Oe,yh).call(this);const t=Ns(this.options.staleTime,M(this,je));if(Or||M(this,Nt).isStale||!dh(t))return;const r=w_(M(this,Nt).dataUpdatedAt,t)+1;te(this,Cr,setTimeout(()=>{M(this,Nt).isStale||this.updateResult()},r))},gh=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(M(this,je)):this.options.refetchInterval)??!1},vh=function(t){be(this,Oe,_h).call(this),te(this,Ai,t),!(Or||xn(this.options.enabled,M(this,je))===!1||!dh(M(this,Ai))||M(this,Ai)===0)&&te(this,Sr,setInterval(()=>{(this.options.refetchIntervalInBackground||Hf.isFocused())&&be(this,Oe,Oo).call(this)},M(this,Ai)))},xh=function(){be(this,Oe,mh).call(this),be(this,Oe,vh).call(this,be(this,Oe,gh).call(this))},yh=function(){M(this,Cr)&&(clearTimeout(M(this,Cr)),te(this,Cr,void 0))},_h=function(){M(this,Sr)&&(clearInterval(M(this,Sr)),te(this,Sr,void 0))},wh=function(){const t=M(this,Et).getQueryCache().build(M(this,Et),this.options);if(t===M(this,je))return;const n=M(this,je);te(this,je,t),te(this,ma,t.state),this.hasListeners()&&(n==null||n.removeObserver(this),t.addObserver(this))},E_=function(t){it.batch(()=>{t.listeners&&this.listeners.forEach(n=>{n(M(this,Nt))}),M(this,Et).getQueryCache().notify({query:M(this,je),type:"observerResultsUpdated"})})},Wv);function cP(e,t){return xn(t.enabled,e)!==!1&&e.state.data===void 0&&!(e.state.status==="error"&&t.retryOnMount===!1)}function Xg(e,t){return cP(e,t)||e.state.data!==void 0&&bh(e,t,t.refetchOnMount)}function bh(e,t,n){if(xn(t.enabled,e)!==!1){const r=typeof n=="function"?n(e):n;return r==="always"||r!==!1&&Zf(e,t)}return!1}function Jg(e,t,n,r){return(e!==t||xn(r.enabled,e)===!1)&&(!n.suspense||e.state.status!=="error")&&Zf(e,n)}function Zf(e,t){return xn(t.enabled,e)!==!1&&e.isStaleByTime(Ns(t.staleTime,e))}function uP(e,t){return!ac(e.getCurrentResult(),t)}var Ii,Di,Tt,ei,ri,El,Nh,Gv,dP=(Gv=class extends eo{constructor(n,r){super();de(this,ri);de(this,Ii);de(this,Di);de(this,Tt);de(this,ei);te(this,Ii,n),this.setOptions(r),this.bindMethods(),be(this,ri,El).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(n){var a;const r=this.options;this.options=M(this,Ii).defaultMutationOptions(n),ac(this.options,r)||M(this,Ii).getMutationCache().notify({type:"observerOptionsUpdated",mutation:M(this,Tt),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Ar(r.mutationKey)!==Ar(this.options.mutationKey)?this.reset():((a=M(this,Tt))==null?void 0:a.state.status)==="pending"&&M(this,Tt).setOptions(this.options)}onUnsubscribe(){var n;this.hasListeners()||(n=M(this,Tt))==null||n.removeObserver(this)}onMutationUpdate(n){be(this,ri,El).call(this),be(this,ri,Nh).call(this,n)}getCurrentResult(){return M(this,Di)}reset(){var n;(n=M(this,Tt))==null||n.removeObserver(this),te(this,Tt,void 0),be(this,ri,El).call(this),be(this,ri,Nh).call(this)}mutate(n,r){var a;return te(this,ei,r),(a=M(this,Tt))==null||a.removeObserver(this),te(this,Tt,M(this,Ii).getMutationCache().build(M(this,Ii),this.options)),M(this,Tt).addObserver(this),M(this,Tt).execute(n)}},Ii=new WeakMap,Di=new WeakMap,Tt=new WeakMap,ei=new WeakMap,ri=new WeakSet,El=function(){var r;const n=((r=M(this,Tt))==null?void 0:r.state)??L_();te(this,Di,{...n,isPending:n.status==="pending",isSuccess:n.status==="success",isError:n.status==="error",isIdle:n.status==="idle",mutate:this.mutate,reset:this.reset})},Nh=function(n){it.batch(()=>{var r,a,s,c,u,h,f,g;if(M(this,ei)&&this.hasListeners()){const m=M(this,Di).variables,y=M(this,Di).context;(n==null?void 0:n.type)==="success"?((a=(r=M(this,ei)).onSuccess)==null||a.call(r,n.data,m,y),(c=(s=M(this,ei)).onSettled)==null||c.call(s,n.data,null,m,y)):(n==null?void 0:n.type)==="error"&&((h=(u=M(this,ei)).onError)==null||h.call(u,n.error,m,y),(g=(f=M(this,ei)).onSettled)==null||g.call(f,void 0,n.error,m,y))}this.listeners.forEach(m=>{m(M(this,Di))})})},Gv),T_=_.createContext(void 0),Un=e=>{const t=_.useContext(T_);if(!t)throw new Error("No QueryClient set, use QueryClientProvider to set one");return t},hP=({client:e,children:t})=>(_.useEffect(()=>(e.mount(),()=>{e.unmount()}),[e]),o.jsx(T_.Provider,{value:e,children:t})),M_=_.createContext(!1),fP=()=>_.useContext(M_);M_.Provider;function pP(){let e=!1;return{clearReset:()=>{e=!1},reset:()=>{e=!0},isReset:()=>e}}var mP=_.createContext(pP()),gP=()=>_.useContext(mP);function R_(e,t){return typeof e=="function"?e(...t):!!e}function Ch(){}var vP=(e,t)=>{(e.suspense||e.throwOnError||e.experimental_prefetchInRender)&&(t.isReset()||(e.retryOnMount=!1))},xP=e=>{_.useEffect(()=>{e.clearReset()},[e])},yP=({result:e,errorResetBoundary:t,throwOnError:n,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&R_(n,[e.error,r]),_P=e=>{e.suspense&&(e.staleTime===void 0&&(e.staleTime=1e3),typeof e.gcTime=="number"&&(e.gcTime=Math.max(e.gcTime,1e3)))},wP=(e,t)=>e.isLoading&&e.isFetching&&!t,bP=(e,t)=>(e==null?void 0:e.suspense)&&t.isPending,ev=(e,t,n)=>t.fetchOptimistic(e).catch(()=>{n.clearReset()});function NP(e,t,n){var g,m,y,b,j;const r=Un(),a=fP(),s=gP(),c=r.defaultQueryOptions(e);(m=(g=r.getDefaultOptions().queries)==null?void 0:g._experimental_beforeQuery)==null||m.call(g,c),c._optimisticResults=a?"isRestoring":"optimistic",_P(c),vP(c,s),xP(s);const u=!r.getQueryCache().get(c.queryHash),[h]=_.useState(()=>new t(r,c)),f=h.getOptimisticResult(c);if(_.useSyncExternalStore(_.useCallback(v=>{const S=a?Ch:h.subscribe(it.batchCalls(v));return h.updateResult(),S},[h,a]),()=>h.getCurrentResult(),()=>h.getCurrentResult()),_.useEffect(()=>{h.setOptions(c,{listeners:!1})},[c,h]),bP(c,f))throw ev(c,h,s);if(yP({result:f,errorResetBoundary:s,throwOnError:c.throwOnError,query:r.getQueryCache().get(c.queryHash)}))throw f.error;if((b=(y=r.getDefaultOptions().queries)==null?void 0:y._experimental_afterQuery)==null||b.call(y,c,f),c.experimental_prefetchInRender&&!Or&&wP(f,a)){const v=u?ev(c,h,s):(j=r.getQueryCache().get(c.queryHash))==null?void 0:j.promise;v==null||v.catch(Ch).finally(()=>{h.updateResult()})}return c.notifyOnChangeProps?f:h.trackResult(f)}function St(e,t){return NP(e,lP)}function Dt(e,t){const n=Un(),[r]=_.useState(()=>new dP(n,e));_.useEffect(()=>{r.setOptions(e)},[r,e]);const a=_.useSyncExternalStore(_.useCallback(c=>r.subscribe(it.batchCalls(c)),[r]),()=>r.getCurrentResult(),()=>r.getCurrentResult()),s=_.useCallback((c,u)=>{r.mutate(c,u).catch(Ch)},[r]);if(a.error&&R_(r.options.throwOnError,[a.error]))throw a.error;return{...a,mutate:s,mutateAsync:a.mutate}}async function O_(e){if(!e.ok){const t=await e.text()||e.statusText;throw new Error(`${e.status}: ${t}`)}}async function ci(e,t,n){const r=await fetch(t,{method:e,headers:n?{"Content-Type":"application/json"}:{},body:n?JSON.stringify(n):void 0,credentials:"include"});return await O_(r),r}const CP=({on401:e})=>async({queryKey:t})=>{const n=await fetch(t.join("/"),{credentials:"include"});return e==="returnNull"&&n.status===401?null:(await O_(n),await n.json())},SP=new aP({defaultOptions:{queries:{queryFn:CP({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),jP=1,PP=1e6;let sd=0;function kP(){return sd=(sd+1)%Number.MAX_SAFE_INTEGER,sd.toString()}const od=new Map,tv=e=>{if(od.has(e))return;const t=setTimeout(()=>{od.delete(e),Wo({type:"REMOVE_TOAST",toastId:e})},PP);od.set(e,t)},LP=(e,t)=>{switch(t.type){case"ADD_TOAST":return{...e,toasts:[t.toast,...e.toasts].slice(0,jP)};case"UPDATE_TOAST":return{...e,toasts:e.toasts.map(n=>n.id===t.toast.id?{...n,...t.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=t;return n?tv(n):e.toasts.forEach(r=>{tv(r.id)}),{...e,toasts:e.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return t.toastId===void 0?{...e,toasts:[]}:{...e,toasts:e.toasts.filter(n=>n.id!==t.toastId)}}},Tl=[];let Ml={toasts:[]};function Wo(e){Ml=LP(Ml,e),Tl.forEach(t=>{t(Ml)})}function EP({...e}){const t=kP(),n=a=>Wo({type:"UPDATE_TOAST",toast:{...a,id:t}}),r=()=>Wo({type:"DISMISS_TOAST",toastId:t});return Wo({type:"ADD_TOAST",toast:{...e,id:t,open:!0,onOpenChange:a=>{a||r()}}}),{id:t,dismiss:r,update:n}}function Ft(){const[e,t]=_.useState(Ml);return _.useEffect(()=>(Tl.push(t),()=>{const n=Tl.indexOf(t);n>-1&&Tl.splice(n,1)}),[e]),{...e,toast:EP,dismiss:n=>Wo({type:"DISMISS_TOAST",toastId:n})}}function ae(e,t,{checkForDefaultPrevented:n=!0}={}){return function(a){if(e==null||e(a),n===!1||!a.defaultPrevented)return t==null?void 0:t(a)}}function nv(e,t){if(typeof e=="function")return e(t);e!=null&&(e.current=t)}function A_(...e){return t=>{let n=!1;const r=e.map(a=>{const s=nv(a,t);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let a=0;a<r.length;a++){const s=r[a];typeof s=="function"?s():nv(e[a],null)}}}}function Ae(...e){return _.useCallback(A_(...e),e)}function TP(e,t){const n=_.createContext(t),r=s=>{const{children:c,...u}=s,h=_.useMemo(()=>u,Object.values(u));return o.jsx(n.Provider,{value:h,children:c})};r.displayName=e+"Provider";function a(s){const c=_.useContext(n);if(c)return c;if(t!==void 0)return t;throw new Error(`\`${s}\` must be used within \`${e}\``)}return[r,a]}function qt(e,t=[]){let n=[];function r(s,c){const u=_.createContext(c),h=n.length;n=[...n,c];const f=m=>{var N;const{scope:y,children:b,...j}=m,v=((N=y==null?void 0:y[e])==null?void 0:N[h])||u,S=_.useMemo(()=>j,Object.values(j));return o.jsx(v.Provider,{value:S,children:b})};f.displayName=s+"Provider";function g(m,y){var v;const b=((v=y==null?void 0:y[e])==null?void 0:v[h])||u,j=_.useContext(b);if(j)return j;if(c!==void 0)return c;throw new Error(`\`${m}\` must be used within \`${s}\``)}return[f,g]}const a=()=>{const s=n.map(c=>_.createContext(c));return function(u){const h=(u==null?void 0:u[e])||s;return _.useMemo(()=>({[`__scope${e}`]:{...u,[e]:h}}),[u,h])}};return a.scopeName=e,[r,MP(a,...t)]}function MP(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const r=e.map(a=>({useScope:a(),scopeName:a.scopeName}));return function(s){const c=r.reduce((u,{useScope:h,scopeName:f})=>{const m=h(s)[`__scope${f}`];return{...u,...m}},{});return _.useMemo(()=>({[`__scope${t.scopeName}`]:c}),[c])}};return n.scopeName=t.scopeName,n}function Ks(e){const t=OP(e),n=_.forwardRef((r,a)=>{const{children:s,...c}=r,u=_.Children.toArray(s),h=u.find(IP);if(h){const f=h.props.children,g=u.map(m=>m===h?_.Children.count(f)>1?_.Children.only(null):_.isValidElement(f)?f.props.children:null:m);return o.jsx(t,{...c,ref:a,children:_.isValidElement(f)?_.cloneElement(f,void 0,g):null})}return o.jsx(t,{...c,ref:a,children:s})});return n.displayName=`${e}.Slot`,n}var RP=Ks("Slot");function OP(e){const t=_.forwardRef((n,r)=>{const{children:a,...s}=n;if(_.isValidElement(a)){const c=zP(a),u=DP(s,a.props);return a.type!==_.Fragment&&(u.ref=r?A_(r,c):c),_.cloneElement(a,u)}return _.Children.count(a)>1?_.Children.only(null):null});return t.displayName=`${e}.SlotClone`,t}var I_=Symbol("radix.slottable");function AP(e){const t=({children:n})=>o.jsx(o.Fragment,{children:n});return t.displayName=`${e}.Slottable`,t.__radixId=I_,t}function IP(e){return _.isValidElement(e)&&typeof e.type=="function"&&"__radixId"in e.type&&e.type.__radixId===I_}function DP(e,t){const n={...t};for(const r in t){const a=e[r],s=t[r];/^on[A-Z]/.test(r)?a&&s?n[r]=(...u)=>{s(...u),a(...u)}:a&&(n[r]=a):r==="style"?n[r]={...a,...s}:r==="className"&&(n[r]=[a,s].filter(Boolean).join(" "))}return{...e,...n}}function zP(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function Wf(e){const t=e+"CollectionProvider",[n,r]=qt(t),[a,s]=n(t,{collectionRef:{current:null},itemMap:new Map}),c=v=>{const{scope:S,children:N}=v,w=bi.useRef(null),C=bi.useRef(new Map).current;return o.jsx(a,{scope:S,itemMap:C,collectionRef:w,children:N})};c.displayName=t;const u=e+"CollectionSlot",h=Ks(u),f=bi.forwardRef((v,S)=>{const{scope:N,children:w}=v,C=s(u,N),k=Ae(S,C.collectionRef);return o.jsx(h,{ref:k,children:w})});f.displayName=u;const g=e+"CollectionItemSlot",m="data-radix-collection-item",y=Ks(g),b=bi.forwardRef((v,S)=>{const{scope:N,children:w,...C}=v,k=bi.useRef(null),E=Ae(S,k),R=s(g,N);return bi.useEffect(()=>(R.itemMap.set(k,{ref:k,...C}),()=>void R.itemMap.delete(k))),o.jsx(y,{[m]:"",ref:E,children:w})});b.displayName=g;function j(v){const S=s(e+"CollectionConsumer",v);return bi.useCallback(()=>{const w=S.collectionRef.current;if(!w)return[];const C=Array.from(w.querySelectorAll(`[${m}]`));return Array.from(S.itemMap.values()).sort((R,O)=>C.indexOf(R.ref.current)-C.indexOf(O.ref.current))},[S.collectionRef,S.itemMap])}return[{Provider:c,Slot:f,ItemSlot:b},j,r]}var FP=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],me=FP.reduce((e,t)=>{const n=Ks(`Primitive.${t}`),r=_.forwardRef((a,s)=>{const{asChild:c,...u}=a,h=c?n:t;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),o.jsx(h,{...u,ref:s})});return r.displayName=`Primitive.${t}`,{...e,[t]:r}},{});function D_(e,t){e&&$r.flushSync(()=>e.dispatchEvent(t))}function zt(e){const t=_.useRef(e);return _.useEffect(()=>{t.current=e}),_.useMemo(()=>(...n)=>{var r;return(r=t.current)==null?void 0:r.call(t,...n)},[])}function BP(e,t=globalThis==null?void 0:globalThis.document){const n=zt(e);_.useEffect(()=>{const r=a=>{a.key==="Escape"&&n(a)};return t.addEventListener("keydown",r,{capture:!0}),()=>t.removeEventListener("keydown",r,{capture:!0})},[n,t])}var $P="DismissableLayer",Sh="dismissableLayer.update",VP="dismissableLayer.pointerDownOutside",UP="dismissableLayer.focusOutside",iv,z_=_.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Na=_.forwardRef((e,t)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:a,onFocusOutside:s,onInteractOutside:c,onDismiss:u,...h}=e,f=_.useContext(z_),[g,m]=_.useState(null),y=(g==null?void 0:g.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,b]=_.useState({}),j=Ae(t,O=>m(O)),v=Array.from(f.layers),[S]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),N=v.indexOf(S),w=g?v.indexOf(g):-1,C=f.layersWithOutsidePointerEventsDisabled.size>0,k=w>=N,E=ZP(O=>{const D=O.target,V=[...f.branches].some(H=>H.contains(D));!k||V||(a==null||a(O),c==null||c(O),O.defaultPrevented||u==null||u())},y),R=WP(O=>{const D=O.target;[...f.branches].some(H=>H.contains(D))||(s==null||s(O),c==null||c(O),O.defaultPrevented||u==null||u())},y);return BP(O=>{w===f.layers.size-1&&(r==null||r(O),!O.defaultPrevented&&u&&(O.preventDefault(),u()))},y),_.useEffect(()=>{if(g)return n&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(iv=y.body.style.pointerEvents,y.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(g)),f.layers.add(g),rv(),()=>{n&&f.layersWithOutsidePointerEventsDisabled.size===1&&(y.body.style.pointerEvents=iv)}},[g,y,n,f]),_.useEffect(()=>()=>{g&&(f.layers.delete(g),f.layersWithOutsidePointerEventsDisabled.delete(g),rv())},[g,f]),_.useEffect(()=>{const O=()=>b({});return document.addEventListener(Sh,O),()=>document.removeEventListener(Sh,O)},[]),o.jsx(me.div,{...h,ref:j,style:{pointerEvents:C?k?"auto":"none":void 0,...e.style},onFocusCapture:ae(e.onFocusCapture,R.onFocusCapture),onBlurCapture:ae(e.onBlurCapture,R.onBlurCapture),onPointerDownCapture:ae(e.onPointerDownCapture,E.onPointerDownCapture)})});Na.displayName=$P;var HP="DismissableLayerBranch",F_=_.forwardRef((e,t)=>{const n=_.useContext(z_),r=_.useRef(null),a=Ae(t,r);return _.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),o.jsx(me.div,{...e,ref:a})});F_.displayName=HP;function ZP(e,t=globalThis==null?void 0:globalThis.document){const n=zt(e),r=_.useRef(!1),a=_.useRef(()=>{});return _.useEffect(()=>{const s=u=>{if(u.target&&!r.current){let h=function(){B_(VP,n,f,{discrete:!0})};const f={originalEvent:u};u.pointerType==="touch"?(t.removeEventListener("click",a.current),a.current=h,t.addEventListener("click",a.current,{once:!0})):h()}else t.removeEventListener("click",a.current);r.current=!1},c=window.setTimeout(()=>{t.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(c),t.removeEventListener("pointerdown",s),t.removeEventListener("click",a.current)}},[t,n]),{onPointerDownCapture:()=>r.current=!0}}function WP(e,t=globalThis==null?void 0:globalThis.document){const n=zt(e),r=_.useRef(!1);return _.useEffect(()=>{const a=s=>{s.target&&!r.current&&B_(UP,n,{originalEvent:s},{discrete:!1})};return t.addEventListener("focusin",a),()=>t.removeEventListener("focusin",a)},[t,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function rv(){const e=new CustomEvent(Sh);document.dispatchEvent(e)}function B_(e,t,n,{discrete:r}){const a=n.originalEvent.target,s=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?D_(a,s):a.dispatchEvent(s)}var GP=Na,KP=F_,xt=globalThis!=null&&globalThis.document?_.useLayoutEffect:()=>{},qP="Portal",Oc=_.forwardRef((e,t)=>{var u;const{container:n,...r}=e,[a,s]=_.useState(!1);xt(()=>s(!0),[]);const c=n||a&&((u=globalThis==null?void 0:globalThis.document)==null?void 0:u.body);return c?gj.createPortal(o.jsx(me.div,{...r,ref:t}),c):null});Oc.displayName=qP;function QP(e,t){return _.useReducer((n,r)=>t[n][r]??n,e)}var pi=e=>{const{present:t,children:n}=e,r=YP(t),a=typeof n=="function"?n({present:r.isPresent}):_.Children.only(n),s=Ae(r.ref,XP(a));return typeof n=="function"||r.isPresent?_.cloneElement(a,{ref:s}):null};pi.displayName="Presence";function YP(e){const[t,n]=_.useState(),r=_.useRef({}),a=_.useRef(e),s=_.useRef("none"),c=e?"mounted":"unmounted",[u,h]=QP(c,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return _.useEffect(()=>{const f=dl(r.current);s.current=u==="mounted"?f:"none"},[u]),xt(()=>{const f=r.current,g=a.current;if(g!==e){const y=s.current,b=dl(f);e?h("MOUNT"):b==="none"||(f==null?void 0:f.display)==="none"?h("UNMOUNT"):h(g&&y!==b?"ANIMATION_OUT":"UNMOUNT"),a.current=e}},[e,h]),xt(()=>{if(t){let f;const g=t.ownerDocument.defaultView??window,m=b=>{const v=dl(r.current).includes(b.animationName);if(b.target===t&&v&&(h("ANIMATION_END"),!a.current)){const S=t.style.animationFillMode;t.style.animationFillMode="forwards",f=g.setTimeout(()=>{t.style.animationFillMode==="forwards"&&(t.style.animationFillMode=S)})}},y=b=>{b.target===t&&(s.current=dl(r.current))};return t.addEventListener("animationstart",y),t.addEventListener("animationcancel",m),t.addEventListener("animationend",m),()=>{g.clearTimeout(f),t.removeEventListener("animationstart",y),t.removeEventListener("animationcancel",m),t.removeEventListener("animationend",m)}}else h("ANIMATION_END")},[t,h]),{isPresent:["mounted","unmountSuspended"].includes(u),ref:_.useCallback(f=>{f&&(r.current=getComputedStyle(f)),n(f)},[])}}function dl(e){return(e==null?void 0:e.animationName)||"none"}function XP(e){var r,a;let t=(r=Object.getOwnPropertyDescriptor(e.props,"ref"))==null?void 0:r.get,n=t&&"isReactWarning"in t&&t.isReactWarning;return n?e.ref:(t=(a=Object.getOwnPropertyDescriptor(e,"ref"))==null?void 0:a.get,n=t&&"isReactWarning"in t&&t.isReactWarning,n?e.props.ref:e.props.ref||e.ref)}function ui({prop:e,defaultProp:t,onChange:n=()=>{}}){const[r,a]=JP({defaultProp:t,onChange:n}),s=e!==void 0,c=s?e:r,u=zt(n),h=_.useCallback(f=>{if(s){const m=typeof f=="function"?f(e):f;m!==e&&u(m)}else a(f)},[s,e,a,u]);return[c,h]}function JP({defaultProp:e,onChange:t}){const n=_.useState(e),[r]=n,a=_.useRef(r),s=zt(t);return _.useEffect(()=>{a.current!==r&&(s(r),a.current=r)},[r,a,s]),n}var ek="VisuallyHidden",Ca=_.forwardRef((e,t)=>o.jsx(me.span,{...e,ref:t,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...e.style}}));Ca.displayName=ek;var tk=Ca,Gf="ToastProvider",[Kf,nk,ik]=Wf("Toast"),[$_,tR]=qt("Toast",[ik]),[rk,Ac]=$_(Gf),V_=e=>{const{__scopeToast:t,label:n="Notification",duration:r=5e3,swipeDirection:a="right",swipeThreshold:s=50,children:c}=e,[u,h]=_.useState(null),[f,g]=_.useState(0),m=_.useRef(!1),y=_.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Gf}\`. Expected non-empty \`string\`.`),o.jsx(Kf.Provider,{scope:t,children:o.jsx(rk,{scope:t,label:n,duration:r,swipeDirection:a,swipeThreshold:s,toastCount:f,viewport:u,onViewportChange:h,onToastAdd:_.useCallback(()=>g(b=>b+1),[]),onToastRemove:_.useCallback(()=>g(b=>b-1),[]),isFocusedToastEscapeKeyDownRef:m,isClosePausedRef:y,children:c})})};V_.displayName=Gf;var U_="ToastViewport",sk=["F8"],jh="toast.viewportPause",Ph="toast.viewportResume",H_=_.forwardRef((e,t)=>{const{__scopeToast:n,hotkey:r=sk,label:a="Notifications ({hotkey})",...s}=e,c=Ac(U_,n),u=nk(n),h=_.useRef(null),f=_.useRef(null),g=_.useRef(null),m=_.useRef(null),y=Ae(t,m,c.onViewportChange),b=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),j=c.toastCount>0;_.useEffect(()=>{const S=N=>{var C;r.length!==0&&r.every(k=>N[k]||N.code===k)&&((C=m.current)==null||C.focus())};return document.addEventListener("keydown",S),()=>document.removeEventListener("keydown",S)},[r]),_.useEffect(()=>{const S=h.current,N=m.current;if(j&&S&&N){const w=()=>{if(!c.isClosePausedRef.current){const R=new CustomEvent(jh);N.dispatchEvent(R),c.isClosePausedRef.current=!0}},C=()=>{if(c.isClosePausedRef.current){const R=new CustomEvent(Ph);N.dispatchEvent(R),c.isClosePausedRef.current=!1}},k=R=>{!S.contains(R.relatedTarget)&&C()},E=()=>{S.contains(document.activeElement)||C()};return S.addEventListener("focusin",w),S.addEventListener("focusout",k),S.addEventListener("pointermove",w),S.addEventListener("pointerleave",E),window.addEventListener("blur",w),window.addEventListener("focus",C),()=>{S.removeEventListener("focusin",w),S.removeEventListener("focusout",k),S.removeEventListener("pointermove",w),S.removeEventListener("pointerleave",E),window.removeEventListener("blur",w),window.removeEventListener("focus",C)}}},[j,c.isClosePausedRef]);const v=_.useCallback(({tabbingDirection:S})=>{const w=u().map(C=>{const k=C.ref.current,E=[k,...xk(k)];return S==="forwards"?E:E.reverse()});return(S==="forwards"?w.reverse():w).flat()},[u]);return _.useEffect(()=>{const S=m.current;if(S){const N=w=>{var E,R,O;const C=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!C){const D=document.activeElement,V=w.shiftKey;if(w.target===S&&V){(E=f.current)==null||E.focus();return}const W=v({tabbingDirection:V?"backwards":"forwards"}),le=W.findIndex(Z=>Z===D);ad(W.slice(le+1))?w.preventDefault():V?(R=f.current)==null||R.focus():(O=g.current)==null||O.focus()}};return S.addEventListener("keydown",N),()=>S.removeEventListener("keydown",N)}},[u,v]),o.jsxs(KP,{ref:h,role:"region","aria-label":a.replace("{hotkey}",b),tabIndex:-1,style:{pointerEvents:j?void 0:"none"},children:[j&&o.jsx(kh,{ref:f,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"forwards"});ad(S)}}),o.jsx(Kf.Slot,{scope:n,children:o.jsx(me.ol,{tabIndex:-1,...s,ref:y})}),j&&o.jsx(kh,{ref:g,onFocusFromOutsideViewport:()=>{const S=v({tabbingDirection:"backwards"});ad(S)}})]})});H_.displayName=U_;var Z_="ToastFocusProxy",kh=_.forwardRef((e,t)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...a}=e,s=Ac(Z_,n);return o.jsx(Ca,{"aria-hidden":!0,tabIndex:0,...a,ref:t,style:{position:"fixed"},onFocus:c=>{var f;const u=c.relatedTarget;!((f=s.viewport)!=null&&f.contains(u))&&r()}})});kh.displayName=Z_;var Ic="Toast",ok="toast.swipeStart",ak="toast.swipeMove",lk="toast.swipeCancel",ck="toast.swipeEnd",W_=_.forwardRef((e,t)=>{const{forceMount:n,open:r,defaultOpen:a,onOpenChange:s,...c}=e,[u=!0,h]=ui({prop:r,defaultProp:a,onChange:s});return o.jsx(pi,{present:n||u,children:o.jsx(hk,{open:u,...c,ref:t,onClose:()=>h(!1),onPause:zt(e.onPause),onResume:zt(e.onResume),onSwipeStart:ae(e.onSwipeStart,f=>{f.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ae(e.onSwipeMove,f=>{const{x:g,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","move"),f.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${m}px`)}),onSwipeCancel:ae(e.onSwipeCancel,f=>{f.currentTarget.setAttribute("data-swipe","cancel"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ae(e.onSwipeEnd,f=>{const{x:g,y:m}=f.detail.delta;f.currentTarget.setAttribute("data-swipe","end"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),f.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),f.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${g}px`),f.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${m}px`),h(!1)})})})});W_.displayName=Ic;var[uk,dk]=$_(Ic,{onClose(){}}),hk=_.forwardRef((e,t)=>{const{__scopeToast:n,type:r="foreground",duration:a,open:s,onClose:c,onEscapeKeyDown:u,onPause:h,onResume:f,onSwipeStart:g,onSwipeMove:m,onSwipeCancel:y,onSwipeEnd:b,...j}=e,v=Ac(Ic,n),[S,N]=_.useState(null),w=Ae(t,Z=>N(Z)),C=_.useRef(null),k=_.useRef(null),E=a||v.duration,R=_.useRef(0),O=_.useRef(E),D=_.useRef(0),{onToastAdd:V,onToastRemove:H}=v,Q=zt(()=>{var ce;(S==null?void 0:S.contains(document.activeElement))&&((ce=v.viewport)==null||ce.focus()),c()}),W=_.useCallback(Z=>{!Z||Z===1/0||(window.clearTimeout(D.current),R.current=new Date().getTime(),D.current=window.setTimeout(Q,Z))},[Q]);_.useEffect(()=>{const Z=v.viewport;if(Z){const ce=()=>{W(O.current),f==null||f()},G=()=>{const se=new Date().getTime()-R.current;O.current=O.current-se,window.clearTimeout(D.current),h==null||h()};return Z.addEventListener(jh,G),Z.addEventListener(Ph,ce),()=>{Z.removeEventListener(jh,G),Z.removeEventListener(Ph,ce)}}},[v.viewport,E,h,f,W]),_.useEffect(()=>{s&&!v.isClosePausedRef.current&&W(E)},[s,E,v.isClosePausedRef,W]),_.useEffect(()=>(V(),()=>H()),[V,H]);const le=_.useMemo(()=>S?J_(S):null,[S]);return v.viewport?o.jsxs(o.Fragment,{children:[le&&o.jsx(fk,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:le}),o.jsx(uk,{scope:n,onClose:Q,children:$r.createPortal(o.jsx(Kf.ItemSlot,{scope:n,children:o.jsx(GP,{asChild:!0,onEscapeKeyDown:ae(u,()=>{v.isFocusedToastEscapeKeyDownRef.current||Q(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:o.jsx(me.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":v.swipeDirection,...j,ref:w,style:{userSelect:"none",touchAction:"none",...e.style},onKeyDown:ae(e.onKeyDown,Z=>{Z.key==="Escape"&&(u==null||u(Z.nativeEvent),Z.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,Q()))}),onPointerDown:ae(e.onPointerDown,Z=>{Z.button===0&&(C.current={x:Z.clientX,y:Z.clientY})}),onPointerMove:ae(e.onPointerMove,Z=>{if(!C.current)return;const ce=Z.clientX-C.current.x,G=Z.clientY-C.current.y,se=!!k.current,A=["left","right"].includes(v.swipeDirection),q=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,$=A?q(0,ce):0,X=A?0:q(0,G),ue=Z.pointerType==="touch"?10:2,Ce={x:$,y:X},B={originalEvent:Z,delta:Ce};se?(k.current=Ce,hl(ak,m,B,{discrete:!1})):sv(Ce,v.swipeDirection,ue)?(k.current=Ce,hl(ok,g,B,{discrete:!1}),Z.target.setPointerCapture(Z.pointerId)):(Math.abs(ce)>ue||Math.abs(G)>ue)&&(C.current=null)}),onPointerUp:ae(e.onPointerUp,Z=>{const ce=k.current,G=Z.target;if(G.hasPointerCapture(Z.pointerId)&&G.releasePointerCapture(Z.pointerId),k.current=null,C.current=null,ce){const se=Z.currentTarget,A={originalEvent:Z,delta:ce};sv(ce,v.swipeDirection,v.swipeThreshold)?hl(ck,b,A,{discrete:!0}):hl(lk,y,A,{discrete:!0}),se.addEventListener("click",q=>q.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),fk=e=>{const{__scopeToast:t,children:n,...r}=e,a=Ac(Ic,t),[s,c]=_.useState(!1),[u,h]=_.useState(!1);return gk(()=>c(!0)),_.useEffect(()=>{const f=window.setTimeout(()=>h(!0),1e3);return()=>window.clearTimeout(f)},[]),u?null:o.jsx(Oc,{asChild:!0,children:o.jsx(Ca,{...r,children:s&&o.jsxs(o.Fragment,{children:[a.label," ",n]})})})},pk="ToastTitle",G_=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(me.div,{...r,ref:t})});G_.displayName=pk;var mk="ToastDescription",K_=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e;return o.jsx(me.div,{...r,ref:t})});K_.displayName=mk;var q_="ToastAction",Q_=_.forwardRef((e,t)=>{const{altText:n,...r}=e;return n.trim()?o.jsx(X_,{altText:n,asChild:!0,children:o.jsx(qf,{...r,ref:t})}):(console.error(`Invalid prop \`altText\` supplied to \`${q_}\`. Expected non-empty \`string\`.`),null)});Q_.displayName=q_;var Y_="ToastClose",qf=_.forwardRef((e,t)=>{const{__scopeToast:n,...r}=e,a=dk(Y_,n);return o.jsx(X_,{asChild:!0,children:o.jsx(me.button,{type:"button",...r,ref:t,onClick:ae(e.onClick,a.onClose)})})});qf.displayName=Y_;var X_=_.forwardRef((e,t)=>{const{__scopeToast:n,altText:r,...a}=e;return o.jsx(me.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...a,ref:t})});function J_(e){const t=[];return Array.from(e.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&t.push(r.textContent),vk(r)){const a=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!a)if(s){const c=r.dataset.radixToastAnnounceAlt;c&&t.push(c)}else t.push(...J_(r))}}),t}function hl(e,t,n,{discrete:r}){const a=n.originalEvent.currentTarget,s=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});t&&a.addEventListener(e,t,{once:!0}),r?D_(a,s):a.dispatchEvent(s)}var sv=(e,t,n=0)=>{const r=Math.abs(e.x),a=Math.abs(e.y),s=r>a;return t==="left"||t==="right"?s&&r>n:!s&&a>n};function gk(e=()=>{}){const t=zt(e);xt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(t)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[t])}function vk(e){return e.nodeType===e.ELEMENT_NODE}function xk(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function ad(e){const t=document.activeElement;return e.some(n=>n===t?!0:(n.focus(),document.activeElement!==t))}var yk=V_,e0=H_,t0=W_,n0=G_,i0=K_,r0=Q_,s0=qf;function o0(e){var t,n,r="";if(typeof e=="string"||typeof e=="number")r+=e;else if(typeof e=="object")if(Array.isArray(e)){var a=e.length;for(t=0;t<a;t++)e[t]&&(n=o0(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}function a0(){for(var e,t,n=0,r="",a=arguments.length;n<a;n++)(e=arguments[n])&&(t=o0(e))&&(r&&(r+=" "),r+=t);return r}const ov=e=>typeof e=="boolean"?`${e}`:e===0?"0":e,av=a0,Dc=(e,t)=>n=>{var r;if((t==null?void 0:t.variants)==null)return av(e,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:a,defaultVariants:s}=t,c=Object.keys(a).map(f=>{const g=n==null?void 0:n[f],m=s==null?void 0:s[f];if(g===null)return null;const y=ov(g)||ov(m);return a[f][y]}),u=n&&Object.entries(n).reduce((f,g)=>{let[m,y]=g;return y===void 0||(f[m]=y),f},{}),h=t==null||(r=t.compoundVariants)===null||r===void 0?void 0:r.reduce((f,g)=>{let{class:m,className:y,...b}=g;return Object.entries(b).every(j=>{let[v,S]=j;return Array.isArray(S)?S.includes({...s,...u}[v]):{...s,...u}[v]===S})?[...f,m,y]:f},[]);return av(e,c,h,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _k=e=>e.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),l0=(...e)=>e.filter((t,n,r)=>!!t&&r.indexOf(t)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var wk={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bk=_.forwardRef(({color:e="currentColor",size:t=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:a="",children:s,iconNode:c,...u},h)=>_.createElement("svg",{ref:h,...wk,width:t,height:t,stroke:e,strokeWidth:r?Number(n)*24/Number(t):n,className:l0("lucide",a),...u},[...c.map(([f,g])=>_.createElement(f,g)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(e,t)=>{const n=_.forwardRef(({className:r,...a},s)=>_.createElement(bk,{ref:s,iconNode:t,className:l0(`lucide-${_k(e)}`,r),...a}));return n.displayName=`${e}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qf=De("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nk=De("Calculator",[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",key:"1nb95v"}],["line",{x1:"8",x2:"16",y1:"6",y2:"6",key:"x4nwl0"}],["line",{x1:"16",x2:"16",y1:"14",y2:"18",key:"wjye3r"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M8 18h.01",key:"lrp35t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ck=De("ChartColumn",[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const c0=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const u0=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sk=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jk=De("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pk=De("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kk=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d0=De("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lv=De("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lk=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h0=De("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const f0=De("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kr=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ek=De("MicOff",[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tk=De("Mic",[["path",{d:"M12 2a3 3 0 0 0-3 3v7a3 3 0 0 0 6 0V5a3 3 0 0 0-3-3Z",key:"131961"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mk=De("Navigation",[["polygon",{points:"3 11 22 2 13 21 11 13 3 11",key:"1ltx0t"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cc=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rk=De("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p0=De("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ok=De("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ak=De("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yf=De("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ik=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cv=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dk=De("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"j28e5"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zc=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Xf="-",zk=e=>{const t=Bk(e),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=e;return{getClassGroupId:c=>{const u=c.split(Xf);return u[0]===""&&u.length!==1&&u.shift(),m0(u,t)||Fk(c)},getConflictingClassGroupIds:(c,u)=>{const h=n[c]||[];return u&&r[c]?[...h,...r[c]]:h}}},m0=(e,t)=>{var c;if(e.length===0)return t.classGroupId;const n=e[0],r=t.nextPart.get(n),a=r?m0(e.slice(1),r):void 0;if(a)return a;if(t.validators.length===0)return;const s=e.join(Xf);return(c=t.validators.find(({validator:u})=>u(s)))==null?void 0:c.classGroupId},uv=/^\[(.+)\]$/,Fk=e=>{if(uv.test(e)){const t=uv.exec(e)[1],n=t==null?void 0:t.substring(0,t.indexOf(":"));if(n)return"arbitrary.."+n}},Bk=e=>{const{theme:t,prefix:n}=e,r={nextPart:new Map,validators:[]};return Vk(Object.entries(e.classGroups),n).forEach(([s,c])=>{Lh(c,r,s,t)}),r},Lh=(e,t,n,r)=>{e.forEach(a=>{if(typeof a=="string"){const s=a===""?t:dv(t,a);s.classGroupId=n;return}if(typeof a=="function"){if($k(a)){Lh(a(r),t,n,r);return}t.validators.push({validator:a,classGroupId:n});return}Object.entries(a).forEach(([s,c])=>{Lh(c,dv(t,s),n,r)})})},dv=(e,t)=>{let n=e;return t.split(Xf).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},$k=e=>e.isThemeGetter,Vk=(e,t)=>t?e.map(([n,r])=>{const a=r.map(s=>typeof s=="string"?t+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([c,u])=>[t+c,u])):s);return[n,a]}):e,Uk=e=>{if(e<1)return{get:()=>{},set:()=>{}};let t=0,n=new Map,r=new Map;const a=(s,c)=>{n.set(s,c),t++,t>e&&(t=0,r=n,n=new Map)};return{get(s){let c=n.get(s);if(c!==void 0)return c;if((c=r.get(s))!==void 0)return a(s,c),c},set(s,c){n.has(s)?n.set(s,c):a(s,c)}}},g0="!",Hk=e=>{const{separator:t,experimentalParseClassName:n}=e,r=t.length===1,a=t[0],s=t.length,c=u=>{const h=[];let f=0,g=0,m;for(let S=0;S<u.length;S++){let N=u[S];if(f===0){if(N===a&&(r||u.slice(S,S+s)===t)){h.push(u.slice(g,S)),g=S+s;continue}if(N==="/"){m=S;continue}}N==="["?f++:N==="]"&&f--}const y=h.length===0?u:u.substring(g),b=y.startsWith(g0),j=b?y.substring(1):y,v=m&&m>g?m-g:void 0;return{modifiers:h,hasImportantModifier:b,baseClassName:j,maybePostfixModifierPosition:v}};return n?u=>n({className:u,parseClassName:c}):c},Zk=e=>{if(e.length<=1)return e;const t=[];let n=[];return e.forEach(r=>{r[0]==="["?(t.push(...n.sort(),r),n=[]):n.push(r)}),t.push(...n.sort()),t},Wk=e=>({cache:Uk(e.cacheSize),parseClassName:Hk(e),...zk(e)}),Gk=/\s+/,Kk=(e,t)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:a}=t,s=[],c=e.trim().split(Gk);let u="";for(let h=c.length-1;h>=0;h-=1){const f=c[h],{modifiers:g,hasImportantModifier:m,baseClassName:y,maybePostfixModifierPosition:b}=n(f);let j=!!b,v=r(j?y.substring(0,b):y);if(!v){if(!j){u=f+(u.length>0?" "+u:u);continue}if(v=r(y),!v){u=f+(u.length>0?" "+u:u);continue}j=!1}const S=Zk(g).join(":"),N=m?S+g0:S,w=N+v;if(s.includes(w))continue;s.push(w);const C=a(v,j);for(let k=0;k<C.length;++k){const E=C[k];s.push(N+E)}u=f+(u.length>0?" "+u:u)}return u};function qk(){let e=0,t,n,r="";for(;e<arguments.length;)(t=arguments[e++])&&(n=v0(t))&&(r&&(r+=" "),r+=n);return r}const v0=e=>{if(typeof e=="string")return e;let t,n="";for(let r=0;r<e.length;r++)e[r]&&(t=v0(e[r]))&&(n&&(n+=" "),n+=t);return n};function Qk(e,...t){let n,r,a,s=c;function c(h){const f=t.reduce((g,m)=>m(g),e());return n=Wk(f),r=n.cache.get,a=n.cache.set,s=u,u(h)}function u(h){const f=r(h);if(f)return f;const g=Kk(h,n);return a(h,g),g}return function(){return s(qk.apply(null,arguments))}}const Be=e=>{const t=n=>n[e]||[];return t.isThemeGetter=!0,t},x0=/^\[(?:([a-z-]+):)?(.+)\]$/i,Yk=/^\d+\/\d+$/,Xk=new Set(["px","full","screen"]),Jk=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,eL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,tL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,nL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,iL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Qn=e=>Cs(e)||Xk.has(e)||Yk.test(e),_i=e=>to(e,"length",dL),Cs=e=>!!e&&!Number.isNaN(Number(e)),ld=e=>to(e,"number",Cs),Po=e=>!!e&&Number.isInteger(Number(e)),rL=e=>e.endsWith("%")&&Cs(e.slice(0,-1)),ye=e=>x0.test(e),wi=e=>Jk.test(e),sL=new Set(["length","size","percentage"]),oL=e=>to(e,sL,y0),aL=e=>to(e,"position",y0),lL=new Set(["image","url"]),cL=e=>to(e,lL,fL),uL=e=>to(e,"",hL),ko=()=>!0,to=(e,t,n)=>{const r=x0.exec(e);return r?r[1]?typeof t=="string"?r[1]===t:t.has(r[1]):n(r[2]):!1},dL=e=>eL.test(e)&&!tL.test(e),y0=()=>!1,hL=e=>nL.test(e),fL=e=>iL.test(e),pL=()=>{const e=Be("colors"),t=Be("spacing"),n=Be("blur"),r=Be("brightness"),a=Be("borderColor"),s=Be("borderRadius"),c=Be("borderSpacing"),u=Be("borderWidth"),h=Be("contrast"),f=Be("grayscale"),g=Be("hueRotate"),m=Be("invert"),y=Be("gap"),b=Be("gradientColorStops"),j=Be("gradientColorStopPositions"),v=Be("inset"),S=Be("margin"),N=Be("opacity"),w=Be("padding"),C=Be("saturate"),k=Be("scale"),E=Be("sepia"),R=Be("skew"),O=Be("space"),D=Be("translate"),V=()=>["auto","contain","none"],H=()=>["auto","hidden","clip","visible","scroll"],Q=()=>["auto",ye,t],W=()=>[ye,t],le=()=>["",Qn,_i],Z=()=>["auto",Cs,ye],ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],G=()=>["solid","dashed","dotted","double","none"],se=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],A=()=>["start","end","center","between","around","evenly","stretch"],q=()=>["","0",ye],$=()=>["auto","avoid","all","avoid-page","page","left","right","column"],X=()=>[Cs,ye];return{cacheSize:500,separator:":",theme:{colors:[ko],spacing:[Qn,_i],blur:["none","",wi,ye],brightness:X(),borderColor:[e],borderRadius:["none","","full",wi,ye],borderSpacing:W(),borderWidth:le(),contrast:X(),grayscale:q(),hueRotate:X(),invert:q(),gap:W(),gradientColorStops:[e],gradientColorStopPositions:[rL,_i],inset:Q(),margin:Q(),opacity:X(),padding:W(),saturate:X(),scale:X(),sepia:q(),skew:X(),space:W(),translate:W()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[wi]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ce(),ye]}],overflow:[{overflow:H()}],"overflow-x":[{"overflow-x":H()}],"overflow-y":[{"overflow-y":H()}],overscroll:[{overscroll:V()}],"overscroll-x":[{"overscroll-x":V()}],"overscroll-y":[{"overscroll-y":V()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Po,ye]}],basis:[{basis:Q()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:q()}],shrink:[{shrink:q()}],order:[{order:["first","last","none",Po,ye]}],"grid-cols":[{"grid-cols":[ko]}],"col-start-end":[{col:["auto",{span:["full",Po,ye]},ye]}],"col-start":[{"col-start":Z()}],"col-end":[{"col-end":Z()}],"grid-rows":[{"grid-rows":[ko]}],"row-start-end":[{row:["auto",{span:[Po,ye]},ye]}],"row-start":[{"row-start":Z()}],"row-end":[{"row-end":Z()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[y]}],"gap-x":[{"gap-x":[y]}],"gap-y":[{"gap-y":[y]}],"justify-content":[{justify:["normal",...A()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...A(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...A(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[S]}],mx:[{mx:[S]}],my:[{my:[S]}],ms:[{ms:[S]}],me:[{me:[S]}],mt:[{mt:[S]}],mr:[{mr:[S]}],mb:[{mb:[S]}],ml:[{ml:[S]}],"space-x":[{"space-x":[O]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[O]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,t]}],"min-w":[{"min-w":[ye,t,"min","max","fit"]}],"max-w":[{"max-w":[ye,t,"none","full","min","max","fit","prose",{screen:[wi]},wi]}],h:[{h:[ye,t,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,t,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,t,"auto","min","max","fit"]}],"font-size":[{text:["base",wi,_i]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",ld]}],"font-family":[{font:[ko]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",Cs,ld]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Qn,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[e]}],"placeholder-opacity":[{"placeholder-opacity":[N]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[e]}],"text-opacity":[{"text-opacity":[N]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...G(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Qn,_i]}],"underline-offset":[{"underline-offset":["auto",Qn,ye]}],"text-decoration-color":[{decoration:[e]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:W()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[N]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ce(),aL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",oL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},cL]}],"bg-color":[{bg:[e]}],"gradient-from-pos":[{from:[j]}],"gradient-via-pos":[{via:[j]}],"gradient-to-pos":[{to:[j]}],"gradient-from":[{from:[b]}],"gradient-via":[{via:[b]}],"gradient-to":[{to:[b]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[u]}],"border-w-x":[{"border-x":[u]}],"border-w-y":[{"border-y":[u]}],"border-w-s":[{"border-s":[u]}],"border-w-e":[{"border-e":[u]}],"border-w-t":[{"border-t":[u]}],"border-w-r":[{"border-r":[u]}],"border-w-b":[{"border-b":[u]}],"border-w-l":[{"border-l":[u]}],"border-opacity":[{"border-opacity":[N]}],"border-style":[{border:[...G(),"hidden"]}],"divide-x":[{"divide-x":[u]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[u]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[N]}],"divide-style":[{divide:G()}],"border-color":[{border:[a]}],"border-color-x":[{"border-x":[a]}],"border-color-y":[{"border-y":[a]}],"border-color-s":[{"border-s":[a]}],"border-color-e":[{"border-e":[a]}],"border-color-t":[{"border-t":[a]}],"border-color-r":[{"border-r":[a]}],"border-color-b":[{"border-b":[a]}],"border-color-l":[{"border-l":[a]}],"divide-color":[{divide:[a]}],"outline-style":[{outline:["",...G()]}],"outline-offset":[{"outline-offset":[Qn,ye]}],"outline-w":[{outline:[Qn,_i]}],"outline-color":[{outline:[e]}],"ring-w":[{ring:le()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[e]}],"ring-opacity":[{"ring-opacity":[N]}],"ring-offset-w":[{"ring-offset":[Qn,_i]}],"ring-offset-color":[{"ring-offset":[e]}],shadow:[{shadow:["","inner","none",wi,uL]}],"shadow-color":[{shadow:[ko]}],opacity:[{opacity:[N]}],"mix-blend":[{"mix-blend":[...se(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":se()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",wi,ye]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[g]}],invert:[{invert:[m]}],saturate:[{saturate:[C]}],sepia:[{sepia:[E]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[g]}],"backdrop-invert":[{"backdrop-invert":[m]}],"backdrop-opacity":[{"backdrop-opacity":[N]}],"backdrop-saturate":[{"backdrop-saturate":[C]}],"backdrop-sepia":[{"backdrop-sepia":[E]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[c]}],"border-spacing-x":[{"border-spacing-x":[c]}],"border-spacing-y":[{"border-spacing-y":[c]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:X()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:X()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[Po,ye]}],"translate-x":[{"translate-x":[D]}],"translate-y":[{"translate-y":[D]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",e]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[e]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":W()}],"scroll-mx":[{"scroll-mx":W()}],"scroll-my":[{"scroll-my":W()}],"scroll-ms":[{"scroll-ms":W()}],"scroll-me":[{"scroll-me":W()}],"scroll-mt":[{"scroll-mt":W()}],"scroll-mr":[{"scroll-mr":W()}],"scroll-mb":[{"scroll-mb":W()}],"scroll-ml":[{"scroll-ml":W()}],"scroll-p":[{"scroll-p":W()}],"scroll-px":[{"scroll-px":W()}],"scroll-py":[{"scroll-py":W()}],"scroll-ps":[{"scroll-ps":W()}],"scroll-pe":[{"scroll-pe":W()}],"scroll-pt":[{"scroll-pt":W()}],"scroll-pr":[{"scroll-pr":W()}],"scroll-pb":[{"scroll-pb":W()}],"scroll-pl":[{"scroll-pl":W()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[e,"none"]}],"stroke-w":[{stroke:[Qn,_i,ld]}],stroke:[{stroke:[e,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},mL=Qk(pL);function _e(...e){return mL(a0(e))}const gL=yk,_0=_.forwardRef(({className:e,...t},n)=>o.jsx(e0,{ref:n,className:_e("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",e),...t}));_0.displayName=e0.displayName;const vL=Dc("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),w0=_.forwardRef(({className:e,variant:t,...n},r)=>o.jsx(t0,{ref:r,className:_e(vL({variant:t}),e),...n}));w0.displayName=t0.displayName;const xL=_.forwardRef(({className:e,...t},n)=>o.jsx(r0,{ref:n,className:_e("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",e),...t}));xL.displayName=r0.displayName;const b0=_.forwardRef(({className:e,...t},n)=>o.jsx(s0,{ref:n,className:_e("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",e),"toast-close":"",...t,children:o.jsx(zc,{className:"h-4 w-4"})}));b0.displayName=s0.displayName;const N0=_.forwardRef(({className:e,...t},n)=>o.jsx(n0,{ref:n,className:_e("text-sm font-semibold",e),...t}));N0.displayName=n0.displayName;const C0=_.forwardRef(({className:e,...t},n)=>o.jsx(i0,{ref:n,className:_e("text-sm opacity-90",e),...t}));C0.displayName=i0.displayName;function yL(){const{toasts:e}=Ft();return o.jsxs(gL,{children:[e.map(function({id:t,title:n,description:r,action:a,...s}){return o.jsxs(w0,{...s,children:[o.jsxs("div",{className:"grid gap-1",children:[n&&o.jsx(N0,{children:n}),r&&o.jsx(C0,{children:r})]}),a,o.jsx(b0,{})]},t)}),o.jsx(_0,{})]})}var _L=sx[" useId ".trim().toString()]||(()=>{}),wL=0;function Ki(e){const[t,n]=_.useState(_L());return xt(()=>{n(r=>r??String(wL++))},[e]),t?`radix-${t}`:""}const bL=["top","right","bottom","left"],Ji=Math.min,Vt=Math.max,uc=Math.round,fl=Math.floor,$n=e=>({x:e,y:e}),NL={left:"right",right:"left",bottom:"top",top:"bottom"},CL={start:"end",end:"start"};function Eh(e,t,n){return Vt(e,Ji(t,n))}function di(e,t){return typeof e=="function"?e(t):e}function hi(e){return e.split("-")[0]}function no(e){return e.split("-")[1]}function Jf(e){return e==="x"?"y":"x"}function ep(e){return e==="y"?"height":"width"}function er(e){return["top","bottom"].includes(hi(e))?"y":"x"}function tp(e){return Jf(er(e))}function SL(e,t,n){n===void 0&&(n=!1);const r=no(e),a=tp(e),s=ep(a);let c=a==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return t.reference[s]>t.floating[s]&&(c=dc(c)),[c,dc(c)]}function jL(e){const t=dc(e);return[Th(e),t,Th(t)]}function Th(e){return e.replace(/start|end/g,t=>CL[t])}function PL(e,t,n){const r=["left","right"],a=["right","left"],s=["top","bottom"],c=["bottom","top"];switch(e){case"top":case"bottom":return n?t?a:r:t?r:a;case"left":case"right":return t?s:c;default:return[]}}function kL(e,t,n,r){const a=no(e);let s=PL(hi(e),n==="start",r);return a&&(s=s.map(c=>c+"-"+a),t&&(s=s.concat(s.map(Th)))),s}function dc(e){return e.replace(/left|right|bottom|top/g,t=>NL[t])}function LL(e){return{top:0,right:0,bottom:0,left:0,...e}}function S0(e){return typeof e!="number"?LL(e):{top:e,right:e,bottom:e,left:e}}function hc(e){const{x:t,y:n,width:r,height:a}=e;return{width:r,height:a,top:n,left:t,right:t+r,bottom:n+a,x:t,y:n}}function hv(e,t,n){let{reference:r,floating:a}=e;const s=er(t),c=tp(t),u=ep(c),h=hi(t),f=s==="y",g=r.x+r.width/2-a.width/2,m=r.y+r.height/2-a.height/2,y=r[u]/2-a[u]/2;let b;switch(h){case"top":b={x:g,y:r.y-a.height};break;case"bottom":b={x:g,y:r.y+r.height};break;case"right":b={x:r.x+r.width,y:m};break;case"left":b={x:r.x-a.width,y:m};break;default:b={x:r.x,y:r.y}}switch(no(t)){case"start":b[c]-=y*(n&&f?-1:1);break;case"end":b[c]+=y*(n&&f?-1:1);break}return b}const EL=async(e,t,n)=>{const{placement:r="bottom",strategy:a="absolute",middleware:s=[],platform:c}=n,u=s.filter(Boolean),h=await(c.isRTL==null?void 0:c.isRTL(t));let f=await c.getElementRects({reference:e,floating:t,strategy:a}),{x:g,y:m}=hv(f,r,h),y=r,b={},j=0;for(let v=0;v<u.length;v++){const{name:S,fn:N}=u[v],{x:w,y:C,data:k,reset:E}=await N({x:g,y:m,initialPlacement:r,placement:y,strategy:a,middlewareData:b,rects:f,platform:c,elements:{reference:e,floating:t}});g=w??g,m=C??m,b={...b,[S]:{...b[S],...k}},E&&j<=50&&(j++,typeof E=="object"&&(E.placement&&(y=E.placement),E.rects&&(f=E.rects===!0?await c.getElementRects({reference:e,floating:t,strategy:a}):E.rects),{x:g,y:m}=hv(f,y,h)),v=-1)}return{x:g,y:m,placement:y,strategy:a,middlewareData:b}};async function da(e,t){var n;t===void 0&&(t={});const{x:r,y:a,platform:s,rects:c,elements:u,strategy:h}=e,{boundary:f="clippingAncestors",rootBoundary:g="viewport",elementContext:m="floating",altBoundary:y=!1,padding:b=0}=di(t,e),j=S0(b),S=u[y?m==="floating"?"reference":"floating":m],N=hc(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(S)))==null||n?S:S.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(u.floating)),boundary:f,rootBoundary:g,strategy:h})),w=m==="floating"?{x:r,y:a,width:c.floating.width,height:c.floating.height}:c.reference,C=await(s.getOffsetParent==null?void 0:s.getOffsetParent(u.floating)),k=await(s.isElement==null?void 0:s.isElement(C))?await(s.getScale==null?void 0:s.getScale(C))||{x:1,y:1}:{x:1,y:1},E=hc(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:u,rect:w,offsetParent:C,strategy:h}):w);return{top:(N.top-E.top+j.top)/k.y,bottom:(E.bottom-N.bottom+j.bottom)/k.y,left:(N.left-E.left+j.left)/k.x,right:(E.right-N.right+j.right)/k.x}}const TL=e=>({name:"arrow",options:e,async fn(t){const{x:n,y:r,placement:a,rects:s,platform:c,elements:u,middlewareData:h}=t,{element:f,padding:g=0}=di(e,t)||{};if(f==null)return{};const m=S0(g),y={x:n,y:r},b=tp(a),j=ep(b),v=await c.getDimensions(f),S=b==="y",N=S?"top":"left",w=S?"bottom":"right",C=S?"clientHeight":"clientWidth",k=s.reference[j]+s.reference[b]-y[b]-s.floating[j],E=y[b]-s.reference[b],R=await(c.getOffsetParent==null?void 0:c.getOffsetParent(f));let O=R?R[C]:0;(!O||!await(c.isElement==null?void 0:c.isElement(R)))&&(O=u.floating[C]||s.floating[j]);const D=k/2-E/2,V=O/2-v[j]/2-1,H=Ji(m[N],V),Q=Ji(m[w],V),W=H,le=O-v[j]-Q,Z=O/2-v[j]/2+D,ce=Eh(W,Z,le),G=!h.arrow&&no(a)!=null&&Z!==ce&&s.reference[j]/2-(Z<W?H:Q)-v[j]/2<0,se=G?Z<W?Z-W:Z-le:0;return{[b]:y[b]+se,data:{[b]:ce,centerOffset:Z-ce-se,...G&&{alignmentOffset:se}},reset:G}}}),ML=function(e){return e===void 0&&(e={}),{name:"flip",options:e,async fn(t){var n,r;const{placement:a,middlewareData:s,rects:c,initialPlacement:u,platform:h,elements:f}=t,{mainAxis:g=!0,crossAxis:m=!0,fallbackPlacements:y,fallbackStrategy:b="bestFit",fallbackAxisSideDirection:j="none",flipAlignment:v=!0,...S}=di(e,t);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const N=hi(a),w=er(u),C=hi(u)===u,k=await(h.isRTL==null?void 0:h.isRTL(f.floating)),E=y||(C||!v?[dc(u)]:jL(u)),R=j!=="none";!y&&R&&E.push(...kL(u,v,j,k));const O=[u,...E],D=await da(t,S),V=[];let H=((r=s.flip)==null?void 0:r.overflows)||[];if(g&&V.push(D[N]),m){const Z=SL(a,c,k);V.push(D[Z[0]],D[Z[1]])}if(H=[...H,{placement:a,overflows:V}],!V.every(Z=>Z<=0)){var Q,W;const Z=(((Q=s.flip)==null?void 0:Q.index)||0)+1,ce=O[Z];if(ce)return{data:{index:Z,overflows:H},reset:{placement:ce}};let G=(W=H.filter(se=>se.overflows[0]<=0).sort((se,A)=>se.overflows[1]-A.overflows[1])[0])==null?void 0:W.placement;if(!G)switch(b){case"bestFit":{var le;const se=(le=H.filter(A=>{if(R){const q=er(A.placement);return q===w||q==="y"}return!0}).map(A=>[A.placement,A.overflows.filter(q=>q>0).reduce((q,$)=>q+$,0)]).sort((A,q)=>A[1]-q[1])[0])==null?void 0:le[0];se&&(G=se);break}case"initialPlacement":G=u;break}if(a!==G)return{reset:{placement:G}}}return{}}}};function fv(e,t){return{top:e.top-t.height,right:e.right-t.width,bottom:e.bottom-t.height,left:e.left-t.width}}function pv(e){return bL.some(t=>e[t]>=0)}const RL=function(e){return e===void 0&&(e={}),{name:"hide",options:e,async fn(t){const{rects:n}=t,{strategy:r="referenceHidden",...a}=di(e,t);switch(r){case"referenceHidden":{const s=await da(t,{...a,elementContext:"reference"}),c=fv(s,n.reference);return{data:{referenceHiddenOffsets:c,referenceHidden:pv(c)}}}case"escaped":{const s=await da(t,{...a,altBoundary:!0}),c=fv(s,n.floating);return{data:{escapedOffsets:c,escaped:pv(c)}}}default:return{}}}}};async function OL(e,t){const{placement:n,platform:r,elements:a}=e,s=await(r.isRTL==null?void 0:r.isRTL(a.floating)),c=hi(n),u=no(n),h=er(n)==="y",f=["left","top"].includes(c)?-1:1,g=s&&h?-1:1,m=di(t,e);let{mainAxis:y,crossAxis:b,alignmentAxis:j}=typeof m=="number"?{mainAxis:m,crossAxis:0,alignmentAxis:null}:{mainAxis:m.mainAxis||0,crossAxis:m.crossAxis||0,alignmentAxis:m.alignmentAxis};return u&&typeof j=="number"&&(b=u==="end"?j*-1:j),h?{x:b*g,y:y*f}:{x:y*f,y:b*g}}const AL=function(e){return e===void 0&&(e=0),{name:"offset",options:e,async fn(t){var n,r;const{x:a,y:s,placement:c,middlewareData:u}=t,h=await OL(t,e);return c===((n=u.offset)==null?void 0:n.placement)&&(r=u.arrow)!=null&&r.alignmentOffset?{}:{x:a+h.x,y:s+h.y,data:{...h,placement:c}}}}},IL=function(e){return e===void 0&&(e={}),{name:"shift",options:e,async fn(t){const{x:n,y:r,placement:a}=t,{mainAxis:s=!0,crossAxis:c=!1,limiter:u={fn:S=>{let{x:N,y:w}=S;return{x:N,y:w}}},...h}=di(e,t),f={x:n,y:r},g=await da(t,h),m=er(hi(a)),y=Jf(m);let b=f[y],j=f[m];if(s){const S=y==="y"?"top":"left",N=y==="y"?"bottom":"right",w=b+g[S],C=b-g[N];b=Eh(w,b,C)}if(c){const S=m==="y"?"top":"left",N=m==="y"?"bottom":"right",w=j+g[S],C=j-g[N];j=Eh(w,j,C)}const v=u.fn({...t,[y]:b,[m]:j});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[y]:s,[m]:c}}}}}},DL=function(e){return e===void 0&&(e={}),{options:e,fn(t){const{x:n,y:r,placement:a,rects:s,middlewareData:c}=t,{offset:u=0,mainAxis:h=!0,crossAxis:f=!0}=di(e,t),g={x:n,y:r},m=er(a),y=Jf(m);let b=g[y],j=g[m];const v=di(u,t),S=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(h){const C=y==="y"?"height":"width",k=s.reference[y]-s.floating[C]+S.mainAxis,E=s.reference[y]+s.reference[C]-S.mainAxis;b<k?b=k:b>E&&(b=E)}if(f){var N,w;const C=y==="y"?"width":"height",k=["top","left"].includes(hi(a)),E=s.reference[m]-s.floating[C]+(k&&((N=c.offset)==null?void 0:N[m])||0)+(k?0:S.crossAxis),R=s.reference[m]+s.reference[C]+(k?0:((w=c.offset)==null?void 0:w[m])||0)-(k?S.crossAxis:0);j<E?j=E:j>R&&(j=R)}return{[y]:b,[m]:j}}}},zL=function(e){return e===void 0&&(e={}),{name:"size",options:e,async fn(t){var n,r;const{placement:a,rects:s,platform:c,elements:u}=t,{apply:h=()=>{},...f}=di(e,t),g=await da(t,f),m=hi(a),y=no(a),b=er(a)==="y",{width:j,height:v}=s.floating;let S,N;m==="top"||m==="bottom"?(S=m,N=y===(await(c.isRTL==null?void 0:c.isRTL(u.floating))?"start":"end")?"left":"right"):(N=m,S=y==="end"?"top":"bottom");const w=v-g.top-g.bottom,C=j-g.left-g.right,k=Ji(v-g[S],w),E=Ji(j-g[N],C),R=!t.middlewareData.shift;let O=k,D=E;if((n=t.middlewareData.shift)!=null&&n.enabled.x&&(D=C),(r=t.middlewareData.shift)!=null&&r.enabled.y&&(O=w),R&&!y){const H=Vt(g.left,0),Q=Vt(g.right,0),W=Vt(g.top,0),le=Vt(g.bottom,0);b?D=j-2*(H!==0||Q!==0?H+Q:Vt(g.left,g.right)):O=v-2*(W!==0||le!==0?W+le:Vt(g.top,g.bottom))}await h({...t,availableWidth:D,availableHeight:O});const V=await c.getDimensions(u.floating);return j!==V.width||v!==V.height?{reset:{rects:!0}}:{}}}};function Fc(){return typeof window<"u"}function io(e){return j0(e)?(e.nodeName||"").toLowerCase():"#document"}function Zt(e){var t;return(e==null||(t=e.ownerDocument)==null?void 0:t.defaultView)||window}function Hn(e){var t;return(t=(j0(e)?e.ownerDocument:e.document)||window.document)==null?void 0:t.documentElement}function j0(e){return Fc()?e instanceof Node||e instanceof Zt(e).Node:!1}function Nn(e){return Fc()?e instanceof Element||e instanceof Zt(e).Element:!1}function Vn(e){return Fc()?e instanceof HTMLElement||e instanceof Zt(e).HTMLElement:!1}function mv(e){return!Fc()||typeof ShadowRoot>"u"?!1:e instanceof ShadowRoot||e instanceof Zt(e).ShadowRoot}function Sa(e){const{overflow:t,overflowX:n,overflowY:r,display:a}=Cn(e);return/auto|scroll|overlay|hidden|clip/.test(t+r+n)&&!["inline","contents"].includes(a)}function FL(e){return["table","td","th"].includes(io(e))}function Bc(e){return[":popover-open",":modal"].some(t=>{try{return e.matches(t)}catch{return!1}})}function np(e){const t=ip(),n=Nn(e)?Cn(e):e;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!t&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!t&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function BL(e){let t=tr(e);for(;Vn(t)&&!qs(t);){if(np(t))return t;if(Bc(t))return null;t=tr(t)}return null}function ip(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function qs(e){return["html","body","#document"].includes(io(e))}function Cn(e){return Zt(e).getComputedStyle(e)}function $c(e){return Nn(e)?{scrollLeft:e.scrollLeft,scrollTop:e.scrollTop}:{scrollLeft:e.scrollX,scrollTop:e.scrollY}}function tr(e){if(io(e)==="html")return e;const t=e.assignedSlot||e.parentNode||mv(e)&&e.host||Hn(e);return mv(t)?t.host:t}function P0(e){const t=tr(e);return qs(t)?e.ownerDocument?e.ownerDocument.body:e.body:Vn(t)&&Sa(t)?t:P0(t)}function ha(e,t,n){var r;t===void 0&&(t=[]),n===void 0&&(n=!0);const a=P0(e),s=a===((r=e.ownerDocument)==null?void 0:r.body),c=Zt(a);if(s){const u=Mh(c);return t.concat(c,c.visualViewport||[],Sa(a)?a:[],u&&n?ha(u):[])}return t.concat(a,ha(a,[],n))}function Mh(e){return e.parent&&Object.getPrototypeOf(e.parent)?e.frameElement:null}function k0(e){const t=Cn(e);let n=parseFloat(t.width)||0,r=parseFloat(t.height)||0;const a=Vn(e),s=a?e.offsetWidth:n,c=a?e.offsetHeight:r,u=uc(n)!==s||uc(r)!==c;return u&&(n=s,r=c),{width:n,height:r,$:u}}function rp(e){return Nn(e)?e:e.contextElement}function Ss(e){const t=rp(e);if(!Vn(t))return $n(1);const n=t.getBoundingClientRect(),{width:r,height:a,$:s}=k0(t);let c=(s?uc(n.width):n.width)/r,u=(s?uc(n.height):n.height)/a;return(!c||!Number.isFinite(c))&&(c=1),(!u||!Number.isFinite(u))&&(u=1),{x:c,y:u}}const $L=$n(0);function L0(e){const t=Zt(e);return!ip()||!t.visualViewport?$L:{x:t.visualViewport.offsetLeft,y:t.visualViewport.offsetTop}}function VL(e,t,n){return t===void 0&&(t=!1),!n||t&&n!==Zt(e)?!1:t}function Ir(e,t,n,r){t===void 0&&(t=!1),n===void 0&&(n=!1);const a=e.getBoundingClientRect(),s=rp(e);let c=$n(1);t&&(r?Nn(r)&&(c=Ss(r)):c=Ss(e));const u=VL(s,n,r)?L0(s):$n(0);let h=(a.left+u.x)/c.x,f=(a.top+u.y)/c.y,g=a.width/c.x,m=a.height/c.y;if(s){const y=Zt(s),b=r&&Nn(r)?Zt(r):r;let j=y,v=Mh(j);for(;v&&r&&b!==j;){const S=Ss(v),N=v.getBoundingClientRect(),w=Cn(v),C=N.left+(v.clientLeft+parseFloat(w.paddingLeft))*S.x,k=N.top+(v.clientTop+parseFloat(w.paddingTop))*S.y;h*=S.x,f*=S.y,g*=S.x,m*=S.y,h+=C,f+=k,j=Zt(v),v=Mh(j)}}return hc({width:g,height:m,x:h,y:f})}function sp(e,t){const n=$c(e).scrollLeft;return t?t.left+n:Ir(Hn(e)).left+n}function E0(e,t,n){n===void 0&&(n=!1);const r=e.getBoundingClientRect(),a=r.left+t.scrollLeft-(n?0:sp(e,r)),s=r.top+t.scrollTop;return{x:a,y:s}}function UL(e){let{elements:t,rect:n,offsetParent:r,strategy:a}=e;const s=a==="fixed",c=Hn(r),u=t?Bc(t.floating):!1;if(r===c||u&&s)return n;let h={scrollLeft:0,scrollTop:0},f=$n(1);const g=$n(0),m=Vn(r);if((m||!m&&!s)&&((io(r)!=="body"||Sa(c))&&(h=$c(r)),Vn(r))){const b=Ir(r);f=Ss(r),g.x=b.x+r.clientLeft,g.y=b.y+r.clientTop}const y=c&&!m&&!s?E0(c,h,!0):$n(0);return{width:n.width*f.x,height:n.height*f.y,x:n.x*f.x-h.scrollLeft*f.x+g.x+y.x,y:n.y*f.y-h.scrollTop*f.y+g.y+y.y}}function HL(e){return Array.from(e.getClientRects())}function ZL(e){const t=Hn(e),n=$c(e),r=e.ownerDocument.body,a=Vt(t.scrollWidth,t.clientWidth,r.scrollWidth,r.clientWidth),s=Vt(t.scrollHeight,t.clientHeight,r.scrollHeight,r.clientHeight);let c=-n.scrollLeft+sp(e);const u=-n.scrollTop;return Cn(r).direction==="rtl"&&(c+=Vt(t.clientWidth,r.clientWidth)-a),{width:a,height:s,x:c,y:u}}function WL(e,t){const n=Zt(e),r=Hn(e),a=n.visualViewport;let s=r.clientWidth,c=r.clientHeight,u=0,h=0;if(a){s=a.width,c=a.height;const f=ip();(!f||f&&t==="fixed")&&(u=a.offsetLeft,h=a.offsetTop)}return{width:s,height:c,x:u,y:h}}function GL(e,t){const n=Ir(e,!0,t==="fixed"),r=n.top+e.clientTop,a=n.left+e.clientLeft,s=Vn(e)?Ss(e):$n(1),c=e.clientWidth*s.x,u=e.clientHeight*s.y,h=a*s.x,f=r*s.y;return{width:c,height:u,x:h,y:f}}function gv(e,t,n){let r;if(t==="viewport")r=WL(e,n);else if(t==="document")r=ZL(Hn(e));else if(Nn(t))r=GL(t,n);else{const a=L0(e);r={x:t.x-a.x,y:t.y-a.y,width:t.width,height:t.height}}return hc(r)}function T0(e,t){const n=tr(e);return n===t||!Nn(n)||qs(n)?!1:Cn(n).position==="fixed"||T0(n,t)}function KL(e,t){const n=t.get(e);if(n)return n;let r=ha(e,[],!1).filter(u=>Nn(u)&&io(u)!=="body"),a=null;const s=Cn(e).position==="fixed";let c=s?tr(e):e;for(;Nn(c)&&!qs(c);){const u=Cn(c),h=np(c);!h&&u.position==="fixed"&&(a=null),(s?!h&&!a:!h&&u.position==="static"&&!!a&&["absolute","fixed"].includes(a.position)||Sa(c)&&!h&&T0(e,c))?r=r.filter(g=>g!==c):a=u,c=tr(c)}return t.set(e,r),r}function qL(e){let{element:t,boundary:n,rootBoundary:r,strategy:a}=e;const c=[...n==="clippingAncestors"?Bc(t)?[]:KL(t,this._c):[].concat(n),r],u=c[0],h=c.reduce((f,g)=>{const m=gv(t,g,a);return f.top=Vt(m.top,f.top),f.right=Ji(m.right,f.right),f.bottom=Ji(m.bottom,f.bottom),f.left=Vt(m.left,f.left),f},gv(t,u,a));return{width:h.right-h.left,height:h.bottom-h.top,x:h.left,y:h.top}}function QL(e){const{width:t,height:n}=k0(e);return{width:t,height:n}}function YL(e,t,n){const r=Vn(t),a=Hn(t),s=n==="fixed",c=Ir(e,!0,s,t);let u={scrollLeft:0,scrollTop:0};const h=$n(0);if(r||!r&&!s)if((io(t)!=="body"||Sa(a))&&(u=$c(t)),r){const y=Ir(t,!0,s,t);h.x=y.x+t.clientLeft,h.y=y.y+t.clientTop}else a&&(h.x=sp(a));const f=a&&!r&&!s?E0(a,u):$n(0),g=c.left+u.scrollLeft-h.x-f.x,m=c.top+u.scrollTop-h.y-f.y;return{x:g,y:m,width:c.width,height:c.height}}function cd(e){return Cn(e).position==="static"}function vv(e,t){if(!Vn(e)||Cn(e).position==="fixed")return null;if(t)return t(e);let n=e.offsetParent;return Hn(e)===n&&(n=n.ownerDocument.body),n}function M0(e,t){const n=Zt(e);if(Bc(e))return n;if(!Vn(e)){let a=tr(e);for(;a&&!qs(a);){if(Nn(a)&&!cd(a))return a;a=tr(a)}return n}let r=vv(e,t);for(;r&&FL(r)&&cd(r);)r=vv(r,t);return r&&qs(r)&&cd(r)&&!np(r)?n:r||BL(e)||n}const XL=async function(e){const t=this.getOffsetParent||M0,n=this.getDimensions,r=await n(e.floating);return{reference:YL(e.reference,await t(e.floating),e.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function JL(e){return Cn(e).direction==="rtl"}const eE={convertOffsetParentRelativeRectToViewportRelativeRect:UL,getDocumentElement:Hn,getClippingRect:qL,getOffsetParent:M0,getElementRects:XL,getClientRects:HL,getDimensions:QL,getScale:Ss,isElement:Nn,isRTL:JL};function R0(e,t){return e.x===t.x&&e.y===t.y&&e.width===t.width&&e.height===t.height}function tE(e,t){let n=null,r;const a=Hn(e);function s(){var u;clearTimeout(r),(u=n)==null||u.disconnect(),n=null}function c(u,h){u===void 0&&(u=!1),h===void 0&&(h=1),s();const f=e.getBoundingClientRect(),{left:g,top:m,width:y,height:b}=f;if(u||t(),!y||!b)return;const j=fl(m),v=fl(a.clientWidth-(g+y)),S=fl(a.clientHeight-(m+b)),N=fl(g),C={rootMargin:-j+"px "+-v+"px "+-S+"px "+-N+"px",threshold:Vt(0,Ji(1,h))||1};let k=!0;function E(R){const O=R[0].intersectionRatio;if(O!==h){if(!k)return c();O?c(!1,O):r=setTimeout(()=>{c(!1,1e-7)},1e3)}O===1&&!R0(f,e.getBoundingClientRect())&&c(),k=!1}try{n=new IntersectionObserver(E,{...C,root:a.ownerDocument})}catch{n=new IntersectionObserver(E,C)}n.observe(e)}return c(!0),s}function nE(e,t,n,r){r===void 0&&(r={});const{ancestorScroll:a=!0,ancestorResize:s=!0,elementResize:c=typeof ResizeObserver=="function",layoutShift:u=typeof IntersectionObserver=="function",animationFrame:h=!1}=r,f=rp(e),g=a||s?[...f?ha(f):[],...ha(t)]:[];g.forEach(N=>{a&&N.addEventListener("scroll",n,{passive:!0}),s&&N.addEventListener("resize",n)});const m=f&&u?tE(f,n):null;let y=-1,b=null;c&&(b=new ResizeObserver(N=>{let[w]=N;w&&w.target===f&&b&&(b.unobserve(t),cancelAnimationFrame(y),y=requestAnimationFrame(()=>{var C;(C=b)==null||C.observe(t)})),n()}),f&&!h&&b.observe(f),b.observe(t));let j,v=h?Ir(e):null;h&&S();function S(){const N=Ir(e);v&&!R0(v,N)&&n(),v=N,j=requestAnimationFrame(S)}return n(),()=>{var N;g.forEach(w=>{a&&w.removeEventListener("scroll",n),s&&w.removeEventListener("resize",n)}),m==null||m(),(N=b)==null||N.disconnect(),b=null,h&&cancelAnimationFrame(j)}}const iE=AL,rE=IL,sE=ML,oE=zL,aE=RL,xv=TL,lE=DL,cE=(e,t,n)=>{const r=new Map,a={platform:eE,...n},s={...a.platform,_c:r};return EL(e,t,{...a,platform:s})};var Rl=typeof document<"u"?_.useLayoutEffect:_.useEffect;function fc(e,t){if(e===t)return!0;if(typeof e!=typeof t)return!1;if(typeof e=="function"&&e.toString()===t.toString())return!0;let n,r,a;if(e&&t&&typeof e=="object"){if(Array.isArray(e)){if(n=e.length,n!==t.length)return!1;for(r=n;r--!==0;)if(!fc(e[r],t[r]))return!1;return!0}if(a=Object.keys(e),n=a.length,n!==Object.keys(t).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(t,a[r]))return!1;for(r=n;r--!==0;){const s=a[r];if(!(s==="_owner"&&e.$$typeof)&&!fc(e[s],t[s]))return!1}return!0}return e!==e&&t!==t}function O0(e){return typeof window>"u"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function yv(e,t){const n=O0(e);return Math.round(t*n)/n}function ud(e){const t=_.useRef(e);return Rl(()=>{t.current=e}),t}function uE(e){e===void 0&&(e={});const{placement:t="bottom",strategy:n="absolute",middleware:r=[],platform:a,elements:{reference:s,floating:c}={},transform:u=!0,whileElementsMounted:h,open:f}=e,[g,m]=_.useState({x:0,y:0,strategy:n,placement:t,middlewareData:{},isPositioned:!1}),[y,b]=_.useState(r);fc(y,r)||b(r);const[j,v]=_.useState(null),[S,N]=_.useState(null),w=_.useCallback(A=>{A!==R.current&&(R.current=A,v(A))},[]),C=_.useCallback(A=>{A!==O.current&&(O.current=A,N(A))},[]),k=s||j,E=c||S,R=_.useRef(null),O=_.useRef(null),D=_.useRef(g),V=h!=null,H=ud(h),Q=ud(a),W=ud(f),le=_.useCallback(()=>{if(!R.current||!O.current)return;const A={placement:t,strategy:n,middleware:y};Q.current&&(A.platform=Q.current),cE(R.current,O.current,A).then(q=>{const $={...q,isPositioned:W.current!==!1};Z.current&&!fc(D.current,$)&&(D.current=$,$r.flushSync(()=>{m($)}))})},[y,t,n,Q,W]);Rl(()=>{f===!1&&D.current.isPositioned&&(D.current.isPositioned=!1,m(A=>({...A,isPositioned:!1})))},[f]);const Z=_.useRef(!1);Rl(()=>(Z.current=!0,()=>{Z.current=!1}),[]),Rl(()=>{if(k&&(R.current=k),E&&(O.current=E),k&&E){if(H.current)return H.current(k,E,le);le()}},[k,E,le,H,V]);const ce=_.useMemo(()=>({reference:R,floating:O,setReference:w,setFloating:C}),[w,C]),G=_.useMemo(()=>({reference:k,floating:E}),[k,E]),se=_.useMemo(()=>{const A={position:n,left:0,top:0};if(!G.floating)return A;const q=yv(G.floating,g.x),$=yv(G.floating,g.y);return u?{...A,transform:"translate("+q+"px, "+$+"px)",...O0(G.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:q,top:$}},[n,u,G.floating,g.x,g.y]);return _.useMemo(()=>({...g,update:le,refs:ce,elements:G,floatingStyles:se}),[g,le,ce,G,se])}const dE=e=>{function t(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:e,fn(n){const{element:r,padding:a}=typeof e=="function"?e(n):e;return r&&t(r)?r.current!=null?xv({element:r.current,padding:a}).fn(n):{}:r?xv({element:r,padding:a}).fn(n):{}}}},hE=(e,t)=>({...iE(e),options:[e,t]}),fE=(e,t)=>({...rE(e),options:[e,t]}),pE=(e,t)=>({...lE(e),options:[e,t]}),mE=(e,t)=>({...sE(e),options:[e,t]}),gE=(e,t)=>({...oE(e),options:[e,t]}),vE=(e,t)=>({...aE(e),options:[e,t]}),xE=(e,t)=>({...dE(e),options:[e,t]});var yE="Arrow",A0=_.forwardRef((e,t)=>{const{children:n,width:r=10,height:a=5,...s}=e;return o.jsx(me.svg,{...s,ref:t,width:r,height:a,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:e.asChild?n:o.jsx("polygon",{points:"0,0 30,0 15,10"})})});A0.displayName=yE;var _E=A0;function Vc(e){const[t,n]=_.useState(void 0);return xt(()=>{if(e){n({width:e.offsetWidth,height:e.offsetHeight});const r=new ResizeObserver(a=>{if(!Array.isArray(a)||!a.length)return;const s=a[0];let c,u;if("borderBoxSize"in s){const h=s.borderBoxSize,f=Array.isArray(h)?h[0]:h;c=f.inlineSize,u=f.blockSize}else c=e.offsetWidth,u=e.offsetHeight;n({width:c,height:u})});return r.observe(e,{box:"border-box"}),()=>r.unobserve(e)}else n(void 0)},[e]),t}var op="Popper",[I0,Uc]=qt(op),[wE,D0]=I0(op),z0=e=>{const{__scopePopper:t,children:n}=e,[r,a]=_.useState(null);return o.jsx(wE,{scope:t,anchor:r,onAnchorChange:a,children:n})};z0.displayName=op;var F0="PopperAnchor",B0=_.forwardRef((e,t)=>{const{__scopePopper:n,virtualRef:r,...a}=e,s=D0(F0,n),c=_.useRef(null),u=Ae(t,c);return _.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||c.current)}),r?null:o.jsx(me.div,{...a,ref:u})});B0.displayName=F0;var ap="PopperContent",[bE,NE]=I0(ap),$0=_.forwardRef((e,t)=>{var F,ne,ge,xe,Pe,ke;const{__scopePopper:n,side:r="bottom",sideOffset:a=0,align:s="center",alignOffset:c=0,arrowPadding:u=0,avoidCollisions:h=!0,collisionBoundary:f=[],collisionPadding:g=0,sticky:m="partial",hideWhenDetached:y=!1,updatePositionStrategy:b="optimized",onPlaced:j,...v}=e,S=D0(ap,n),[N,w]=_.useState(null),C=Ae(t,lt=>w(lt)),[k,E]=_.useState(null),R=Vc(k),O=(R==null?void 0:R.width)??0,D=(R==null?void 0:R.height)??0,V=r+(s!=="center"?"-"+s:""),H=typeof g=="number"?g:{top:0,right:0,bottom:0,left:0,...g},Q=Array.isArray(f)?f:[f],W=Q.length>0,le={padding:H,boundary:Q.filter(SE),altBoundary:W},{refs:Z,floatingStyles:ce,placement:G,isPositioned:se,middlewareData:A}=uE({strategy:"fixed",placement:V,whileElementsMounted:(...lt)=>nE(...lt,{animationFrame:b==="always"}),elements:{reference:S.anchor},middleware:[hE({mainAxis:a+D,alignmentAxis:c}),h&&fE({mainAxis:!0,crossAxis:!1,limiter:m==="partial"?pE():void 0,...le}),h&&mE({...le}),gE({...le,apply:({elements:lt,rects:Qt,availableWidth:mi,availableHeight:gi})=>{const{width:Zn,height:Vr}=Qt.reference,Ur=lt.floating.style;Ur.setProperty("--radix-popper-available-width",`${mi}px`),Ur.setProperty("--radix-popper-available-height",`${gi}px`),Ur.setProperty("--radix-popper-anchor-width",`${Zn}px`),Ur.setProperty("--radix-popper-anchor-height",`${Vr}px`)}}),k&&xE({element:k,padding:u}),jE({arrowWidth:O,arrowHeight:D}),y&&vE({strategy:"referenceHidden",...le})]}),[q,$]=H0(G),X=zt(j);xt(()=>{se&&(X==null||X())},[se,X]);const ue=(F=A.arrow)==null?void 0:F.x,Ce=(ne=A.arrow)==null?void 0:ne.y,B=((ge=A.arrow)==null?void 0:ge.centerOffset)!==0,[ee,Y]=_.useState();return xt(()=>{N&&Y(window.getComputedStyle(N).zIndex)},[N]),o.jsx("div",{ref:Z.setFloating,"data-radix-popper-content-wrapper":"",style:{...ce,transform:se?ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:ee,"--radix-popper-transform-origin":[(xe=A.transformOrigin)==null?void 0:xe.x,(Pe=A.transformOrigin)==null?void 0:Pe.y].join(" "),...((ke=A.hide)==null?void 0:ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:e.dir,children:o.jsx(bE,{scope:n,placedSide:q,onArrowChange:E,arrowX:ue,arrowY:Ce,shouldHideArrow:B,children:o.jsx(me.div,{"data-side":q,"data-align":$,...v,ref:C,style:{...v.style,animation:se?void 0:"none"}})})})});$0.displayName=ap;var V0="PopperArrow",CE={top:"bottom",right:"left",bottom:"top",left:"right"},U0=_.forwardRef(function(t,n){const{__scopePopper:r,...a}=t,s=NE(V0,r),c=CE[s.placedSide];return o.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[c]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:o.jsx(_E,{...a,ref:n,style:{...a.style,display:"block"}})})});U0.displayName=V0;function SE(e){return e!==null}var jE=e=>({name:"transformOrigin",options:e,fn(t){var S,N,w;const{placement:n,rects:r,middlewareData:a}=t,c=((S=a.arrow)==null?void 0:S.centerOffset)!==0,u=c?0:e.arrowWidth,h=c?0:e.arrowHeight,[f,g]=H0(n),m={start:"0%",center:"50%",end:"100%"}[g],y=(((N=a.arrow)==null?void 0:N.x)??0)+u/2,b=(((w=a.arrow)==null?void 0:w.y)??0)+h/2;let j="",v="";return f==="bottom"?(j=c?m:`${y}px`,v=`${-h}px`):f==="top"?(j=c?m:`${y}px`,v=`${r.floating.height+h}px`):f==="right"?(j=`${-h}px`,v=c?m:`${b}px`):f==="left"&&(j=`${r.floating.width+h}px`,v=c?m:`${b}px`),{data:{x:j,y:v}}}});function H0(e){const[t,n="center"]=e.split("-");return[t,n]}var PE=z0,Z0=B0,W0=$0,G0=U0,[Hc,nR]=qt("Tooltip",[Uc]),lp=Uc(),K0="TooltipProvider",kE=700,_v="tooltip.open",[LE,q0]=Hc(K0),Q0=e=>{const{__scopeTooltip:t,delayDuration:n=kE,skipDelayDuration:r=300,disableHoverableContent:a=!1,children:s}=e,c=_.useRef(!0),u=_.useRef(!1),h=_.useRef(0);return _.useEffect(()=>{const f=h.current;return()=>window.clearTimeout(f)},[]),o.jsx(LE,{scope:t,isOpenDelayedRef:c,delayDuration:n,onOpen:_.useCallback(()=>{window.clearTimeout(h.current),c.current=!1},[]),onClose:_.useCallback(()=>{window.clearTimeout(h.current),h.current=window.setTimeout(()=>c.current=!0,r)},[r]),isPointerInTransitRef:u,onPointerInTransitChange:_.useCallback(f=>{u.current=f},[]),disableHoverableContent:a,children:s})};Q0.displayName=K0;var Y0="Tooltip",[iR,Zc]=Hc(Y0),Rh="TooltipTrigger",EE=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=Zc(Rh,n),s=q0(Rh,n),c=lp(n),u=_.useRef(null),h=Ae(t,u,a.onTriggerChange),f=_.useRef(!1),g=_.useRef(!1),m=_.useCallback(()=>f.current=!1,[]);return _.useEffect(()=>()=>document.removeEventListener("pointerup",m),[m]),o.jsx(Z0,{asChild:!0,...c,children:o.jsx(me.button,{"aria-describedby":a.open?a.contentId:void 0,"data-state":a.stateAttribute,...r,ref:h,onPointerMove:ae(e.onPointerMove,y=>{y.pointerType!=="touch"&&!g.current&&!s.isPointerInTransitRef.current&&(a.onTriggerEnter(),g.current=!0)}),onPointerLeave:ae(e.onPointerLeave,()=>{a.onTriggerLeave(),g.current=!1}),onPointerDown:ae(e.onPointerDown,()=>{a.open&&a.onClose(),f.current=!0,document.addEventListener("pointerup",m,{once:!0})}),onFocus:ae(e.onFocus,()=>{f.current||a.onOpen()}),onBlur:ae(e.onBlur,a.onClose),onClick:ae(e.onClick,a.onClose)})})});EE.displayName=Rh;var TE="TooltipPortal",[rR,ME]=Hc(TE,{forceMount:void 0}),Qs="TooltipContent",X0=_.forwardRef((e,t)=>{const n=ME(Qs,e.__scopeTooltip),{forceMount:r=n.forceMount,side:a="top",...s}=e,c=Zc(Qs,e.__scopeTooltip);return o.jsx(pi,{present:r||c.open,children:c.disableHoverableContent?o.jsx(J0,{side:a,...s,ref:t}):o.jsx(RE,{side:a,...s,ref:t})})}),RE=_.forwardRef((e,t)=>{const n=Zc(Qs,e.__scopeTooltip),r=q0(Qs,e.__scopeTooltip),a=_.useRef(null),s=Ae(t,a),[c,u]=_.useState(null),{trigger:h,onClose:f}=n,g=a.current,{onPointerInTransitChange:m}=r,y=_.useCallback(()=>{u(null),m(!1)},[m]),b=_.useCallback((j,v)=>{const S=j.currentTarget,N={x:j.clientX,y:j.clientY},w=zE(N,S.getBoundingClientRect()),C=FE(N,w),k=BE(v.getBoundingClientRect()),E=VE([...C,...k]);u(E),m(!0)},[m]);return _.useEffect(()=>()=>y(),[y]),_.useEffect(()=>{if(h&&g){const j=S=>b(S,g),v=S=>b(S,h);return h.addEventListener("pointerleave",j),g.addEventListener("pointerleave",v),()=>{h.removeEventListener("pointerleave",j),g.removeEventListener("pointerleave",v)}}},[h,g,b,y]),_.useEffect(()=>{if(c){const j=v=>{const S=v.target,N={x:v.clientX,y:v.clientY},w=(h==null?void 0:h.contains(S))||(g==null?void 0:g.contains(S)),C=!$E(N,c);w?y():C&&(y(),f())};return document.addEventListener("pointermove",j),()=>document.removeEventListener("pointermove",j)}},[h,g,c,f,y]),o.jsx(J0,{...e,ref:s})}),[OE,AE]=Hc(Y0,{isInside:!1}),IE=AP("TooltipContent"),J0=_.forwardRef((e,t)=>{const{__scopeTooltip:n,children:r,"aria-label":a,onEscapeKeyDown:s,onPointerDownOutside:c,...u}=e,h=Zc(Qs,n),f=lp(n),{onClose:g}=h;return _.useEffect(()=>(document.addEventListener(_v,g),()=>document.removeEventListener(_v,g)),[g]),_.useEffect(()=>{if(h.trigger){const m=y=>{const b=y.target;b!=null&&b.contains(h.trigger)&&g()};return window.addEventListener("scroll",m,{capture:!0}),()=>window.removeEventListener("scroll",m,{capture:!0})}},[h.trigger,g]),o.jsx(Na,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:m=>m.preventDefault(),onDismiss:g,children:o.jsxs(W0,{"data-state":h.stateAttribute,...f,...u,ref:t,style:{...u.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[o.jsx(IE,{children:r}),o.jsx(OE,{scope:n,isInside:!0,children:o.jsx(tk,{id:h.contentId,role:"tooltip",children:a||r})})]})})});X0.displayName=Qs;var ew="TooltipArrow",DE=_.forwardRef((e,t)=>{const{__scopeTooltip:n,...r}=e,a=lp(n);return AE(ew,n).isInside?null:o.jsx(G0,{...a,...r,ref:t})});DE.displayName=ew;function zE(e,t){const n=Math.abs(t.top-e.y),r=Math.abs(t.bottom-e.y),a=Math.abs(t.right-e.x),s=Math.abs(t.left-e.x);switch(Math.min(n,r,a,s)){case s:return"left";case a:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function FE(e,t,n=5){const r=[];switch(t){case"top":r.push({x:e.x-n,y:e.y+n},{x:e.x+n,y:e.y+n});break;case"bottom":r.push({x:e.x-n,y:e.y-n},{x:e.x+n,y:e.y-n});break;case"left":r.push({x:e.x+n,y:e.y-n},{x:e.x+n,y:e.y+n});break;case"right":r.push({x:e.x-n,y:e.y-n},{x:e.x-n,y:e.y+n});break}return r}function BE(e){const{top:t,right:n,bottom:r,left:a}=e;return[{x:a,y:t},{x:n,y:t},{x:n,y:r},{x:a,y:r}]}function $E(e,t){const{x:n,y:r}=e;let a=!1;for(let s=0,c=t.length-1;s<t.length;c=s++){const u=t[s].x,h=t[s].y,f=t[c].x,g=t[c].y;h>r!=g>r&&n<(f-u)*(r-h)/(g-h)+u&&(a=!a)}return a}function VE(e){const t=e.slice();return t.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),UE(t)}function UE(e){if(e.length<=1)return e.slice();const t=[];for(let r=0;r<e.length;r++){const a=e[r];for(;t.length>=2;){const s=t[t.length-1],c=t[t.length-2];if((s.x-c.x)*(a.y-c.y)>=(s.y-c.y)*(a.x-c.x))t.pop();else break}t.push(a)}t.pop();const n=[];for(let r=e.length-1;r>=0;r--){const a=e[r];for(;n.length>=2;){const s=n[n.length-1],c=n[n.length-2];if((s.x-c.x)*(a.y-c.y)>=(s.y-c.y)*(a.x-c.x))n.pop();else break}n.push(a)}return n.pop(),t.length===1&&n.length===1&&t[0].x===n[0].x&&t[0].y===n[0].y?t:t.concat(n)}var HE=Q0,tw=X0;const ZE=HE,WE=_.forwardRef(({className:e,sideOffset:t=4,...n},r)=>o.jsx(tw,{ref:r,sideOffset:t,className:_e("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",e),...n}));WE.displayName=tw.displayName;function ja(){const{data:e,isLoading:t}=St({queryKey:["/api/auth/user"],retry:!1});return{user:e,isLoading:t,isAuthenticated:!!e}}const he=_.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:_e("rounded-lg border bg-card text-card-foreground shadow-sm",e),...t}));he.displayName="Card";const Ee=_.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:_e("flex flex-col space-y-1.5 p-6",e),...t}));Ee.displayName="CardHeader";const Te=_.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:_e("text-2xl font-semibold leading-none tracking-tight",e),...t}));Te.displayName="CardTitle";const yn=_.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));yn.displayName="CardDescription";const fe=_.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:_e("p-6 pt-0",e),...t}));fe.displayName="CardContent";const GE=_.forwardRef(({className:e,...t},n)=>o.jsx("div",{ref:n,className:_e("flex items-center p-6 pt-0",e),...t}));GE.displayName="CardFooter";function KE(){return o.jsx("div",{className:"min-h-screen w-full flex items-center justify-center bg-gray-50",children:o.jsx(he,{className:"w-full max-w-md mx-4",children:o.jsxs(fe,{className:"pt-6",children:[o.jsxs("div",{className:"flex mb-4 gap-2",children:[o.jsx(jk,{className:"h-8 w-8 text-red-500"}),o.jsx("h1",{className:"text-2xl font-bold text-gray-900",children:"404 Page Not Found"})]}),o.jsx("p",{className:"mt-4 text-sm text-gray-600",children:"Did you forget to add the page to the router?"})]})})})}const qE=Dc("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),re=_.forwardRef(({className:e,variant:t,size:n,asChild:r=!1,...a},s)=>{const c=r?RP:"button";return o.jsx(c,{className:_e(qE({variant:t,size:n,className:e})),ref:s,...a})});re.displayName="Button";function QE(){const e=()=>{window.location.href="/api/login"};return o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-vegan-light-green to-white flex items-center justify-center p-4",children:o.jsxs("div",{className:"bg-white rounded-3xl shadow-2xl p-8 w-full max-w-md",children:[o.jsxs("div",{className:"text-center mb-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-vegan-green rounded-2xl mb-4",children:o.jsx("i",{className:"fas fa-leaf text-white text-3xl"})}),o.jsx("h1",{className:"text-3xl font-poppins font-bold text-gray-900 mb-2",children:"VeganMapAI"}),o.jsx("p",{className:"text-neutral-gray font-opensans",children:"Discover amazing vegan-friendly places near you"})]}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs(re,{onClick:e,className:"w-full bg-black text-white py-4 px-6 rounded-xl font-opensans font-medium flex items-center justify-center space-x-3 hover:bg-gray-800 transition-colors h-auto",children:[o.jsx("i",{className:"fab fa-apple text-xl"}),o.jsx("span",{children:"Continue with Apple"})]}),o.jsxs(re,{onClick:e,variant:"outline",className:"w-full bg-white border-2 border-gray-200 text-gray-700 py-4 px-6 rounded-xl font-opensans font-medium flex items-center justify-center space-x-3 hover:bg-gray-50 transition-colors h-auto",children:[o.jsx("i",{className:"fab fa-google text-xl text-red-500"}),o.jsx("span",{children:"Continue with Google"})]})]}),o.jsx("p",{className:"text-sm text-neutral-gray text-center mt-6",children:"By continuing, you agree to our Terms of Service and Privacy Policy"})]})})}var Oh={exports:{}};/* @preserve
 * Leaflet 1.9.4, a JS library for interactive maps. https://leafletjs.com
 * (c) 2010-2023 Vladimir Agafonkin, (c) 2010-2011 CloudMade
 */(function(e,t){(function(n,r){r(t)})(Kv,function(n){var r="1.9.4";function a(i){var l,d,p,x;for(d=1,p=arguments.length;d<p;d++){x=arguments[d];for(l in x)i[l]=x[l]}return i}var s=Object.create||function(){function i(){}return function(l){return i.prototype=l,new i}}();function c(i,l){var d=Array.prototype.slice;if(i.bind)return i.bind.apply(i,d.call(arguments,1));var p=d.call(arguments,2);return function(){return i.apply(l,p.length?p.concat(d.call(arguments)):arguments)}}var u=0;function h(i){return"_leaflet_id"in i||(i._leaflet_id=++u),i._leaflet_id}function f(i,l,d){var p,x,P,T;return T=function(){p=!1,x&&(P.apply(d,x),x=!1)},P=function(){p?x=arguments:(i.apply(d,arguments),setTimeout(T,l),p=!0)},P}function g(i,l,d){var p=l[1],x=l[0],P=p-x;return i===p&&d?i:((i-x)%P+P)%P+x}function m(){return!1}function y(i,l){if(l===!1)return i;var d=Math.pow(10,l===void 0?6:l);return Math.round(i*d)/d}function b(i){return i.trim?i.trim():i.replace(/^\s+|\s+$/g,"")}function j(i){return b(i).split(/\s+/)}function v(i,l){Object.prototype.hasOwnProperty.call(i,"options")||(i.options=i.options?s(i.options):{});for(var d in l)i.options[d]=l[d];return i.options}function S(i,l,d){var p=[];for(var x in i)p.push(encodeURIComponent(d?x.toUpperCase():x)+"="+encodeURIComponent(i[x]));return(!l||l.indexOf("?")===-1?"?":"&")+p.join("&")}var N=/\{ *([\w_ -]+) *\}/g;function w(i,l){return i.replace(N,function(d,p){var x=l[p];if(x===void 0)throw new Error("No value provided for variable "+d);return typeof x=="function"&&(x=x(l)),x})}var C=Array.isArray||function(i){return Object.prototype.toString.call(i)==="[object Array]"};function k(i,l){for(var d=0;d<i.length;d++)if(i[d]===l)return d;return-1}var E="data:image/gif;base64,R0lGODlhAQABAAD/ACwAAAAAAQABAAACADs=";function R(i){return window["webkit"+i]||window["moz"+i]||window["ms"+i]}var O=0;function D(i){var l=+new Date,d=Math.max(0,16-(l-O));return O=l+d,window.setTimeout(i,d)}var V=window.requestAnimationFrame||R("RequestAnimationFrame")||D,H=window.cancelAnimationFrame||R("CancelAnimationFrame")||R("CancelRequestAnimationFrame")||function(i){window.clearTimeout(i)};function Q(i,l,d){if(d&&V===D)i.call(l);else return V.call(window,c(i,l))}function W(i){i&&H.call(window,i)}var le={__proto__:null,extend:a,create:s,bind:c,get lastId(){return u},stamp:h,throttle:f,wrapNum:g,falseFn:m,formatNum:y,trim:b,splitWords:j,setOptions:v,getParamString:S,template:w,isArray:C,indexOf:k,emptyImageUrl:E,requestFn:V,cancelFn:H,requestAnimFrame:Q,cancelAnimFrame:W};function Z(){}Z.extend=function(i){var l=function(){v(this),this.initialize&&this.initialize.apply(this,arguments),this.callInitHooks()},d=l.__super__=this.prototype,p=s(d);p.constructor=l,l.prototype=p;for(var x in this)Object.prototype.hasOwnProperty.call(this,x)&&x!=="prototype"&&x!=="__super__"&&(l[x]=this[x]);return i.statics&&a(l,i.statics),i.includes&&(ce(i.includes),a.apply(null,[p].concat(i.includes))),a(p,i),delete p.statics,delete p.includes,p.options&&(p.options=d.options?s(d.options):{},a(p.options,i.options)),p._initHooks=[],p.callInitHooks=function(){if(!this._initHooksCalled){d.callInitHooks&&d.callInitHooks.call(this),this._initHooksCalled=!0;for(var P=0,T=p._initHooks.length;P<T;P++)p._initHooks[P].call(this)}},l},Z.include=function(i){var l=this.prototype.options;return a(this.prototype,i),i.options&&(this.prototype.options=l,this.mergeOptions(i.options)),this},Z.mergeOptions=function(i){return a(this.prototype.options,i),this},Z.addInitHook=function(i){var l=Array.prototype.slice.call(arguments,1),d=typeof i=="function"?i:function(){this[i].apply(this,l)};return this.prototype._initHooks=this.prototype._initHooks||[],this.prototype._initHooks.push(d),this};function ce(i){if(!(typeof L>"u"||!L||!L.Mixin)){i=C(i)?i:[i];for(var l=0;l<i.length;l++)i[l]===L.Mixin.Events&&console.warn("Deprecated include of L.Mixin.Events: this property will be removed in future releases, please inherit from L.Evented instead.",new Error().stack)}}var G={on:function(i,l,d){if(typeof i=="object")for(var p in i)this._on(p,i[p],l);else{i=j(i);for(var x=0,P=i.length;x<P;x++)this._on(i[x],l,d)}return this},off:function(i,l,d){if(!arguments.length)delete this._events;else if(typeof i=="object")for(var p in i)this._off(p,i[p],l);else{i=j(i);for(var x=arguments.length===1,P=0,T=i.length;P<T;P++)x?this._off(i[P]):this._off(i[P],l,d)}return this},_on:function(i,l,d,p){if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}if(this._listens(i,l,d)===!1){d===this&&(d=void 0);var x={fn:l,ctx:d};p&&(x.once=!0),this._events=this._events||{},this._events[i]=this._events[i]||[],this._events[i].push(x)}},_off:function(i,l,d){var p,x,P;if(this._events&&(p=this._events[i],!!p)){if(arguments.length===1){if(this._firingCount)for(x=0,P=p.length;x<P;x++)p[x].fn=m;delete this._events[i];return}if(typeof l!="function"){console.warn("wrong listener type: "+typeof l);return}var T=this._listens(i,l,d);if(T!==!1){var I=p[T];this._firingCount&&(I.fn=m,this._events[i]=p=p.slice()),p.splice(T,1)}}},fire:function(i,l,d){if(!this.listens(i,d))return this;var p=a({},l,{type:i,target:this,sourceTarget:l&&l.sourceTarget||this});if(this._events){var x=this._events[i];if(x){this._firingCount=this._firingCount+1||1;for(var P=0,T=x.length;P<T;P++){var I=x[P],z=I.fn;I.once&&this.off(i,z,I.ctx),z.call(I.ctx||this,p)}this._firingCount--}}return d&&this._propagateEvent(p),this},listens:function(i,l,d,p){typeof i!="string"&&console.warn('"string" type argument expected');var x=l;typeof l!="function"&&(p=!!l,x=void 0,d=void 0);var P=this._events&&this._events[i];if(P&&P.length&&this._listens(i,x,d)!==!1)return!0;if(p){for(var T in this._eventParents)if(this._eventParents[T].listens(i,l,d,p))return!0}return!1},_listens:function(i,l,d){if(!this._events)return!1;var p=this._events[i]||[];if(!l)return!!p.length;d===this&&(d=void 0);for(var x=0,P=p.length;x<P;x++)if(p[x].fn===l&&p[x].ctx===d)return x;return!1},once:function(i,l,d){if(typeof i=="object")for(var p in i)this._on(p,i[p],l,!0);else{i=j(i);for(var x=0,P=i.length;x<P;x++)this._on(i[x],l,d,!0)}return this},addEventParent:function(i){return this._eventParents=this._eventParents||{},this._eventParents[h(i)]=i,this},removeEventParent:function(i){return this._eventParents&&delete this._eventParents[h(i)],this},_propagateEvent:function(i){for(var l in this._eventParents)this._eventParents[l].fire(i.type,a({layer:i.target,propagatedFrom:i.target},i),!0)}};G.addEventListener=G.on,G.removeEventListener=G.clearAllEventListeners=G.off,G.addOneTimeEventListener=G.once,G.fireEvent=G.fire,G.hasEventListeners=G.listens;var se=Z.extend(G);function A(i,l,d){this.x=d?Math.round(i):i,this.y=d?Math.round(l):l}var q=Math.trunc||function(i){return i>0?Math.floor(i):Math.ceil(i)};A.prototype={clone:function(){return new A(this.x,this.y)},add:function(i){return this.clone()._add($(i))},_add:function(i){return this.x+=i.x,this.y+=i.y,this},subtract:function(i){return this.clone()._subtract($(i))},_subtract:function(i){return this.x-=i.x,this.y-=i.y,this},divideBy:function(i){return this.clone()._divideBy(i)},_divideBy:function(i){return this.x/=i,this.y/=i,this},multiplyBy:function(i){return this.clone()._multiplyBy(i)},_multiplyBy:function(i){return this.x*=i,this.y*=i,this},scaleBy:function(i){return new A(this.x*i.x,this.y*i.y)},unscaleBy:function(i){return new A(this.x/i.x,this.y/i.y)},round:function(){return this.clone()._round()},_round:function(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this},floor:function(){return this.clone()._floor()},_floor:function(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this},ceil:function(){return this.clone()._ceil()},_ceil:function(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this},trunc:function(){return this.clone()._trunc()},_trunc:function(){return this.x=q(this.x),this.y=q(this.y),this},distanceTo:function(i){i=$(i);var l=i.x-this.x,d=i.y-this.y;return Math.sqrt(l*l+d*d)},equals:function(i){return i=$(i),i.x===this.x&&i.y===this.y},contains:function(i){return i=$(i),Math.abs(i.x)<=Math.abs(this.x)&&Math.abs(i.y)<=Math.abs(this.y)},toString:function(){return"Point("+y(this.x)+", "+y(this.y)+")"}};function $(i,l,d){return i instanceof A?i:C(i)?new A(i[0],i[1]):i==null?i:typeof i=="object"&&"x"in i&&"y"in i?new A(i.x,i.y):new A(i,l,d)}function X(i,l){if(i)for(var d=l?[i,l]:i,p=0,x=d.length;p<x;p++)this.extend(d[p])}X.prototype={extend:function(i){var l,d;if(!i)return this;if(i instanceof A||typeof i[0]=="number"||"x"in i)l=d=$(i);else if(i=ue(i),l=i.min,d=i.max,!l||!d)return this;return!this.min&&!this.max?(this.min=l.clone(),this.max=d.clone()):(this.min.x=Math.min(l.x,this.min.x),this.max.x=Math.max(d.x,this.max.x),this.min.y=Math.min(l.y,this.min.y),this.max.y=Math.max(d.y,this.max.y)),this},getCenter:function(i){return $((this.min.x+this.max.x)/2,(this.min.y+this.max.y)/2,i)},getBottomLeft:function(){return $(this.min.x,this.max.y)},getTopRight:function(){return $(this.max.x,this.min.y)},getTopLeft:function(){return this.min},getBottomRight:function(){return this.max},getSize:function(){return this.max.subtract(this.min)},contains:function(i){var l,d;return typeof i[0]=="number"||i instanceof A?i=$(i):i=ue(i),i instanceof X?(l=i.min,d=i.max):l=d=i,l.x>=this.min.x&&d.x<=this.max.x&&l.y>=this.min.y&&d.y<=this.max.y},intersects:function(i){i=ue(i);var l=this.min,d=this.max,p=i.min,x=i.max,P=x.x>=l.x&&p.x<=d.x,T=x.y>=l.y&&p.y<=d.y;return P&&T},overlaps:function(i){i=ue(i);var l=this.min,d=this.max,p=i.min,x=i.max,P=x.x>l.x&&p.x<d.x,T=x.y>l.y&&p.y<d.y;return P&&T},isValid:function(){return!!(this.min&&this.max)},pad:function(i){var l=this.min,d=this.max,p=Math.abs(l.x-d.x)*i,x=Math.abs(l.y-d.y)*i;return ue($(l.x-p,l.y-x),$(d.x+p,d.y+x))},equals:function(i){return i?(i=ue(i),this.min.equals(i.getTopLeft())&&this.max.equals(i.getBottomRight())):!1}};function ue(i,l){return!i||i instanceof X?i:new X(i,l)}function Ce(i,l){if(i)for(var d=l?[i,l]:i,p=0,x=d.length;p<x;p++)this.extend(d[p])}Ce.prototype={extend:function(i){var l=this._southWest,d=this._northEast,p,x;if(i instanceof ee)p=i,x=i;else if(i instanceof Ce){if(p=i._southWest,x=i._northEast,!p||!x)return this}else return i?this.extend(Y(i)||B(i)):this;return!l&&!d?(this._southWest=new ee(p.lat,p.lng),this._northEast=new ee(x.lat,x.lng)):(l.lat=Math.min(p.lat,l.lat),l.lng=Math.min(p.lng,l.lng),d.lat=Math.max(x.lat,d.lat),d.lng=Math.max(x.lng,d.lng)),this},pad:function(i){var l=this._southWest,d=this._northEast,p=Math.abs(l.lat-d.lat)*i,x=Math.abs(l.lng-d.lng)*i;return new Ce(new ee(l.lat-p,l.lng-x),new ee(d.lat+p,d.lng+x))},getCenter:function(){return new ee((this._southWest.lat+this._northEast.lat)/2,(this._southWest.lng+this._northEast.lng)/2)},getSouthWest:function(){return this._southWest},getNorthEast:function(){return this._northEast},getNorthWest:function(){return new ee(this.getNorth(),this.getWest())},getSouthEast:function(){return new ee(this.getSouth(),this.getEast())},getWest:function(){return this._southWest.lng},getSouth:function(){return this._southWest.lat},getEast:function(){return this._northEast.lng},getNorth:function(){return this._northEast.lat},contains:function(i){typeof i[0]=="number"||i instanceof ee||"lat"in i?i=Y(i):i=B(i);var l=this._southWest,d=this._northEast,p,x;return i instanceof Ce?(p=i.getSouthWest(),x=i.getNorthEast()):p=x=i,p.lat>=l.lat&&x.lat<=d.lat&&p.lng>=l.lng&&x.lng<=d.lng},intersects:function(i){i=B(i);var l=this._southWest,d=this._northEast,p=i.getSouthWest(),x=i.getNorthEast(),P=x.lat>=l.lat&&p.lat<=d.lat,T=x.lng>=l.lng&&p.lng<=d.lng;return P&&T},overlaps:function(i){i=B(i);var l=this._southWest,d=this._northEast,p=i.getSouthWest(),x=i.getNorthEast(),P=x.lat>l.lat&&p.lat<d.lat,T=x.lng>l.lng&&p.lng<d.lng;return P&&T},toBBoxString:function(){return[this.getWest(),this.getSouth(),this.getEast(),this.getNorth()].join(",")},equals:function(i,l){return i?(i=B(i),this._southWest.equals(i.getSouthWest(),l)&&this._northEast.equals(i.getNorthEast(),l)):!1},isValid:function(){return!!(this._southWest&&this._northEast)}};function B(i,l){return i instanceof Ce?i:new Ce(i,l)}function ee(i,l,d){if(isNaN(i)||isNaN(l))throw new Error("Invalid LatLng object: ("+i+", "+l+")");this.lat=+i,this.lng=+l,d!==void 0&&(this.alt=+d)}ee.prototype={equals:function(i,l){if(!i)return!1;i=Y(i);var d=Math.max(Math.abs(this.lat-i.lat),Math.abs(this.lng-i.lng));return d<=(l===void 0?1e-9:l)},toString:function(i){return"LatLng("+y(this.lat,i)+", "+y(this.lng,i)+")"},distanceTo:function(i){return ne.distance(this,Y(i))},wrap:function(){return ne.wrapLatLng(this)},toBounds:function(i){var l=180*i/40075017,d=l/Math.cos(Math.PI/180*this.lat);return B([this.lat-l,this.lng-d],[this.lat+l,this.lng+d])},clone:function(){return new ee(this.lat,this.lng,this.alt)}};function Y(i,l,d){return i instanceof ee?i:C(i)&&typeof i[0]!="object"?i.length===3?new ee(i[0],i[1],i[2]):i.length===2?new ee(i[0],i[1]):null:i==null?i:typeof i=="object"&&"lat"in i?new ee(i.lat,"lng"in i?i.lng:i.lon,i.alt):l===void 0?null:new ee(i,l,d)}var F={latLngToPoint:function(i,l){var d=this.projection.project(i),p=this.scale(l);return this.transformation._transform(d,p)},pointToLatLng:function(i,l){var d=this.scale(l),p=this.transformation.untransform(i,d);return this.projection.unproject(p)},project:function(i){return this.projection.project(i)},unproject:function(i){return this.projection.unproject(i)},scale:function(i){return 256*Math.pow(2,i)},zoom:function(i){return Math.log(i/256)/Math.LN2},getProjectedBounds:function(i){if(this.infinite)return null;var l=this.projection.bounds,d=this.scale(i),p=this.transformation.transform(l.min,d),x=this.transformation.transform(l.max,d);return new X(p,x)},infinite:!1,wrapLatLng:function(i){var l=this.wrapLng?g(i.lng,this.wrapLng,!0):i.lng,d=this.wrapLat?g(i.lat,this.wrapLat,!0):i.lat,p=i.alt;return new ee(d,l,p)},wrapLatLngBounds:function(i){var l=i.getCenter(),d=this.wrapLatLng(l),p=l.lat-d.lat,x=l.lng-d.lng;if(p===0&&x===0)return i;var P=i.getSouthWest(),T=i.getNorthEast(),I=new ee(P.lat-p,P.lng-x),z=new ee(T.lat-p,T.lng-x);return new Ce(I,z)}},ne=a({},F,{wrapLng:[-180,180],R:6371e3,distance:function(i,l){var d=Math.PI/180,p=i.lat*d,x=l.lat*d,P=Math.sin((l.lat-i.lat)*d/2),T=Math.sin((l.lng-i.lng)*d/2),I=P*P+Math.cos(p)*Math.cos(x)*T*T,z=2*Math.atan2(Math.sqrt(I),Math.sqrt(1-I));return this.R*z}}),ge=6378137,xe={R:ge,MAX_LATITUDE:85.0511287798,project:function(i){var l=Math.PI/180,d=this.MAX_LATITUDE,p=Math.max(Math.min(d,i.lat),-d),x=Math.sin(p*l);return new A(this.R*i.lng*l,this.R*Math.log((1+x)/(1-x))/2)},unproject:function(i){var l=180/Math.PI;return new ee((2*Math.atan(Math.exp(i.y/this.R))-Math.PI/2)*l,i.x*l/this.R)},bounds:function(){var i=ge*Math.PI;return new X([-i,-i],[i,i])}()};function Pe(i,l,d,p){if(C(i)){this._a=i[0],this._b=i[1],this._c=i[2],this._d=i[3];return}this._a=i,this._b=l,this._c=d,this._d=p}Pe.prototype={transform:function(i,l){return this._transform(i.clone(),l)},_transform:function(i,l){return l=l||1,i.x=l*(this._a*i.x+this._b),i.y=l*(this._c*i.y+this._d),i},untransform:function(i,l){return l=l||1,new A((i.x/l-this._b)/this._a,(i.y/l-this._d)/this._c)}};function ke(i,l,d,p){return new Pe(i,l,d,p)}var lt=a({},ne,{code:"EPSG:3857",projection:xe,transformation:function(){var i=.5/(Math.PI*xe.R);return ke(i,.5,-i,.5)}()}),Qt=a({},lt,{code:"EPSG:900913"});function mi(i){return document.createElementNS("http://www.w3.org/2000/svg",i)}function gi(i,l){var d="",p,x,P,T,I,z;for(p=0,P=i.length;p<P;p++){for(I=i[p],x=0,T=I.length;x<T;x++)z=I[x],d+=(x?"L":"M")+z.x+" "+z.y;d+=l?oe.svg?"z":"x":""}return d||"M0 0"}var Zn=document.documentElement.style,Vr="ActiveXObject"in window,Ur=Vr&&!document.addEventListener,Cp="msLaunchUri"in navigator&&!("documentMode"in document),eu=jn("webkit"),Sp=jn("android"),jp=jn("android 2")||jn("android 3"),bb=parseInt(/WebKit\/([0-9]+)|$/.exec(navigator.userAgent)[1],10),Nb=Sp&&jn("Google")&&bb<537&&!("AudioNode"in window),tu=!!window.opera,Pp=!Cp&&jn("chrome"),kp=jn("gecko")&&!eu&&!tu&&!Vr,Cb=!Pp&&jn("safari"),Lp=jn("phantom"),Ep="OTransition"in Zn,Sb=navigator.platform.indexOf("Win")===0,Tp=Vr&&"transition"in Zn,nu="WebKitCSSMatrix"in window&&"m11"in new window.WebKitCSSMatrix&&!jp,Mp="MozPerspective"in Zn,jb=!window.L_DISABLE_3D&&(Tp||nu||Mp)&&!Ep&&!Lp,so=typeof orientation<"u"||jn("mobile"),Pb=so&&eu,kb=so&&nu,Rp=!window.PointerEvent&&window.MSPointerEvent,Op=!!(window.PointerEvent||Rp),Ap="ontouchstart"in window||!!window.TouchEvent,Lb=!window.L_NO_TOUCH&&(Ap||Op),Eb=so&&tu,Tb=so&&kp,Mb=(window.devicePixelRatio||window.screen.deviceXDPI/window.screen.logicalXDPI)>1,Rb=function(){var i=!1;try{var l=Object.defineProperty({},"passive",{get:function(){i=!0}});window.addEventListener("testPassiveEventSupport",m,l),window.removeEventListener("testPassiveEventSupport",m,l)}catch{}return i}(),Ob=function(){return!!document.createElement("canvas").getContext}(),iu=!!(document.createElementNS&&mi("svg").createSVGRect),Ab=!!iu&&function(){var i=document.createElement("div");return i.innerHTML="<svg/>",(i.firstChild&&i.firstChild.namespaceURI)==="http://www.w3.org/2000/svg"}(),Ib=!iu&&function(){try{var i=document.createElement("div");i.innerHTML='<v:shape adj="1"/>';var l=i.firstChild;return l.style.behavior="url(#default#VML)",l&&typeof l.adj=="object"}catch{return!1}}(),Db=navigator.platform.indexOf("Mac")===0,zb=navigator.platform.indexOf("Linux")===0;function jn(i){return navigator.userAgent.toLowerCase().indexOf(i)>=0}var oe={ie:Vr,ielt9:Ur,edge:Cp,webkit:eu,android:Sp,android23:jp,androidStock:Nb,opera:tu,chrome:Pp,gecko:kp,safari:Cb,phantom:Lp,opera12:Ep,win:Sb,ie3d:Tp,webkit3d:nu,gecko3d:Mp,any3d:jb,mobile:so,mobileWebkit:Pb,mobileWebkit3d:kb,msPointer:Rp,pointer:Op,touch:Lb,touchNative:Ap,mobileOpera:Eb,mobileGecko:Tb,retina:Mb,passiveEvents:Rb,canvas:Ob,svg:iu,vml:Ib,inlineSvg:Ab,mac:Db,linux:zb},Ip=oe.msPointer?"MSPointerDown":"pointerdown",Dp=oe.msPointer?"MSPointerMove":"pointermove",zp=oe.msPointer?"MSPointerUp":"pointerup",Fp=oe.msPointer?"MSPointerCancel":"pointercancel",ru={touchstart:Ip,touchmove:Dp,touchend:zp,touchcancel:Fp},Bp={touchstart:Hb,touchmove:ka,touchend:ka,touchcancel:ka},Hr={},$p=!1;function Fb(i,l,d){return l==="touchstart"&&Ub(),Bp[l]?(d=Bp[l].bind(this,d),i.addEventListener(ru[l],d,!1),d):(console.warn("wrong event specified:",l),m)}function Bb(i,l,d){if(!ru[l]){console.warn("wrong event specified:",l);return}i.removeEventListener(ru[l],d,!1)}function $b(i){Hr[i.pointerId]=i}function Vb(i){Hr[i.pointerId]&&(Hr[i.pointerId]=i)}function Vp(i){delete Hr[i.pointerId]}function Ub(){$p||(document.addEventListener(Ip,$b,!0),document.addEventListener(Dp,Vb,!0),document.addEventListener(zp,Vp,!0),document.addEventListener(Fp,Vp,!0),$p=!0)}function ka(i,l){if(l.pointerType!==(l.MSPOINTER_TYPE_MOUSE||"mouse")){l.touches=[];for(var d in Hr)l.touches.push(Hr[d]);l.changedTouches=[l],i(l)}}function Hb(i,l){l.MSPOINTER_TYPE_TOUCH&&l.pointerType===l.MSPOINTER_TYPE_TOUCH&&ct(l),ka(i,l)}function Zb(i){var l={},d,p;for(p in i)d=i[p],l[p]=d&&d.bind?d.bind(i):d;return i=l,l.type="dblclick",l.detail=2,l.isTrusted=!1,l._simulated=!0,l}var Wb=200;function Gb(i,l){i.addEventListener("dblclick",l);var d=0,p;function x(P){if(P.detail!==1){p=P.detail;return}if(!(P.pointerType==="mouse"||P.sourceCapabilities&&!P.sourceCapabilities.firesTouchEvents)){var T=Gp(P);if(!(T.some(function(z){return z instanceof HTMLLabelElement&&z.attributes.for})&&!T.some(function(z){return z instanceof HTMLInputElement||z instanceof HTMLSelectElement}))){var I=Date.now();I-d<=Wb?(p++,p===2&&l(Zb(P))):p=1,d=I}}}return i.addEventListener("click",x),{dblclick:l,simDblclick:x}}function Kb(i,l){i.removeEventListener("dblclick",l.dblclick),i.removeEventListener("click",l.simDblclick)}var su=Ta(["transform","webkitTransform","OTransform","MozTransform","msTransform"]),oo=Ta(["webkitTransition","transition","OTransition","MozTransition","msTransition"]),Up=oo==="webkitTransition"||oo==="OTransition"?oo+"End":"transitionend";function Hp(i){return typeof i=="string"?document.getElementById(i):i}function ao(i,l){var d=i.style[l]||i.currentStyle&&i.currentStyle[l];if((!d||d==="auto")&&document.defaultView){var p=document.defaultView.getComputedStyle(i,null);d=p?p[l]:null}return d==="auto"?null:d}function Re(i,l,d){var p=document.createElement(i);return p.className=l||"",d&&d.appendChild(p),p}function Ze(i){var l=i.parentNode;l&&l.removeChild(i)}function La(i){for(;i.firstChild;)i.removeChild(i.firstChild)}function Zr(i){var l=i.parentNode;l&&l.lastChild!==i&&l.appendChild(i)}function Wr(i){var l=i.parentNode;l&&l.firstChild!==i&&l.insertBefore(i,l.firstChild)}function ou(i,l){if(i.classList!==void 0)return i.classList.contains(l);var d=Ea(i);return d.length>0&&new RegExp("(^|\\s)"+l+"(\\s|$)").test(d)}function we(i,l){if(i.classList!==void 0)for(var d=j(l),p=0,x=d.length;p<x;p++)i.classList.add(d[p]);else if(!ou(i,l)){var P=Ea(i);au(i,(P?P+" ":"")+l)}}function Ye(i,l){i.classList!==void 0?i.classList.remove(l):au(i,b((" "+Ea(i)+" ").replace(" "+l+" "," ")))}function au(i,l){i.className.baseVal===void 0?i.className=l:i.className.baseVal=l}function Ea(i){return i.correspondingElement&&(i=i.correspondingElement),i.className.baseVal===void 0?i.className:i.className.baseVal}function Yt(i,l){"opacity"in i.style?i.style.opacity=l:"filter"in i.style&&qb(i,l)}function qb(i,l){var d=!1,p="DXImageTransform.Microsoft.Alpha";try{d=i.filters.item(p)}catch{if(l===1)return}l=Math.round(l*100),d?(d.Enabled=l!==100,d.Opacity=l):i.style.filter+=" progid:"+p+"(opacity="+l+")"}function Ta(i){for(var l=document.documentElement.style,d=0;d<i.length;d++)if(i[d]in l)return i[d];return!1}function lr(i,l,d){var p=l||new A(0,0);i.style[su]=(oe.ie3d?"translate("+p.x+"px,"+p.y+"px)":"translate3d("+p.x+"px,"+p.y+"px,0)")+(d?" scale("+d+")":"")}function Je(i,l){i._leaflet_pos=l,oe.any3d?lr(i,l):(i.style.left=l.x+"px",i.style.top=l.y+"px")}function cr(i){return i._leaflet_pos||new A(0,0)}var lo,co,lu;if("onselectstart"in document)lo=function(){ve(window,"selectstart",ct)},co=function(){ze(window,"selectstart",ct)};else{var uo=Ta(["userSelect","WebkitUserSelect","OUserSelect","MozUserSelect","msUserSelect"]);lo=function(){if(uo){var i=document.documentElement.style;lu=i[uo],i[uo]="none"}},co=function(){uo&&(document.documentElement.style[uo]=lu,lu=void 0)}}function cu(){ve(window,"dragstart",ct)}function uu(){ze(window,"dragstart",ct)}var Ma,du;function hu(i){for(;i.tabIndex===-1;)i=i.parentNode;i.style&&(Ra(),Ma=i,du=i.style.outlineStyle,i.style.outlineStyle="none",ve(window,"keydown",Ra))}function Ra(){Ma&&(Ma.style.outlineStyle=du,Ma=void 0,du=void 0,ze(window,"keydown",Ra))}function Zp(i){do i=i.parentNode;while((!i.offsetWidth||!i.offsetHeight)&&i!==document.body);return i}function fu(i){var l=i.getBoundingClientRect();return{x:l.width/i.offsetWidth||1,y:l.height/i.offsetHeight||1,boundingClientRect:l}}var Qb={__proto__:null,TRANSFORM:su,TRANSITION:oo,TRANSITION_END:Up,get:Hp,getStyle:ao,create:Re,remove:Ze,empty:La,toFront:Zr,toBack:Wr,hasClass:ou,addClass:we,removeClass:Ye,setClass:au,getClass:Ea,setOpacity:Yt,testProp:Ta,setTransform:lr,setPosition:Je,getPosition:cr,get disableTextSelection(){return lo},get enableTextSelection(){return co},disableImageDrag:cu,enableImageDrag:uu,preventOutline:hu,restoreOutline:Ra,getSizedParentNode:Zp,getScale:fu};function ve(i,l,d,p){if(l&&typeof l=="object")for(var x in l)mu(i,x,l[x],d);else{l=j(l);for(var P=0,T=l.length;P<T;P++)mu(i,l[P],d,p)}return this}var Pn="_leaflet_events";function ze(i,l,d,p){if(arguments.length===1)Wp(i),delete i[Pn];else if(l&&typeof l=="object")for(var x in l)gu(i,x,l[x],d);else if(l=j(l),arguments.length===2)Wp(i,function(I){return k(l,I)!==-1});else for(var P=0,T=l.length;P<T;P++)gu(i,l[P],d,p);return this}function Wp(i,l){for(var d in i[Pn]){var p=d.split(/\d/)[0];(!l||l(p))&&gu(i,p,null,null,d)}}var pu={mouseenter:"mouseover",mouseleave:"mouseout",wheel:!("onwheel"in window)&&"mousewheel"};function mu(i,l,d,p){var x=l+h(d)+(p?"_"+h(p):"");if(i[Pn]&&i[Pn][x])return this;var P=function(I){return d.call(p||i,I||window.event)},T=P;!oe.touchNative&&oe.pointer&&l.indexOf("touch")===0?P=Fb(i,l,P):oe.touch&&l==="dblclick"?P=Gb(i,P):"addEventListener"in i?l==="touchstart"||l==="touchmove"||l==="wheel"||l==="mousewheel"?i.addEventListener(pu[l]||l,P,oe.passiveEvents?{passive:!1}:!1):l==="mouseenter"||l==="mouseleave"?(P=function(I){I=I||window.event,xu(i,I)&&T(I)},i.addEventListener(pu[l],P,!1)):i.addEventListener(l,T,!1):i.attachEvent("on"+l,P),i[Pn]=i[Pn]||{},i[Pn][x]=P}function gu(i,l,d,p,x){x=x||l+h(d)+(p?"_"+h(p):"");var P=i[Pn]&&i[Pn][x];if(!P)return this;!oe.touchNative&&oe.pointer&&l.indexOf("touch")===0?Bb(i,l,P):oe.touch&&l==="dblclick"?Kb(i,P):"removeEventListener"in i?i.removeEventListener(pu[l]||l,P,!1):i.detachEvent("on"+l,P),i[Pn][x]=null}function ur(i){return i.stopPropagation?i.stopPropagation():i.originalEvent?i.originalEvent._stopped=!0:i.cancelBubble=!0,this}function vu(i){return mu(i,"wheel",ur),this}function ho(i){return ve(i,"mousedown touchstart dblclick contextmenu",ur),i._leaflet_disable_click=!0,this}function ct(i){return i.preventDefault?i.preventDefault():i.returnValue=!1,this}function dr(i){return ct(i),ur(i),this}function Gp(i){if(i.composedPath)return i.composedPath();for(var l=[],d=i.target;d;)l.push(d),d=d.parentNode;return l}function Kp(i,l){if(!l)return new A(i.clientX,i.clientY);var d=fu(l),p=d.boundingClientRect;return new A((i.clientX-p.left)/d.x-l.clientLeft,(i.clientY-p.top)/d.y-l.clientTop)}var Yb=oe.linux&&oe.chrome?window.devicePixelRatio:oe.mac?window.devicePixelRatio*3:window.devicePixelRatio>0?2*window.devicePixelRatio:1;function qp(i){return oe.edge?i.wheelDeltaY/2:i.deltaY&&i.deltaMode===0?-i.deltaY/Yb:i.deltaY&&i.deltaMode===1?-i.deltaY*20:i.deltaY&&i.deltaMode===2?-i.deltaY*60:i.deltaX||i.deltaZ?0:i.wheelDelta?(i.wheelDeltaY||i.wheelDelta)/2:i.detail&&Math.abs(i.detail)<32765?-i.detail*20:i.detail?i.detail/-32765*60:0}function xu(i,l){var d=l.relatedTarget;if(!d)return!0;try{for(;d&&d!==i;)d=d.parentNode}catch{return!1}return d!==i}var Xb={__proto__:null,on:ve,off:ze,stopPropagation:ur,disableScrollPropagation:vu,disableClickPropagation:ho,preventDefault:ct,stop:dr,getPropagationPath:Gp,getMousePosition:Kp,getWheelDelta:qp,isExternalTarget:xu,addListener:ve,removeListener:ze},Qp=se.extend({run:function(i,l,d,p){this.stop(),this._el=i,this._inProgress=!0,this._duration=d||.25,this._easeOutPower=1/Math.max(p||.5,.2),this._startPos=cr(i),this._offset=l.subtract(this._startPos),this._startTime=+new Date,this.fire("start"),this._animate()},stop:function(){this._inProgress&&(this._step(!0),this._complete())},_animate:function(){this._animId=Q(this._animate,this),this._step()},_step:function(i){var l=+new Date-this._startTime,d=this._duration*1e3;l<d?this._runFrame(this._easeOut(l/d),i):(this._runFrame(1),this._complete())},_runFrame:function(i,l){var d=this._startPos.add(this._offset.multiplyBy(i));l&&d._round(),Je(this._el,d),this.fire("step")},_complete:function(){W(this._animId),this._inProgress=!1,this.fire("end")},_easeOut:function(i){return 1-Math.pow(1-i,this._easeOutPower)}}),Le=se.extend({options:{crs:lt,center:void 0,zoom:void 0,minZoom:void 0,maxZoom:void 0,layers:[],maxBounds:void 0,renderer:void 0,zoomAnimation:!0,zoomAnimationThreshold:4,fadeAnimation:!0,markerZoomAnimation:!0,transform3DLimit:8388608,zoomSnap:1,zoomDelta:1,trackResize:!0},initialize:function(i,l){l=v(this,l),this._handlers=[],this._layers={},this._zoomBoundLayers={},this._sizeChanged=!0,this._initContainer(i),this._initLayout(),this._onResize=c(this._onResize,this),this._initEvents(),l.maxBounds&&this.setMaxBounds(l.maxBounds),l.zoom!==void 0&&(this._zoom=this._limitZoom(l.zoom)),l.center&&l.zoom!==void 0&&this.setView(Y(l.center),l.zoom,{reset:!0}),this.callInitHooks(),this._zoomAnimated=oo&&oe.any3d&&!oe.mobileOpera&&this.options.zoomAnimation,this._zoomAnimated&&(this._createAnimProxy(),ve(this._proxy,Up,this._catchTransitionEnd,this)),this._addLayers(this.options.layers)},setView:function(i,l,d){if(l=l===void 0?this._zoom:this._limitZoom(l),i=this._limitCenter(Y(i),l,this.options.maxBounds),d=d||{},this._stop(),this._loaded&&!d.reset&&d!==!0){d.animate!==void 0&&(d.zoom=a({animate:d.animate},d.zoom),d.pan=a({animate:d.animate,duration:d.duration},d.pan));var p=this._zoom!==l?this._tryAnimatedZoom&&this._tryAnimatedZoom(i,l,d.zoom):this._tryAnimatedPan(i,d.pan);if(p)return clearTimeout(this._sizeTimer),this}return this._resetView(i,l,d.pan&&d.pan.noMoveStart),this},setZoom:function(i,l){return this._loaded?this.setView(this.getCenter(),i,{zoom:l}):(this._zoom=i,this)},zoomIn:function(i,l){return i=i||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom+i,l)},zoomOut:function(i,l){return i=i||(oe.any3d?this.options.zoomDelta:1),this.setZoom(this._zoom-i,l)},setZoomAround:function(i,l,d){var p=this.getZoomScale(l),x=this.getSize().divideBy(2),P=i instanceof A?i:this.latLngToContainerPoint(i),T=P.subtract(x).multiplyBy(1-1/p),I=this.containerPointToLatLng(x.add(T));return this.setView(I,l,{zoom:d})},_getBoundsCenterZoom:function(i,l){l=l||{},i=i.getBounds?i.getBounds():B(i);var d=$(l.paddingTopLeft||l.padding||[0,0]),p=$(l.paddingBottomRight||l.padding||[0,0]),x=this.getBoundsZoom(i,!1,d.add(p));if(x=typeof l.maxZoom=="number"?Math.min(l.maxZoom,x):x,x===1/0)return{center:i.getCenter(),zoom:x};var P=p.subtract(d).divideBy(2),T=this.project(i.getSouthWest(),x),I=this.project(i.getNorthEast(),x),z=this.unproject(T.add(I).divideBy(2).add(P),x);return{center:z,zoom:x}},fitBounds:function(i,l){if(i=B(i),!i.isValid())throw new Error("Bounds are not valid.");var d=this._getBoundsCenterZoom(i,l);return this.setView(d.center,d.zoom,l)},fitWorld:function(i){return this.fitBounds([[-90,-180],[90,180]],i)},panTo:function(i,l){return this.setView(i,this._zoom,{pan:l})},panBy:function(i,l){if(i=$(i).round(),l=l||{},!i.x&&!i.y)return this.fire("moveend");if(l.animate!==!0&&!this.getSize().contains(i))return this._resetView(this.unproject(this.project(this.getCenter()).add(i)),this.getZoom()),this;if(this._panAnim||(this._panAnim=new Qp,this._panAnim.on({step:this._onPanTransitionStep,end:this._onPanTransitionEnd},this)),l.noMoveStart||this.fire("movestart"),l.animate!==!1){we(this._mapPane,"leaflet-pan-anim");var d=this._getMapPanePos().subtract(i).round();this._panAnim.run(this._mapPane,d,l.duration||.25,l.easeLinearity)}else this._rawPanBy(i),this.fire("move").fire("moveend");return this},flyTo:function(i,l,d){if(d=d||{},d.animate===!1||!oe.any3d)return this.setView(i,l,d);this._stop();var p=this.project(this.getCenter()),x=this.project(i),P=this.getSize(),T=this._zoom;i=Y(i),l=l===void 0?T:l;var I=Math.max(P.x,P.y),z=I*this.getZoomScale(T,l),U=x.distanceTo(p)||1,J=1.42,pe=J*J;function Ne(et){var Za=et?-1:1,BN=et?z:I,$N=z*z-I*I+Za*pe*pe*U*U,VN=2*BN*pe*U,Lu=$N/VN,Em=Math.sqrt(Lu*Lu+1)-Lu,UN=Em<1e-9?-18:Math.log(Em);return UN}function yt(et){return(Math.exp(et)-Math.exp(-et))/2}function st(et){return(Math.exp(et)+Math.exp(-et))/2}function Jt(et){return yt(et)/st(et)}var Lt=Ne(0);function Xr(et){return I*(st(Lt)/st(Lt+J*et))}function IN(et){return I*(st(Lt)*Jt(Lt+J*et)-yt(Lt))/pe}function DN(et){return 1-Math.pow(1-et,1.5)}var zN=Date.now(),km=(Ne(1)-Lt)/J,FN=d.duration?1e3*d.duration:1e3*km*.8;function Lm(){var et=(Date.now()-zN)/FN,Za=DN(et)*km;et<=1?(this._flyToFrame=Q(Lm,this),this._move(this.unproject(p.add(x.subtract(p).multiplyBy(IN(Za)/U)),T),this.getScaleZoom(I/Xr(Za),T),{flyTo:!0})):this._move(i,l)._moveEnd(!0)}return this._moveStart(!0,d.noMoveStart),Lm.call(this),this},flyToBounds:function(i,l){var d=this._getBoundsCenterZoom(i,l);return this.flyTo(d.center,d.zoom,l)},setMaxBounds:function(i){return i=B(i),this.listens("moveend",this._panInsideMaxBounds)&&this.off("moveend",this._panInsideMaxBounds),i.isValid()?(this.options.maxBounds=i,this._loaded&&this._panInsideMaxBounds(),this.on("moveend",this._panInsideMaxBounds)):(this.options.maxBounds=null,this)},setMinZoom:function(i){var l=this.options.minZoom;return this.options.minZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()<this.options.minZoom)?this.setZoom(i):this},setMaxZoom:function(i){var l=this.options.maxZoom;return this.options.maxZoom=i,this._loaded&&l!==i&&(this.fire("zoomlevelschange"),this.getZoom()>this.options.maxZoom)?this.setZoom(i):this},panInsideBounds:function(i,l){this._enforcingBounds=!0;var d=this.getCenter(),p=this._limitCenter(d,this._zoom,B(i));return d.equals(p)||this.panTo(p,l),this._enforcingBounds=!1,this},panInside:function(i,l){l=l||{};var d=$(l.paddingTopLeft||l.padding||[0,0]),p=$(l.paddingBottomRight||l.padding||[0,0]),x=this.project(this.getCenter()),P=this.project(i),T=this.getPixelBounds(),I=ue([T.min.add(d),T.max.subtract(p)]),z=I.getSize();if(!I.contains(P)){this._enforcingBounds=!0;var U=P.subtract(I.getCenter()),J=I.extend(P).getSize().subtract(z);x.x+=U.x<0?-J.x:J.x,x.y+=U.y<0?-J.y:J.y,this.panTo(this.unproject(x),l),this._enforcingBounds=!1}return this},invalidateSize:function(i){if(!this._loaded)return this;i=a({animate:!1,pan:!0},i===!0?{animate:!0}:i);var l=this.getSize();this._sizeChanged=!0,this._lastCenter=null;var d=this.getSize(),p=l.divideBy(2).round(),x=d.divideBy(2).round(),P=p.subtract(x);return!P.x&&!P.y?this:(i.animate&&i.pan?this.panBy(P):(i.pan&&this._rawPanBy(P),this.fire("move"),i.debounceMoveend?(clearTimeout(this._sizeTimer),this._sizeTimer=setTimeout(c(this.fire,this,"moveend"),200)):this.fire("moveend")),this.fire("resize",{oldSize:l,newSize:d}))},stop:function(){return this.setZoom(this._limitZoom(this._zoom)),this.options.zoomSnap||this.fire("viewreset"),this._stop()},locate:function(i){if(i=this._locateOptions=a({timeout:1e4,watch:!1},i),!("geolocation"in navigator))return this._handleGeolocationError({code:0,message:"Geolocation not supported."}),this;var l=c(this._handleGeolocationResponse,this),d=c(this._handleGeolocationError,this);return i.watch?this._locationWatchId=navigator.geolocation.watchPosition(l,d,i):navigator.geolocation.getCurrentPosition(l,d,i),this},stopLocate:function(){return navigator.geolocation&&navigator.geolocation.clearWatch&&navigator.geolocation.clearWatch(this._locationWatchId),this._locateOptions&&(this._locateOptions.setView=!1),this},_handleGeolocationError:function(i){if(this._container._leaflet_id){var l=i.code,d=i.message||(l===1?"permission denied":l===2?"position unavailable":"timeout");this._locateOptions.setView&&!this._loaded&&this.fitWorld(),this.fire("locationerror",{code:l,message:"Geolocation error: "+d+"."})}},_handleGeolocationResponse:function(i){if(this._container._leaflet_id){var l=i.coords.latitude,d=i.coords.longitude,p=new ee(l,d),x=p.toBounds(i.coords.accuracy*2),P=this._locateOptions;if(P.setView){var T=this.getBoundsZoom(x);this.setView(p,P.maxZoom?Math.min(T,P.maxZoom):T)}var I={latlng:p,bounds:x,timestamp:i.timestamp};for(var z in i.coords)typeof i.coords[z]=="number"&&(I[z]=i.coords[z]);this.fire("locationfound",I)}},addHandler:function(i,l){if(!l)return this;var d=this[i]=new l(this);return this._handlers.push(d),this.options[i]&&d.enable(),this},remove:function(){if(this._initEvents(!0),this.options.maxBounds&&this.off("moveend",this._panInsideMaxBounds),this._containerId!==this._container._leaflet_id)throw new Error("Map container is being reused by another instance");try{delete this._container._leaflet_id,delete this._containerId}catch{this._container._leaflet_id=void 0,this._containerId=void 0}this._locationWatchId!==void 0&&this.stopLocate(),this._stop(),Ze(this._mapPane),this._clearControlPos&&this._clearControlPos(),this._resizeRequest&&(W(this._resizeRequest),this._resizeRequest=null),this._clearHandlers(),this._loaded&&this.fire("unload");var i;for(i in this._layers)this._layers[i].remove();for(i in this._panes)Ze(this._panes[i]);return this._layers=[],this._panes=[],delete this._mapPane,delete this._renderer,this},createPane:function(i,l){var d="leaflet-pane"+(i?" leaflet-"+i.replace("Pane","")+"-pane":""),p=Re("div",d,l||this._mapPane);return i&&(this._panes[i]=p),p},getCenter:function(){return this._checkIfLoaded(),this._lastCenter&&!this._moved()?this._lastCenter.clone():this.layerPointToLatLng(this._getCenterLayerPoint())},getZoom:function(){return this._zoom},getBounds:function(){var i=this.getPixelBounds(),l=this.unproject(i.getBottomLeft()),d=this.unproject(i.getTopRight());return new Ce(l,d)},getMinZoom:function(){return this.options.minZoom===void 0?this._layersMinZoom||0:this.options.minZoom},getMaxZoom:function(){return this.options.maxZoom===void 0?this._layersMaxZoom===void 0?1/0:this._layersMaxZoom:this.options.maxZoom},getBoundsZoom:function(i,l,d){i=B(i),d=$(d||[0,0]);var p=this.getZoom()||0,x=this.getMinZoom(),P=this.getMaxZoom(),T=i.getNorthWest(),I=i.getSouthEast(),z=this.getSize().subtract(d),U=ue(this.project(I,p),this.project(T,p)).getSize(),J=oe.any3d?this.options.zoomSnap:1,pe=z.x/U.x,Ne=z.y/U.y,yt=l?Math.max(pe,Ne):Math.min(pe,Ne);return p=this.getScaleZoom(yt,p),J&&(p=Math.round(p/(J/100))*(J/100),p=l?Math.ceil(p/J)*J:Math.floor(p/J)*J),Math.max(x,Math.min(P,p))},getSize:function(){return(!this._size||this._sizeChanged)&&(this._size=new A(this._container.clientWidth||0,this._container.clientHeight||0),this._sizeChanged=!1),this._size.clone()},getPixelBounds:function(i,l){var d=this._getTopLeftPoint(i,l);return new X(d,d.add(this.getSize()))},getPixelOrigin:function(){return this._checkIfLoaded(),this._pixelOrigin},getPixelWorldBounds:function(i){return this.options.crs.getProjectedBounds(i===void 0?this.getZoom():i)},getPane:function(i){return typeof i=="string"?this._panes[i]:i},getPanes:function(){return this._panes},getContainer:function(){return this._container},getZoomScale:function(i,l){var d=this.options.crs;return l=l===void 0?this._zoom:l,d.scale(i)/d.scale(l)},getScaleZoom:function(i,l){var d=this.options.crs;l=l===void 0?this._zoom:l;var p=d.zoom(i*d.scale(l));return isNaN(p)?1/0:p},project:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.latLngToPoint(Y(i),l)},unproject:function(i,l){return l=l===void 0?this._zoom:l,this.options.crs.pointToLatLng($(i),l)},layerPointToLatLng:function(i){var l=$(i).add(this.getPixelOrigin());return this.unproject(l)},latLngToLayerPoint:function(i){var l=this.project(Y(i))._round();return l._subtract(this.getPixelOrigin())},wrapLatLng:function(i){return this.options.crs.wrapLatLng(Y(i))},wrapLatLngBounds:function(i){return this.options.crs.wrapLatLngBounds(B(i))},distance:function(i,l){return this.options.crs.distance(Y(i),Y(l))},containerPointToLayerPoint:function(i){return $(i).subtract(this._getMapPanePos())},layerPointToContainerPoint:function(i){return $(i).add(this._getMapPanePos())},containerPointToLatLng:function(i){var l=this.containerPointToLayerPoint($(i));return this.layerPointToLatLng(l)},latLngToContainerPoint:function(i){return this.layerPointToContainerPoint(this.latLngToLayerPoint(Y(i)))},mouseEventToContainerPoint:function(i){return Kp(i,this._container)},mouseEventToLayerPoint:function(i){return this.containerPointToLayerPoint(this.mouseEventToContainerPoint(i))},mouseEventToLatLng:function(i){return this.layerPointToLatLng(this.mouseEventToLayerPoint(i))},_initContainer:function(i){var l=this._container=Hp(i);if(l){if(l._leaflet_id)throw new Error("Map container is already initialized.")}else throw new Error("Map container not found.");ve(l,"scroll",this._onScroll,this),this._containerId=h(l)},_initLayout:function(){var i=this._container;this._fadeAnimated=this.options.fadeAnimation&&oe.any3d,we(i,"leaflet-container"+(oe.touch?" leaflet-touch":"")+(oe.retina?" leaflet-retina":"")+(oe.ielt9?" leaflet-oldie":"")+(oe.safari?" leaflet-safari":"")+(this._fadeAnimated?" leaflet-fade-anim":""));var l=ao(i,"position");l!=="absolute"&&l!=="relative"&&l!=="fixed"&&l!=="sticky"&&(i.style.position="relative"),this._initPanes(),this._initControlPos&&this._initControlPos()},_initPanes:function(){var i=this._panes={};this._paneRenderers={},this._mapPane=this.createPane("mapPane",this._container),Je(this._mapPane,new A(0,0)),this.createPane("tilePane"),this.createPane("overlayPane"),this.createPane("shadowPane"),this.createPane("markerPane"),this.createPane("tooltipPane"),this.createPane("popupPane"),this.options.markerZoomAnimation||(we(i.markerPane,"leaflet-zoom-hide"),we(i.shadowPane,"leaflet-zoom-hide"))},_resetView:function(i,l,d){Je(this._mapPane,new A(0,0));var p=!this._loaded;this._loaded=!0,l=this._limitZoom(l),this.fire("viewprereset");var x=this._zoom!==l;this._moveStart(x,d)._move(i,l)._moveEnd(x),this.fire("viewreset"),p&&this.fire("load")},_moveStart:function(i,l){return i&&this.fire("zoomstart"),l||this.fire("movestart"),this},_move:function(i,l,d,p){l===void 0&&(l=this._zoom);var x=this._zoom!==l;return this._zoom=l,this._lastCenter=i,this._pixelOrigin=this._getNewPixelOrigin(i),p?d&&d.pinch&&this.fire("zoom",d):((x||d&&d.pinch)&&this.fire("zoom",d),this.fire("move",d)),this},_moveEnd:function(i){return i&&this.fire("zoomend"),this.fire("moveend")},_stop:function(){return W(this._flyToFrame),this._panAnim&&this._panAnim.stop(),this},_rawPanBy:function(i){Je(this._mapPane,this._getMapPanePos().subtract(i))},_getZoomSpan:function(){return this.getMaxZoom()-this.getMinZoom()},_panInsideMaxBounds:function(){this._enforcingBounds||this.panInsideBounds(this.options.maxBounds)},_checkIfLoaded:function(){if(!this._loaded)throw new Error("Set map center and zoom first.")},_initEvents:function(i){this._targets={},this._targets[h(this._container)]=this;var l=i?ze:ve;l(this._container,"click dblclick mousedown mouseup mouseover mouseout mousemove contextmenu keypress keydown keyup",this._handleDOMEvent,this),this.options.trackResize&&l(window,"resize",this._onResize,this),oe.any3d&&this.options.transform3DLimit&&(i?this.off:this.on).call(this,"moveend",this._onMoveEnd)},_onResize:function(){W(this._resizeRequest),this._resizeRequest=Q(function(){this.invalidateSize({debounceMoveend:!0})},this)},_onScroll:function(){this._container.scrollTop=0,this._container.scrollLeft=0},_onMoveEnd:function(){var i=this._getMapPanePos();Math.max(Math.abs(i.x),Math.abs(i.y))>=this.options.transform3DLimit&&this._resetView(this.getCenter(),this.getZoom())},_findEventTargets:function(i,l){for(var d=[],p,x=l==="mouseout"||l==="mouseover",P=i.target||i.srcElement,T=!1;P;){if(p=this._targets[h(P)],p&&(l==="click"||l==="preclick")&&this._draggableMoved(p)){T=!0;break}if(p&&p.listens(l,!0)&&(x&&!xu(P,i)||(d.push(p),x))||P===this._container)break;P=P.parentNode}return!d.length&&!T&&!x&&this.listens(l,!0)&&(d=[this]),d},_isClickDisabled:function(i){for(;i&&i!==this._container;){if(i._leaflet_disable_click)return!0;i=i.parentNode}},_handleDOMEvent:function(i){var l=i.target||i.srcElement;if(!(!this._loaded||l._leaflet_disable_events||i.type==="click"&&this._isClickDisabled(l))){var d=i.type;d==="mousedown"&&hu(l),this._fireDOMEvent(i,d)}},_mouseEvents:["click","dblclick","mouseover","mouseout","contextmenu"],_fireDOMEvent:function(i,l,d){if(i.type==="click"){var p=a({},i);p.type="preclick",this._fireDOMEvent(p,p.type,d)}var x=this._findEventTargets(i,l);if(d){for(var P=[],T=0;T<d.length;T++)d[T].listens(l,!0)&&P.push(d[T]);x=P.concat(x)}if(x.length){l==="contextmenu"&&ct(i);var I=x[0],z={originalEvent:i};if(i.type!=="keypress"&&i.type!=="keydown"&&i.type!=="keyup"){var U=I.getLatLng&&(!I._radius||I._radius<=10);z.containerPoint=U?this.latLngToContainerPoint(I.getLatLng()):this.mouseEventToContainerPoint(i),z.layerPoint=this.containerPointToLayerPoint(z.containerPoint),z.latlng=U?I.getLatLng():this.layerPointToLatLng(z.layerPoint)}for(T=0;T<x.length;T++)if(x[T].fire(l,z,!0),z.originalEvent._stopped||x[T].options.bubblingMouseEvents===!1&&k(this._mouseEvents,l)!==-1)return}},_draggableMoved:function(i){return i=i.dragging&&i.dragging.enabled()?i:this,i.dragging&&i.dragging.moved()||this.boxZoom&&this.boxZoom.moved()},_clearHandlers:function(){for(var i=0,l=this._handlers.length;i<l;i++)this._handlers[i].disable()},whenReady:function(i,l){return this._loaded?i.call(l||this,{target:this}):this.on("load",i,l),this},_getMapPanePos:function(){return cr(this._mapPane)||new A(0,0)},_moved:function(){var i=this._getMapPanePos();return i&&!i.equals([0,0])},_getTopLeftPoint:function(i,l){var d=i&&l!==void 0?this._getNewPixelOrigin(i,l):this.getPixelOrigin();return d.subtract(this._getMapPanePos())},_getNewPixelOrigin:function(i,l){var d=this.getSize()._divideBy(2);return this.project(i,l)._subtract(d)._add(this._getMapPanePos())._round()},_latLngToNewLayerPoint:function(i,l,d){var p=this._getNewPixelOrigin(d,l);return this.project(i,l)._subtract(p)},_latLngBoundsToNewLayerBounds:function(i,l,d){var p=this._getNewPixelOrigin(d,l);return ue([this.project(i.getSouthWest(),l)._subtract(p),this.project(i.getNorthWest(),l)._subtract(p),this.project(i.getSouthEast(),l)._subtract(p),this.project(i.getNorthEast(),l)._subtract(p)])},_getCenterLayerPoint:function(){return this.containerPointToLayerPoint(this.getSize()._divideBy(2))},_getCenterOffset:function(i){return this.latLngToLayerPoint(i).subtract(this._getCenterLayerPoint())},_limitCenter:function(i,l,d){if(!d)return i;var p=this.project(i,l),x=this.getSize().divideBy(2),P=new X(p.subtract(x),p.add(x)),T=this._getBoundsOffset(P,d,l);return Math.abs(T.x)<=1&&Math.abs(T.y)<=1?i:this.unproject(p.add(T),l)},_limitOffset:function(i,l){if(!l)return i;var d=this.getPixelBounds(),p=new X(d.min.add(i),d.max.add(i));return i.add(this._getBoundsOffset(p,l))},_getBoundsOffset:function(i,l,d){var p=ue(this.project(l.getNorthEast(),d),this.project(l.getSouthWest(),d)),x=p.min.subtract(i.min),P=p.max.subtract(i.max),T=this._rebound(x.x,-P.x),I=this._rebound(x.y,-P.y);return new A(T,I)},_rebound:function(i,l){return i+l>0?Math.round(i-l)/2:Math.max(0,Math.ceil(i))-Math.max(0,Math.floor(l))},_limitZoom:function(i){var l=this.getMinZoom(),d=this.getMaxZoom(),p=oe.any3d?this.options.zoomSnap:1;return p&&(i=Math.round(i/p)*p),Math.max(l,Math.min(d,i))},_onPanTransitionStep:function(){this.fire("move")},_onPanTransitionEnd:function(){Ye(this._mapPane,"leaflet-pan-anim"),this.fire("moveend")},_tryAnimatedPan:function(i,l){var d=this._getCenterOffset(i)._trunc();return(l&&l.animate)!==!0&&!this.getSize().contains(d)?!1:(this.panBy(d,l),!0)},_createAnimProxy:function(){var i=this._proxy=Re("div","leaflet-proxy leaflet-zoom-animated");this._panes.mapPane.appendChild(i),this.on("zoomanim",function(l){var d=su,p=this._proxy.style[d];lr(this._proxy,this.project(l.center,l.zoom),this.getZoomScale(l.zoom,1)),p===this._proxy.style[d]&&this._animatingZoom&&this._onZoomTransitionEnd()},this),this.on("load moveend",this._animMoveEnd,this),this._on("unload",this._destroyAnimProxy,this)},_destroyAnimProxy:function(){Ze(this._proxy),this.off("load moveend",this._animMoveEnd,this),delete this._proxy},_animMoveEnd:function(){var i=this.getCenter(),l=this.getZoom();lr(this._proxy,this.project(i,l),this.getZoomScale(l,1))},_catchTransitionEnd:function(i){this._animatingZoom&&i.propertyName.indexOf("transform")>=0&&this._onZoomTransitionEnd()},_nothingToAnimate:function(){return!this._container.getElementsByClassName("leaflet-zoom-animated").length},_tryAnimatedZoom:function(i,l,d){if(this._animatingZoom)return!0;if(d=d||{},!this._zoomAnimated||d.animate===!1||this._nothingToAnimate()||Math.abs(l-this._zoom)>this.options.zoomAnimationThreshold)return!1;var p=this.getZoomScale(l),x=this._getCenterOffset(i)._divideBy(1-1/p);return d.animate!==!0&&!this.getSize().contains(x)?!1:(Q(function(){this._moveStart(!0,d.noMoveStart||!1)._animateZoom(i,l,!0)},this),!0)},_animateZoom:function(i,l,d,p){this._mapPane&&(d&&(this._animatingZoom=!0,this._animateToCenter=i,this._animateToZoom=l,we(this._mapPane,"leaflet-zoom-anim")),this.fire("zoomanim",{center:i,zoom:l,noUpdate:p}),this._tempFireZoomEvent||(this._tempFireZoomEvent=this._zoom!==this._animateToZoom),this._move(this._animateToCenter,this._animateToZoom,void 0,!0),setTimeout(c(this._onZoomTransitionEnd,this),250))},_onZoomTransitionEnd:function(){this._animatingZoom&&(this._mapPane&&Ye(this._mapPane,"leaflet-zoom-anim"),this._animatingZoom=!1,this._move(this._animateToCenter,this._animateToZoom,void 0,!0),this._tempFireZoomEvent&&this.fire("zoom"),delete this._tempFireZoomEvent,this.fire("move"),this._moveEnd(!0))}});function Jb(i,l){return new Le(i,l)}var un=Z.extend({options:{position:"topright"},initialize:function(i){v(this,i)},getPosition:function(){return this.options.position},setPosition:function(i){var l=this._map;return l&&l.removeControl(this),this.options.position=i,l&&l.addControl(this),this},getContainer:function(){return this._container},addTo:function(i){this.remove(),this._map=i;var l=this._container=this.onAdd(i),d=this.getPosition(),p=i._controlCorners[d];return we(l,"leaflet-control"),d.indexOf("bottom")!==-1?p.insertBefore(l,p.firstChild):p.appendChild(l),this._map.on("unload",this.remove,this),this},remove:function(){return this._map?(Ze(this._container),this.onRemove&&this.onRemove(this._map),this._map.off("unload",this.remove,this),this._map=null,this):this},_refocusOnMap:function(i){this._map&&i&&i.screenX>0&&i.screenY>0&&this._map.getContainer().focus()}}),fo=function(i){return new un(i)};Le.include({addControl:function(i){return i.addTo(this),this},removeControl:function(i){return i.remove(),this},_initControlPos:function(){var i=this._controlCorners={},l="leaflet-",d=this._controlContainer=Re("div",l+"control-container",this._container);function p(x,P){var T=l+x+" "+l+P;i[x+P]=Re("div",T,d)}p("top","left"),p("top","right"),p("bottom","left"),p("bottom","right")},_clearControlPos:function(){for(var i in this._controlCorners)Ze(this._controlCorners[i]);Ze(this._controlContainer),delete this._controlCorners,delete this._controlContainer}});var Yp=un.extend({options:{collapsed:!0,position:"topright",autoZIndex:!0,hideSingleBase:!1,sortLayers:!1,sortFunction:function(i,l,d,p){return d<p?-1:p<d?1:0}},initialize:function(i,l,d){v(this,d),this._layerControlInputs=[],this._layers=[],this._lastZIndex=0,this._handlingClick=!1,this._preventClick=!1;for(var p in i)this._addLayer(i[p],p);for(p in l)this._addLayer(l[p],p,!0)},onAdd:function(i){this._initLayout(),this._update(),this._map=i,i.on("zoomend",this._checkDisabledLayers,this);for(var l=0;l<this._layers.length;l++)this._layers[l].layer.on("add remove",this._onLayerChange,this);return this._container},addTo:function(i){return un.prototype.addTo.call(this,i),this._expandIfNotCollapsed()},onRemove:function(){this._map.off("zoomend",this._checkDisabledLayers,this);for(var i=0;i<this._layers.length;i++)this._layers[i].layer.off("add remove",this._onLayerChange,this)},addBaseLayer:function(i,l){return this._addLayer(i,l),this._map?this._update():this},addOverlay:function(i,l){return this._addLayer(i,l,!0),this._map?this._update():this},removeLayer:function(i){i.off("add remove",this._onLayerChange,this);var l=this._getLayer(h(i));return l&&this._layers.splice(this._layers.indexOf(l),1),this._map?this._update():this},expand:function(){we(this._container,"leaflet-control-layers-expanded"),this._section.style.height=null;var i=this._map.getSize().y-(this._container.offsetTop+50);return i<this._section.clientHeight?(we(this._section,"leaflet-control-layers-scrollbar"),this._section.style.height=i+"px"):Ye(this._section,"leaflet-control-layers-scrollbar"),this._checkDisabledLayers(),this},collapse:function(){return Ye(this._container,"leaflet-control-layers-expanded"),this},_initLayout:function(){var i="leaflet-control-layers",l=this._container=Re("div",i),d=this.options.collapsed;l.setAttribute("aria-haspopup",!0),ho(l),vu(l);var p=this._section=Re("section",i+"-list");d&&(this._map.on("click",this.collapse,this),ve(l,{mouseenter:this._expandSafely,mouseleave:this.collapse},this));var x=this._layersLink=Re("a",i+"-toggle",l);x.href="#",x.title="Layers",x.setAttribute("role","button"),ve(x,{keydown:function(P){P.keyCode===13&&this._expandSafely()},click:function(P){ct(P),this._expandSafely()}},this),d||this.expand(),this._baseLayersList=Re("div",i+"-base",p),this._separator=Re("div",i+"-separator",p),this._overlaysList=Re("div",i+"-overlays",p),l.appendChild(p)},_getLayer:function(i){for(var l=0;l<this._layers.length;l++)if(this._layers[l]&&h(this._layers[l].layer)===i)return this._layers[l]},_addLayer:function(i,l,d){this._map&&i.on("add remove",this._onLayerChange,this),this._layers.push({layer:i,name:l,overlay:d}),this.options.sortLayers&&this._layers.sort(c(function(p,x){return this.options.sortFunction(p.layer,x.layer,p.name,x.name)},this)),this.options.autoZIndex&&i.setZIndex&&(this._lastZIndex++,i.setZIndex(this._lastZIndex)),this._expandIfNotCollapsed()},_update:function(){if(!this._container)return this;La(this._baseLayersList),La(this._overlaysList),this._layerControlInputs=[];var i,l,d,p,x=0;for(d=0;d<this._layers.length;d++)p=this._layers[d],this._addItem(p),l=l||p.overlay,i=i||!p.overlay,x+=p.overlay?0:1;return this.options.hideSingleBase&&(i=i&&x>1,this._baseLayersList.style.display=i?"":"none"),this._separator.style.display=l&&i?"":"none",this},_onLayerChange:function(i){this._handlingClick||this._update();var l=this._getLayer(h(i.target)),d=l.overlay?i.type==="add"?"overlayadd":"overlayremove":i.type==="add"?"baselayerchange":null;d&&this._map.fire(d,l)},_createRadioElement:function(i,l){var d='<input type="radio" class="leaflet-control-layers-selector" name="'+i+'"'+(l?' checked="checked"':"")+"/>",p=document.createElement("div");return p.innerHTML=d,p.firstChild},_addItem:function(i){var l=document.createElement("label"),d=this._map.hasLayer(i.layer),p;i.overlay?(p=document.createElement("input"),p.type="checkbox",p.className="leaflet-control-layers-selector",p.defaultChecked=d):p=this._createRadioElement("leaflet-base-layers_"+h(this),d),this._layerControlInputs.push(p),p.layerId=h(i.layer),ve(p,"click",this._onInputClick,this);var x=document.createElement("span");x.innerHTML=" "+i.name;var P=document.createElement("span");l.appendChild(P),P.appendChild(p),P.appendChild(x);var T=i.overlay?this._overlaysList:this._baseLayersList;return T.appendChild(l),this._checkDisabledLayers(),l},_onInputClick:function(){if(!this._preventClick){var i=this._layerControlInputs,l,d,p=[],x=[];this._handlingClick=!0;for(var P=i.length-1;P>=0;P--)l=i[P],d=this._getLayer(l.layerId).layer,l.checked?p.push(d):l.checked||x.push(d);for(P=0;P<x.length;P++)this._map.hasLayer(x[P])&&this._map.removeLayer(x[P]);for(P=0;P<p.length;P++)this._map.hasLayer(p[P])||this._map.addLayer(p[P]);this._handlingClick=!1,this._refocusOnMap()}},_checkDisabledLayers:function(){for(var i=this._layerControlInputs,l,d,p=this._map.getZoom(),x=i.length-1;x>=0;x--)l=i[x],d=this._getLayer(l.layerId).layer,l.disabled=d.options.minZoom!==void 0&&p<d.options.minZoom||d.options.maxZoom!==void 0&&p>d.options.maxZoom},_expandIfNotCollapsed:function(){return this._map&&!this.options.collapsed&&this.expand(),this},_expandSafely:function(){var i=this._section;this._preventClick=!0,ve(i,"click",ct),this.expand();var l=this;setTimeout(function(){ze(i,"click",ct),l._preventClick=!1})}}),eN=function(i,l,d){return new Yp(i,l,d)},yu=un.extend({options:{position:"topleft",zoomInText:'<span aria-hidden="true">+</span>',zoomInTitle:"Zoom in",zoomOutText:'<span aria-hidden="true">&#x2212;</span>',zoomOutTitle:"Zoom out"},onAdd:function(i){var l="leaflet-control-zoom",d=Re("div",l+" leaflet-bar"),p=this.options;return this._zoomInButton=this._createButton(p.zoomInText,p.zoomInTitle,l+"-in",d,this._zoomIn),this._zoomOutButton=this._createButton(p.zoomOutText,p.zoomOutTitle,l+"-out",d,this._zoomOut),this._updateDisabled(),i.on("zoomend zoomlevelschange",this._updateDisabled,this),d},onRemove:function(i){i.off("zoomend zoomlevelschange",this._updateDisabled,this)},disable:function(){return this._disabled=!0,this._updateDisabled(),this},enable:function(){return this._disabled=!1,this._updateDisabled(),this},_zoomIn:function(i){!this._disabled&&this._map._zoom<this._map.getMaxZoom()&&this._map.zoomIn(this._map.options.zoomDelta*(i.shiftKey?3:1))},_zoomOut:function(i){!this._disabled&&this._map._zoom>this._map.getMinZoom()&&this._map.zoomOut(this._map.options.zoomDelta*(i.shiftKey?3:1))},_createButton:function(i,l,d,p,x){var P=Re("a",d,p);return P.innerHTML=i,P.href="#",P.title=l,P.setAttribute("role","button"),P.setAttribute("aria-label",l),ho(P),ve(P,"click",dr),ve(P,"click",x,this),ve(P,"click",this._refocusOnMap,this),P},_updateDisabled:function(){var i=this._map,l="leaflet-disabled";Ye(this._zoomInButton,l),Ye(this._zoomOutButton,l),this._zoomInButton.setAttribute("aria-disabled","false"),this._zoomOutButton.setAttribute("aria-disabled","false"),(this._disabled||i._zoom===i.getMinZoom())&&(we(this._zoomOutButton,l),this._zoomOutButton.setAttribute("aria-disabled","true")),(this._disabled||i._zoom===i.getMaxZoom())&&(we(this._zoomInButton,l),this._zoomInButton.setAttribute("aria-disabled","true"))}});Le.mergeOptions({zoomControl:!0}),Le.addInitHook(function(){this.options.zoomControl&&(this.zoomControl=new yu,this.addControl(this.zoomControl))});var tN=function(i){return new yu(i)},Xp=un.extend({options:{position:"bottomleft",maxWidth:100,metric:!0,imperial:!0},onAdd:function(i){var l="leaflet-control-scale",d=Re("div",l),p=this.options;return this._addScales(p,l+"-line",d),i.on(p.updateWhenIdle?"moveend":"move",this._update,this),i.whenReady(this._update,this),d},onRemove:function(i){i.off(this.options.updateWhenIdle?"moveend":"move",this._update,this)},_addScales:function(i,l,d){i.metric&&(this._mScale=Re("div",l,d)),i.imperial&&(this._iScale=Re("div",l,d))},_update:function(){var i=this._map,l=i.getSize().y/2,d=i.distance(i.containerPointToLatLng([0,l]),i.containerPointToLatLng([this.options.maxWidth,l]));this._updateScales(d)},_updateScales:function(i){this.options.metric&&i&&this._updateMetric(i),this.options.imperial&&i&&this._updateImperial(i)},_updateMetric:function(i){var l=this._getRoundNum(i),d=l<1e3?l+" m":l/1e3+" km";this._updateScale(this._mScale,d,l/i)},_updateImperial:function(i){var l=i*3.2808399,d,p,x;l>5280?(d=l/5280,p=this._getRoundNum(d),this._updateScale(this._iScale,p+" mi",p/d)):(x=this._getRoundNum(l),this._updateScale(this._iScale,x+" ft",x/l))},_updateScale:function(i,l,d){i.style.width=Math.round(this.options.maxWidth*d)+"px",i.innerHTML=l},_getRoundNum:function(i){var l=Math.pow(10,(Math.floor(i)+"").length-1),d=i/l;return d=d>=10?10:d>=5?5:d>=3?3:d>=2?2:1,l*d}}),nN=function(i){return new Xp(i)},iN='<svg aria-hidden="true" xmlns="http://www.w3.org/2000/svg" width="12" height="8" viewBox="0 0 12 8" class="leaflet-attribution-flag"><path fill="#4C7BE1" d="M0 0h12v4H0z"/><path fill="#FFD500" d="M0 4h12v3H0z"/><path fill="#E0BC00" d="M0 7h12v1H0z"/></svg>',_u=un.extend({options:{position:"bottomright",prefix:'<a href="https://leafletjs.com" title="A JavaScript library for interactive maps">'+(oe.inlineSvg?iN+" ":"")+"Leaflet</a>"},initialize:function(i){v(this,i),this._attributions={}},onAdd:function(i){i.attributionControl=this,this._container=Re("div","leaflet-control-attribution"),ho(this._container);for(var l in i._layers)i._layers[l].getAttribution&&this.addAttribution(i._layers[l].getAttribution());return this._update(),i.on("layeradd",this._addAttribution,this),this._container},onRemove:function(i){i.off("layeradd",this._addAttribution,this)},_addAttribution:function(i){i.layer.getAttribution&&(this.addAttribution(i.layer.getAttribution()),i.layer.once("remove",function(){this.removeAttribution(i.layer.getAttribution())},this))},setPrefix:function(i){return this.options.prefix=i,this._update(),this},addAttribution:function(i){return i?(this._attributions[i]||(this._attributions[i]=0),this._attributions[i]++,this._update(),this):this},removeAttribution:function(i){return i?(this._attributions[i]&&(this._attributions[i]--,this._update()),this):this},_update:function(){if(this._map){var i=[];for(var l in this._attributions)this._attributions[l]&&i.push(l);var d=[];this.options.prefix&&d.push(this.options.prefix),i.length&&d.push(i.join(", ")),this._container.innerHTML=d.join(' <span aria-hidden="true">|</span> ')}}});Le.mergeOptions({attributionControl:!0}),Le.addInitHook(function(){this.options.attributionControl&&new _u().addTo(this)});var rN=function(i){return new _u(i)};un.Layers=Yp,un.Zoom=yu,un.Scale=Xp,un.Attribution=_u,fo.layers=eN,fo.zoom=tN,fo.scale=nN,fo.attribution=rN;var kn=Z.extend({initialize:function(i){this._map=i},enable:function(){return this._enabled?this:(this._enabled=!0,this.addHooks(),this)},disable:function(){return this._enabled?(this._enabled=!1,this.removeHooks(),this):this},enabled:function(){return!!this._enabled}});kn.addTo=function(i,l){return i.addHandler(l,this),this};var sN={Events:G},Jp=oe.touch?"touchstart mousedown":"mousedown",vi=se.extend({options:{clickTolerance:3},initialize:function(i,l,d,p){v(this,p),this._element=i,this._dragStartTarget=l||i,this._preventOutline=d},enable:function(){this._enabled||(ve(this._dragStartTarget,Jp,this._onDown,this),this._enabled=!0)},disable:function(){this._enabled&&(vi._dragging===this&&this.finishDrag(!0),ze(this._dragStartTarget,Jp,this._onDown,this),this._enabled=!1,this._moved=!1)},_onDown:function(i){if(this._enabled&&(this._moved=!1,!ou(this._element,"leaflet-zoom-anim"))){if(i.touches&&i.touches.length!==1){vi._dragging===this&&this.finishDrag();return}if(!(vi._dragging||i.shiftKey||i.which!==1&&i.button!==1&&!i.touches)&&(vi._dragging=this,this._preventOutline&&hu(this._element),cu(),lo(),!this._moving)){this.fire("down");var l=i.touches?i.touches[0]:i,d=Zp(this._element);this._startPoint=new A(l.clientX,l.clientY),this._startPos=cr(this._element),this._parentScale=fu(d);var p=i.type==="mousedown";ve(document,p?"mousemove":"touchmove",this._onMove,this),ve(document,p?"mouseup":"touchend touchcancel",this._onUp,this)}}},_onMove:function(i){if(this._enabled){if(i.touches&&i.touches.length>1){this._moved=!0;return}var l=i.touches&&i.touches.length===1?i.touches[0]:i,d=new A(l.clientX,l.clientY)._subtract(this._startPoint);!d.x&&!d.y||Math.abs(d.x)+Math.abs(d.y)<this.options.clickTolerance||(d.x/=this._parentScale.x,d.y/=this._parentScale.y,ct(i),this._moved||(this.fire("dragstart"),this._moved=!0,we(document.body,"leaflet-dragging"),this._lastTarget=i.target||i.srcElement,window.SVGElementInstance&&this._lastTarget instanceof window.SVGElementInstance&&(this._lastTarget=this._lastTarget.correspondingUseElement),we(this._lastTarget,"leaflet-drag-target")),this._newPos=this._startPos.add(d),this._moving=!0,this._lastEvent=i,this._updatePosition())}},_updatePosition:function(){var i={originalEvent:this._lastEvent};this.fire("predrag",i),Je(this._element,this._newPos),this.fire("drag",i)},_onUp:function(){this._enabled&&this.finishDrag()},finishDrag:function(i){Ye(document.body,"leaflet-dragging"),this._lastTarget&&(Ye(this._lastTarget,"leaflet-drag-target"),this._lastTarget=null),ze(document,"mousemove touchmove",this._onMove,this),ze(document,"mouseup touchend touchcancel",this._onUp,this),uu(),co();var l=this._moved&&this._moving;this._moving=!1,vi._dragging=!1,l&&this.fire("dragend",{noInertia:i,distance:this._newPos.distanceTo(this._startPos)})}});function em(i,l,d){var p,x=[1,4,2,8],P,T,I,z,U,J,pe,Ne;for(P=0,J=i.length;P<J;P++)i[P]._code=hr(i[P],l);for(I=0;I<4;I++){for(pe=x[I],p=[],P=0,J=i.length,T=J-1;P<J;T=P++)z=i[P],U=i[T],z._code&pe?U._code&pe||(Ne=Oa(U,z,pe,l,d),Ne._code=hr(Ne,l),p.push(Ne)):(U._code&pe&&(Ne=Oa(U,z,pe,l,d),Ne._code=hr(Ne,l),p.push(Ne)),p.push(z));i=p}return i}function tm(i,l){var d,p,x,P,T,I,z,U,J;if(!i||i.length===0)throw new Error("latlngs not passed");Xt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var pe=Y([0,0]),Ne=B(i),yt=Ne.getNorthWest().distanceTo(Ne.getSouthWest())*Ne.getNorthEast().distanceTo(Ne.getNorthWest());yt<1700&&(pe=wu(i));var st=i.length,Jt=[];for(d=0;d<st;d++){var Lt=Y(i[d]);Jt.push(l.project(Y([Lt.lat-pe.lat,Lt.lng-pe.lng])))}for(I=z=U=0,d=0,p=st-1;d<st;p=d++)x=Jt[d],P=Jt[p],T=x.y*P.x-P.y*x.x,z+=(x.x+P.x)*T,U+=(x.y+P.y)*T,I+=T*3;I===0?J=Jt[0]:J=[z/I,U/I];var Xr=l.unproject($(J));return Y([Xr.lat+pe.lat,Xr.lng+pe.lng])}function wu(i){for(var l=0,d=0,p=0,x=0;x<i.length;x++){var P=Y(i[x]);l+=P.lat,d+=P.lng,p++}return Y([l/p,d/p])}var oN={__proto__:null,clipPolygon:em,polygonCenter:tm,centroid:wu};function nm(i,l){if(!l||!i.length)return i.slice();var d=l*l;return i=cN(i,d),i=lN(i,d),i}function im(i,l,d){return Math.sqrt(po(i,l,d,!0))}function aN(i,l,d){return po(i,l,d)}function lN(i,l){var d=i.length,p=typeof Uint8Array<"u"?Uint8Array:Array,x=new p(d);x[0]=x[d-1]=1,bu(i,x,l,0,d-1);var P,T=[];for(P=0;P<d;P++)x[P]&&T.push(i[P]);return T}function bu(i,l,d,p,x){var P=0,T,I,z;for(I=p+1;I<=x-1;I++)z=po(i[I],i[p],i[x],!0),z>P&&(T=I,P=z);P>d&&(l[T]=1,bu(i,l,d,p,T),bu(i,l,d,T,x))}function cN(i,l){for(var d=[i[0]],p=1,x=0,P=i.length;p<P;p++)uN(i[p],i[x])>l&&(d.push(i[p]),x=p);return x<P-1&&d.push(i[P-1]),d}var rm;function sm(i,l,d,p,x){var P=p?rm:hr(i,d),T=hr(l,d),I,z,U;for(rm=T;;){if(!(P|T))return[i,l];if(P&T)return!1;I=P||T,z=Oa(i,l,I,d,x),U=hr(z,d),I===P?(i=z,P=U):(l=z,T=U)}}function Oa(i,l,d,p,x){var P=l.x-i.x,T=l.y-i.y,I=p.min,z=p.max,U,J;return d&8?(U=i.x+P*(z.y-i.y)/T,J=z.y):d&4?(U=i.x+P*(I.y-i.y)/T,J=I.y):d&2?(U=z.x,J=i.y+T*(z.x-i.x)/P):d&1&&(U=I.x,J=i.y+T*(I.x-i.x)/P),new A(U,J,x)}function hr(i,l){var d=0;return i.x<l.min.x?d|=1:i.x>l.max.x&&(d|=2),i.y<l.min.y?d|=4:i.y>l.max.y&&(d|=8),d}function uN(i,l){var d=l.x-i.x,p=l.y-i.y;return d*d+p*p}function po(i,l,d,p){var x=l.x,P=l.y,T=d.x-x,I=d.y-P,z=T*T+I*I,U;return z>0&&(U=((i.x-x)*T+(i.y-P)*I)/z,U>1?(x=d.x,P=d.y):U>0&&(x+=T*U,P+=I*U)),T=i.x-x,I=i.y-P,p?T*T+I*I:new A(x,P)}function Xt(i){return!C(i[0])||typeof i[0][0]!="object"&&typeof i[0][0]<"u"}function om(i){return console.warn("Deprecated use of _flat, please use L.LineUtil.isFlat instead."),Xt(i)}function am(i,l){var d,p,x,P,T,I,z,U;if(!i||i.length===0)throw new Error("latlngs not passed");Xt(i)||(console.warn("latlngs are not flat! Only the first ring will be used"),i=i[0]);var J=Y([0,0]),pe=B(i),Ne=pe.getNorthWest().distanceTo(pe.getSouthWest())*pe.getNorthEast().distanceTo(pe.getNorthWest());Ne<1700&&(J=wu(i));var yt=i.length,st=[];for(d=0;d<yt;d++){var Jt=Y(i[d]);st.push(l.project(Y([Jt.lat-J.lat,Jt.lng-J.lng])))}for(d=0,p=0;d<yt-1;d++)p+=st[d].distanceTo(st[d+1])/2;if(p===0)U=st[0];else for(d=0,P=0;d<yt-1;d++)if(T=st[d],I=st[d+1],x=T.distanceTo(I),P+=x,P>p){z=(P-p)/x,U=[I.x-z*(I.x-T.x),I.y-z*(I.y-T.y)];break}var Lt=l.unproject($(U));return Y([Lt.lat+J.lat,Lt.lng+J.lng])}var dN={__proto__:null,simplify:nm,pointToSegmentDistance:im,closestPointOnSegment:aN,clipSegment:sm,_getEdgeIntersection:Oa,_getBitCode:hr,_sqClosestPointOnSegment:po,isFlat:Xt,_flat:om,polylineCenter:am},Nu={project:function(i){return new A(i.lng,i.lat)},unproject:function(i){return new ee(i.y,i.x)},bounds:new X([-180,-90],[180,90])},Cu={R:6378137,R_MINOR:6356752314245179e-9,bounds:new X([-2003750834279e-5,-1549657073972e-5],[2003750834279e-5,1876465623138e-5]),project:function(i){var l=Math.PI/180,d=this.R,p=i.lat*l,x=this.R_MINOR/d,P=Math.sqrt(1-x*x),T=P*Math.sin(p),I=Math.tan(Math.PI/4-p/2)/Math.pow((1-T)/(1+T),P/2);return p=-d*Math.log(Math.max(I,1e-10)),new A(i.lng*l*d,p)},unproject:function(i){for(var l=180/Math.PI,d=this.R,p=this.R_MINOR/d,x=Math.sqrt(1-p*p),P=Math.exp(-i.y/d),T=Math.PI/2-2*Math.atan(P),I=0,z=.1,U;I<15&&Math.abs(z)>1e-7;I++)U=x*Math.sin(T),U=Math.pow((1-U)/(1+U),x/2),z=Math.PI/2-2*Math.atan(P*U)-T,T+=z;return new ee(T*l,i.x*l/d)}},hN={__proto__:null,LonLat:Nu,Mercator:Cu,SphericalMercator:xe},fN=a({},ne,{code:"EPSG:3395",projection:Cu,transformation:function(){var i=.5/(Math.PI*Cu.R);return ke(i,.5,-i,.5)}()}),lm=a({},ne,{code:"EPSG:4326",projection:Nu,transformation:ke(1/180,1,-1/180,.5)}),pN=a({},F,{projection:Nu,transformation:ke(1,0,-1,0),scale:function(i){return Math.pow(2,i)},zoom:function(i){return Math.log(i)/Math.LN2},distance:function(i,l){var d=l.lng-i.lng,p=l.lat-i.lat;return Math.sqrt(d*d+p*p)},infinite:!0});F.Earth=ne,F.EPSG3395=fN,F.EPSG3857=lt,F.EPSG900913=Qt,F.EPSG4326=lm,F.Simple=pN;var dn=se.extend({options:{pane:"overlayPane",attribution:null,bubblingMouseEvents:!0},addTo:function(i){return i.addLayer(this),this},remove:function(){return this.removeFrom(this._map||this._mapToAdd)},removeFrom:function(i){return i&&i.removeLayer(this),this},getPane:function(i){return this._map.getPane(i?this.options[i]||i:this.options.pane)},addInteractiveTarget:function(i){return this._map._targets[h(i)]=this,this},removeInteractiveTarget:function(i){return delete this._map._targets[h(i)],this},getAttribution:function(){return this.options.attribution},_layerAdd:function(i){var l=i.target;if(l.hasLayer(this)){if(this._map=l,this._zoomAnimated=l._zoomAnimated,this.getEvents){var d=this.getEvents();l.on(d,this),this.once("remove",function(){l.off(d,this)},this)}this.onAdd(l),this.fire("add"),l.fire("layeradd",{layer:this})}}});Le.include({addLayer:function(i){if(!i._layerAdd)throw new Error("The provided object is not a Layer.");var l=h(i);return this._layers[l]?this:(this._layers[l]=i,i._mapToAdd=this,i.beforeAdd&&i.beforeAdd(this),this.whenReady(i._layerAdd,i),this)},removeLayer:function(i){var l=h(i);return this._layers[l]?(this._loaded&&i.onRemove(this),delete this._layers[l],this._loaded&&(this.fire("layerremove",{layer:i}),i.fire("remove")),i._map=i._mapToAdd=null,this):this},hasLayer:function(i){return h(i)in this._layers},eachLayer:function(i,l){for(var d in this._layers)i.call(l,this._layers[d]);return this},_addLayers:function(i){i=i?C(i)?i:[i]:[];for(var l=0,d=i.length;l<d;l++)this.addLayer(i[l])},_addZoomLimit:function(i){(!isNaN(i.options.maxZoom)||!isNaN(i.options.minZoom))&&(this._zoomBoundLayers[h(i)]=i,this._updateZoomLevels())},_removeZoomLimit:function(i){var l=h(i);this._zoomBoundLayers[l]&&(delete this._zoomBoundLayers[l],this._updateZoomLevels())},_updateZoomLevels:function(){var i=1/0,l=-1/0,d=this._getZoomSpan();for(var p in this._zoomBoundLayers){var x=this._zoomBoundLayers[p].options;i=x.minZoom===void 0?i:Math.min(i,x.minZoom),l=x.maxZoom===void 0?l:Math.max(l,x.maxZoom)}this._layersMaxZoom=l===-1/0?void 0:l,this._layersMinZoom=i===1/0?void 0:i,d!==this._getZoomSpan()&&this.fire("zoomlevelschange"),this.options.maxZoom===void 0&&this._layersMaxZoom&&this.getZoom()>this._layersMaxZoom&&this.setZoom(this._layersMaxZoom),this.options.minZoom===void 0&&this._layersMinZoom&&this.getZoom()<this._layersMinZoom&&this.setZoom(this._layersMinZoom)}});var Gr=dn.extend({initialize:function(i,l){v(this,l),this._layers={};var d,p;if(i)for(d=0,p=i.length;d<p;d++)this.addLayer(i[d])},addLayer:function(i){var l=this.getLayerId(i);return this._layers[l]=i,this._map&&this._map.addLayer(i),this},removeLayer:function(i){var l=i in this._layers?i:this.getLayerId(i);return this._map&&this._layers[l]&&this._map.removeLayer(this._layers[l]),delete this._layers[l],this},hasLayer:function(i){var l=typeof i=="number"?i:this.getLayerId(i);return l in this._layers},clearLayers:function(){return this.eachLayer(this.removeLayer,this)},invoke:function(i){var l=Array.prototype.slice.call(arguments,1),d,p;for(d in this._layers)p=this._layers[d],p[i]&&p[i].apply(p,l);return this},onAdd:function(i){this.eachLayer(i.addLayer,i)},onRemove:function(i){this.eachLayer(i.removeLayer,i)},eachLayer:function(i,l){for(var d in this._layers)i.call(l,this._layers[d]);return this},getLayer:function(i){return this._layers[i]},getLayers:function(){var i=[];return this.eachLayer(i.push,i),i},setZIndex:function(i){return this.invoke("setZIndex",i)},getLayerId:function(i){return h(i)}}),mN=function(i,l){return new Gr(i,l)},Wn=Gr.extend({addLayer:function(i){return this.hasLayer(i)?this:(i.addEventParent(this),Gr.prototype.addLayer.call(this,i),this.fire("layeradd",{layer:i}))},removeLayer:function(i){return this.hasLayer(i)?(i in this._layers&&(i=this._layers[i]),i.removeEventParent(this),Gr.prototype.removeLayer.call(this,i),this.fire("layerremove",{layer:i})):this},setStyle:function(i){return this.invoke("setStyle",i)},bringToFront:function(){return this.invoke("bringToFront")},bringToBack:function(){return this.invoke("bringToBack")},getBounds:function(){var i=new Ce;for(var l in this._layers){var d=this._layers[l];i.extend(d.getBounds?d.getBounds():d.getLatLng())}return i}}),gN=function(i,l){return new Wn(i,l)},Kr=Z.extend({options:{popupAnchor:[0,0],tooltipAnchor:[0,0],crossOrigin:!1},initialize:function(i){v(this,i)},createIcon:function(i){return this._createIcon("icon",i)},createShadow:function(i){return this._createIcon("shadow",i)},_createIcon:function(i,l){var d=this._getIconUrl(i);if(!d){if(i==="icon")throw new Error("iconUrl not set in Icon options (see the docs).");return null}var p=this._createImg(d,l&&l.tagName==="IMG"?l:null);return this._setIconStyles(p,i),(this.options.crossOrigin||this.options.crossOrigin==="")&&(p.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),p},_setIconStyles:function(i,l){var d=this.options,p=d[l+"Size"];typeof p=="number"&&(p=[p,p]);var x=$(p),P=$(l==="shadow"&&d.shadowAnchor||d.iconAnchor||x&&x.divideBy(2,!0));i.className="leaflet-marker-"+l+" "+(d.className||""),P&&(i.style.marginLeft=-P.x+"px",i.style.marginTop=-P.y+"px"),x&&(i.style.width=x.x+"px",i.style.height=x.y+"px")},_createImg:function(i,l){return l=l||document.createElement("img"),l.src=i,l},_getIconUrl:function(i){return oe.retina&&this.options[i+"RetinaUrl"]||this.options[i+"Url"]}});function vN(i){return new Kr(i)}var mo=Kr.extend({options:{iconUrl:"marker-icon.png",iconRetinaUrl:"marker-icon-2x.png",shadowUrl:"marker-shadow.png",iconSize:[25,41],iconAnchor:[12,41],popupAnchor:[1,-34],tooltipAnchor:[16,-28],shadowSize:[41,41]},_getIconUrl:function(i){return typeof mo.imagePath!="string"&&(mo.imagePath=this._detectIconPath()),(this.options.imagePath||mo.imagePath)+Kr.prototype._getIconUrl.call(this,i)},_stripUrl:function(i){var l=function(d,p,x){var P=p.exec(d);return P&&P[x]};return i=l(i,/^url\((['"])?(.+)\1\)$/,2),i&&l(i,/^(.*)marker-icon\.png$/,1)},_detectIconPath:function(){var i=Re("div","leaflet-default-icon-path",document.body),l=ao(i,"background-image")||ao(i,"backgroundImage");if(document.body.removeChild(i),l=this._stripUrl(l),l)return l;var d=document.querySelector('link[href$="leaflet.css"]');return d?d.href.substring(0,d.href.length-11-1):""}}),cm=kn.extend({initialize:function(i){this._marker=i},addHooks:function(){var i=this._marker._icon;this._draggable||(this._draggable=new vi(i,i,!0)),this._draggable.on({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).enable(),we(i,"leaflet-marker-draggable")},removeHooks:function(){this._draggable.off({dragstart:this._onDragStart,predrag:this._onPreDrag,drag:this._onDrag,dragend:this._onDragEnd},this).disable(),this._marker._icon&&Ye(this._marker._icon,"leaflet-marker-draggable")},moved:function(){return this._draggable&&this._draggable._moved},_adjustPan:function(i){var l=this._marker,d=l._map,p=this._marker.options.autoPanSpeed,x=this._marker.options.autoPanPadding,P=cr(l._icon),T=d.getPixelBounds(),I=d.getPixelOrigin(),z=ue(T.min._subtract(I).add(x),T.max._subtract(I).subtract(x));if(!z.contains(P)){var U=$((Math.max(z.max.x,P.x)-z.max.x)/(T.max.x-z.max.x)-(Math.min(z.min.x,P.x)-z.min.x)/(T.min.x-z.min.x),(Math.max(z.max.y,P.y)-z.max.y)/(T.max.y-z.max.y)-(Math.min(z.min.y,P.y)-z.min.y)/(T.min.y-z.min.y)).multiplyBy(p);d.panBy(U,{animate:!1}),this._draggable._newPos._add(U),this._draggable._startPos._add(U),Je(l._icon,this._draggable._newPos),this._onDrag(i),this._panRequest=Q(this._adjustPan.bind(this,i))}},_onDragStart:function(){this._oldLatLng=this._marker.getLatLng(),this._marker.closePopup&&this._marker.closePopup(),this._marker.fire("movestart").fire("dragstart")},_onPreDrag:function(i){this._marker.options.autoPan&&(W(this._panRequest),this._panRequest=Q(this._adjustPan.bind(this,i)))},_onDrag:function(i){var l=this._marker,d=l._shadow,p=cr(l._icon),x=l._map.layerPointToLatLng(p);d&&Je(d,p),l._latlng=x,i.latlng=x,i.oldLatLng=this._oldLatLng,l.fire("move",i).fire("drag",i)},_onDragEnd:function(i){W(this._panRequest),delete this._oldLatLng,this._marker.fire("moveend").fire("dragend",i)}}),Aa=dn.extend({options:{icon:new mo,interactive:!0,keyboard:!0,title:"",alt:"Marker",zIndexOffset:0,opacity:1,riseOnHover:!1,riseOffset:250,pane:"markerPane",shadowPane:"shadowPane",bubblingMouseEvents:!1,autoPanOnFocus:!0,draggable:!1,autoPan:!1,autoPanPadding:[50,50],autoPanSpeed:10},initialize:function(i,l){v(this,l),this._latlng=Y(i)},onAdd:function(i){this._zoomAnimated=this._zoomAnimated&&i.options.markerZoomAnimation,this._zoomAnimated&&i.on("zoomanim",this._animateZoom,this),this._initIcon(),this.update()},onRemove:function(i){this.dragging&&this.dragging.enabled()&&(this.options.draggable=!0,this.dragging.removeHooks()),delete this.dragging,this._zoomAnimated&&i.off("zoomanim",this._animateZoom,this),this._removeIcon(),this._removeShadow()},getEvents:function(){return{zoom:this.update,viewreset:this.update}},getLatLng:function(){return this._latlng},setLatLng:function(i){var l=this._latlng;return this._latlng=Y(i),this.update(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},setZIndexOffset:function(i){return this.options.zIndexOffset=i,this.update()},getIcon:function(){return this.options.icon},setIcon:function(i){return this.options.icon=i,this._map&&(this._initIcon(),this.update()),this._popup&&this.bindPopup(this._popup,this._popup.options),this},getElement:function(){return this._icon},update:function(){if(this._icon&&this._map){var i=this._map.latLngToLayerPoint(this._latlng).round();this._setPos(i)}return this},_initIcon:function(){var i=this.options,l="leaflet-zoom-"+(this._zoomAnimated?"animated":"hide"),d=i.icon.createIcon(this._icon),p=!1;d!==this._icon&&(this._icon&&this._removeIcon(),p=!0,i.title&&(d.title=i.title),d.tagName==="IMG"&&(d.alt=i.alt||"")),we(d,l),i.keyboard&&(d.tabIndex="0",d.setAttribute("role","button")),this._icon=d,i.riseOnHover&&this.on({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ve(d,"focus",this._panOnFocus,this);var x=i.icon.createShadow(this._shadow),P=!1;x!==this._shadow&&(this._removeShadow(),P=!0),x&&(we(x,l),x.alt=""),this._shadow=x,i.opacity<1&&this._updateOpacity(),p&&this.getPane().appendChild(this._icon),this._initInteraction(),x&&P&&this.getPane(i.shadowPane).appendChild(this._shadow)},_removeIcon:function(){this.options.riseOnHover&&this.off({mouseover:this._bringToFront,mouseout:this._resetZIndex}),this.options.autoPanOnFocus&&ze(this._icon,"focus",this._panOnFocus,this),Ze(this._icon),this.removeInteractiveTarget(this._icon),this._icon=null},_removeShadow:function(){this._shadow&&Ze(this._shadow),this._shadow=null},_setPos:function(i){this._icon&&Je(this._icon,i),this._shadow&&Je(this._shadow,i),this._zIndex=i.y+this.options.zIndexOffset,this._resetZIndex()},_updateZIndex:function(i){this._icon&&(this._icon.style.zIndex=this._zIndex+i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center).round();this._setPos(l)},_initInteraction:function(){if(this.options.interactive&&(we(this._icon,"leaflet-interactive"),this.addInteractiveTarget(this._icon),cm)){var i=this.options.draggable;this.dragging&&(i=this.dragging.enabled(),this.dragging.disable()),this.dragging=new cm(this),i&&this.dragging.enable()}},setOpacity:function(i){return this.options.opacity=i,this._map&&this._updateOpacity(),this},_updateOpacity:function(){var i=this.options.opacity;this._icon&&Yt(this._icon,i),this._shadow&&Yt(this._shadow,i)},_bringToFront:function(){this._updateZIndex(this.options.riseOffset)},_resetZIndex:function(){this._updateZIndex(0)},_panOnFocus:function(){var i=this._map;if(i){var l=this.options.icon.options,d=l.iconSize?$(l.iconSize):$(0,0),p=l.iconAnchor?$(l.iconAnchor):$(0,0);i.panInside(this._latlng,{paddingTopLeft:p,paddingBottomRight:d.subtract(p)})}},_getPopupAnchor:function(){return this.options.icon.options.popupAnchor},_getTooltipAnchor:function(){return this.options.icon.options.tooltipAnchor}});function xN(i,l){return new Aa(i,l)}var xi=dn.extend({options:{stroke:!0,color:"#3388ff",weight:3,opacity:1,lineCap:"round",lineJoin:"round",dashArray:null,dashOffset:null,fill:!1,fillColor:null,fillOpacity:.2,fillRule:"evenodd",interactive:!0,bubblingMouseEvents:!0},beforeAdd:function(i){this._renderer=i.getRenderer(this)},onAdd:function(){this._renderer._initPath(this),this._reset(),this._renderer._addPath(this)},onRemove:function(){this._renderer._removePath(this)},redraw:function(){return this._map&&this._renderer._updatePath(this),this},setStyle:function(i){return v(this,i),this._renderer&&(this._renderer._updateStyle(this),this.options.stroke&&i&&Object.prototype.hasOwnProperty.call(i,"weight")&&this._updateBounds()),this},bringToFront:function(){return this._renderer&&this._renderer._bringToFront(this),this},bringToBack:function(){return this._renderer&&this._renderer._bringToBack(this),this},getElement:function(){return this._path},_reset:function(){this._project(),this._update()},_clickTolerance:function(){return(this.options.stroke?this.options.weight/2:0)+(this._renderer.options.tolerance||0)}}),Ia=xi.extend({options:{fill:!0,radius:10},initialize:function(i,l){v(this,l),this._latlng=Y(i),this._radius=this.options.radius},setLatLng:function(i){var l=this._latlng;return this._latlng=Y(i),this.redraw(),this.fire("move",{oldLatLng:l,latlng:this._latlng})},getLatLng:function(){return this._latlng},setRadius:function(i){return this.options.radius=this._radius=i,this.redraw()},getRadius:function(){return this._radius},setStyle:function(i){var l=i&&i.radius||this._radius;return xi.prototype.setStyle.call(this,i),this.setRadius(l),this},_project:function(){this._point=this._map.latLngToLayerPoint(this._latlng),this._updateBounds()},_updateBounds:function(){var i=this._radius,l=this._radiusY||i,d=this._clickTolerance(),p=[i+d,l+d];this._pxBounds=new X(this._point.subtract(p),this._point.add(p))},_update:function(){this._map&&this._updatePath()},_updatePath:function(){this._renderer._updateCircle(this)},_empty:function(){return this._radius&&!this._renderer._bounds.intersects(this._pxBounds)},_containsPoint:function(i){return i.distanceTo(this._point)<=this._radius+this._clickTolerance()}});function yN(i,l){return new Ia(i,l)}var Su=Ia.extend({initialize:function(i,l,d){if(typeof l=="number"&&(l=a({},d,{radius:l})),v(this,l),this._latlng=Y(i),isNaN(this.options.radius))throw new Error("Circle radius cannot be NaN");this._mRadius=this.options.radius},setRadius:function(i){return this._mRadius=i,this.redraw()},getRadius:function(){return this._mRadius},getBounds:function(){var i=[this._radius,this._radiusY||this._radius];return new Ce(this._map.layerPointToLatLng(this._point.subtract(i)),this._map.layerPointToLatLng(this._point.add(i)))},setStyle:xi.prototype.setStyle,_project:function(){var i=this._latlng.lng,l=this._latlng.lat,d=this._map,p=d.options.crs;if(p.distance===ne.distance){var x=Math.PI/180,P=this._mRadius/ne.R/x,T=d.project([l+P,i]),I=d.project([l-P,i]),z=T.add(I).divideBy(2),U=d.unproject(z).lat,J=Math.acos((Math.cos(P*x)-Math.sin(l*x)*Math.sin(U*x))/(Math.cos(l*x)*Math.cos(U*x)))/x;(isNaN(J)||J===0)&&(J=P/Math.cos(Math.PI/180*l)),this._point=z.subtract(d.getPixelOrigin()),this._radius=isNaN(J)?0:z.x-d.project([U,i-J]).x,this._radiusY=z.y-T.y}else{var pe=p.unproject(p.project(this._latlng).subtract([this._mRadius,0]));this._point=d.latLngToLayerPoint(this._latlng),this._radius=this._point.x-d.latLngToLayerPoint(pe).x}this._updateBounds()}});function _N(i,l,d){return new Su(i,l,d)}var Gn=xi.extend({options:{smoothFactor:1,noClip:!1},initialize:function(i,l){v(this,l),this._setLatLngs(i)},getLatLngs:function(){return this._latlngs},setLatLngs:function(i){return this._setLatLngs(i),this.redraw()},isEmpty:function(){return!this._latlngs.length},closestLayerPoint:function(i){for(var l=1/0,d=null,p=po,x,P,T=0,I=this._parts.length;T<I;T++)for(var z=this._parts[T],U=1,J=z.length;U<J;U++){x=z[U-1],P=z[U];var pe=p(i,x,P,!0);pe<l&&(l=pe,d=p(i,x,P))}return d&&(d.distance=Math.sqrt(l)),d},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return am(this._defaultShape(),this._map.options.crs)},getBounds:function(){return this._bounds},addLatLng:function(i,l){return l=l||this._defaultShape(),i=Y(i),l.push(i),this._bounds.extend(i),this.redraw()},_setLatLngs:function(i){this._bounds=new Ce,this._latlngs=this._convertLatLngs(i)},_defaultShape:function(){return Xt(this._latlngs)?this._latlngs:this._latlngs[0]},_convertLatLngs:function(i){for(var l=[],d=Xt(i),p=0,x=i.length;p<x;p++)d?(l[p]=Y(i[p]),this._bounds.extend(l[p])):l[p]=this._convertLatLngs(i[p]);return l},_project:function(){var i=new X;this._rings=[],this._projectLatlngs(this._latlngs,this._rings,i),this._bounds.isValid()&&i.isValid()&&(this._rawPxBounds=i,this._updateBounds())},_updateBounds:function(){var i=this._clickTolerance(),l=new A(i,i);this._rawPxBounds&&(this._pxBounds=new X([this._rawPxBounds.min.subtract(l),this._rawPxBounds.max.add(l)]))},_projectLatlngs:function(i,l,d){var p=i[0]instanceof ee,x=i.length,P,T;if(p){for(T=[],P=0;P<x;P++)T[P]=this._map.latLngToLayerPoint(i[P]),d.extend(T[P]);l.push(T)}else for(P=0;P<x;P++)this._projectLatlngs(i[P],l,d)},_clipPoints:function(){var i=this._renderer._bounds;if(this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}var l=this._parts,d,p,x,P,T,I,z;for(d=0,x=0,P=this._rings.length;d<P;d++)for(z=this._rings[d],p=0,T=z.length;p<T-1;p++)I=sm(z[p],z[p+1],i,p,!0),I&&(l[x]=l[x]||[],l[x].push(I[0]),(I[1]!==z[p+1]||p===T-2)&&(l[x].push(I[1]),x++))}},_simplifyPoints:function(){for(var i=this._parts,l=this.options.smoothFactor,d=0,p=i.length;d<p;d++)i[d]=nm(i[d],l)},_update:function(){this._map&&(this._clipPoints(),this._simplifyPoints(),this._updatePath())},_updatePath:function(){this._renderer._updatePoly(this)},_containsPoint:function(i,l){var d,p,x,P,T,I,z=this._clickTolerance();if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(d=0,P=this._parts.length;d<P;d++)for(I=this._parts[d],p=0,T=I.length,x=T-1;p<T;x=p++)if(!(!l&&p===0)&&im(i,I[x],I[p])<=z)return!0;return!1}});function wN(i,l){return new Gn(i,l)}Gn._flat=om;var qr=Gn.extend({options:{fill:!0},isEmpty:function(){return!this._latlngs.length||!this._latlngs[0].length},getCenter:function(){if(!this._map)throw new Error("Must add layer to map before using getCenter()");return tm(this._defaultShape(),this._map.options.crs)},_convertLatLngs:function(i){var l=Gn.prototype._convertLatLngs.call(this,i),d=l.length;return d>=2&&l[0]instanceof ee&&l[0].equals(l[d-1])&&l.pop(),l},_setLatLngs:function(i){Gn.prototype._setLatLngs.call(this,i),Xt(this._latlngs)&&(this._latlngs=[this._latlngs])},_defaultShape:function(){return Xt(this._latlngs[0])?this._latlngs[0]:this._latlngs[0][0]},_clipPoints:function(){var i=this._renderer._bounds,l=this.options.weight,d=new A(l,l);if(i=new X(i.min.subtract(d),i.max.add(d)),this._parts=[],!(!this._pxBounds||!this._pxBounds.intersects(i))){if(this.options.noClip){this._parts=this._rings;return}for(var p=0,x=this._rings.length,P;p<x;p++)P=em(this._rings[p],i,!0),P.length&&this._parts.push(P)}},_updatePath:function(){this._renderer._updatePoly(this,!0)},_containsPoint:function(i){var l=!1,d,p,x,P,T,I,z,U;if(!this._pxBounds||!this._pxBounds.contains(i))return!1;for(P=0,z=this._parts.length;P<z;P++)for(d=this._parts[P],T=0,U=d.length,I=U-1;T<U;I=T++)p=d[T],x=d[I],p.y>i.y!=x.y>i.y&&i.x<(x.x-p.x)*(i.y-p.y)/(x.y-p.y)+p.x&&(l=!l);return l||Gn.prototype._containsPoint.call(this,i,!0)}});function bN(i,l){return new qr(i,l)}var Kn=Wn.extend({initialize:function(i,l){v(this,l),this._layers={},i&&this.addData(i)},addData:function(i){var l=C(i)?i:i.features,d,p,x;if(l){for(d=0,p=l.length;d<p;d++)x=l[d],(x.geometries||x.geometry||x.features||x.coordinates)&&this.addData(x);return this}var P=this.options;if(P.filter&&!P.filter(i))return this;var T=Da(i,P);return T?(T.feature=Ba(i),T.defaultOptions=T.options,this.resetStyle(T),P.onEachFeature&&P.onEachFeature(i,T),this.addLayer(T)):this},resetStyle:function(i){return i===void 0?this.eachLayer(this.resetStyle,this):(i.options=a({},i.defaultOptions),this._setLayerStyle(i,this.options.style),this)},setStyle:function(i){return this.eachLayer(function(l){this._setLayerStyle(l,i)},this)},_setLayerStyle:function(i,l){i.setStyle&&(typeof l=="function"&&(l=l(i.feature)),i.setStyle(l))}});function Da(i,l){var d=i.type==="Feature"?i.geometry:i,p=d?d.coordinates:null,x=[],P=l&&l.pointToLayer,T=l&&l.coordsToLatLng||ju,I,z,U,J;if(!p&&!d)return null;switch(d.type){case"Point":return I=T(p),um(P,i,I,l);case"MultiPoint":for(U=0,J=p.length;U<J;U++)I=T(p[U]),x.push(um(P,i,I,l));return new Wn(x);case"LineString":case"MultiLineString":return z=za(p,d.type==="LineString"?0:1,T),new Gn(z,l);case"Polygon":case"MultiPolygon":return z=za(p,d.type==="Polygon"?1:2,T),new qr(z,l);case"GeometryCollection":for(U=0,J=d.geometries.length;U<J;U++){var pe=Da({geometry:d.geometries[U],type:"Feature",properties:i.properties},l);pe&&x.push(pe)}return new Wn(x);case"FeatureCollection":for(U=0,J=d.features.length;U<J;U++){var Ne=Da(d.features[U],l);Ne&&x.push(Ne)}return new Wn(x);default:throw new Error("Invalid GeoJSON object.")}}function um(i,l,d,p){return i?i(l,d):new Aa(d,p&&p.markersInheritOptions&&p)}function ju(i){return new ee(i[1],i[0],i[2])}function za(i,l,d){for(var p=[],x=0,P=i.length,T;x<P;x++)T=l?za(i[x],l-1,d):(d||ju)(i[x]),p.push(T);return p}function Pu(i,l){return i=Y(i),i.alt!==void 0?[y(i.lng,l),y(i.lat,l),y(i.alt,l)]:[y(i.lng,l),y(i.lat,l)]}function Fa(i,l,d,p){for(var x=[],P=0,T=i.length;P<T;P++)x.push(l?Fa(i[P],Xt(i[P])?0:l-1,d,p):Pu(i[P],p));return!l&&d&&x.length>0&&x.push(x[0].slice()),x}function Qr(i,l){return i.feature?a({},i.feature,{geometry:l}):Ba(l)}function Ba(i){return i.type==="Feature"||i.type==="FeatureCollection"?i:{type:"Feature",properties:{},geometry:i}}var ku={toGeoJSON:function(i){return Qr(this,{type:"Point",coordinates:Pu(this.getLatLng(),i)})}};Aa.include(ku),Su.include(ku),Ia.include(ku),Gn.include({toGeoJSON:function(i){var l=!Xt(this._latlngs),d=Fa(this._latlngs,l?1:0,!1,i);return Qr(this,{type:(l?"Multi":"")+"LineString",coordinates:d})}}),qr.include({toGeoJSON:function(i){var l=!Xt(this._latlngs),d=l&&!Xt(this._latlngs[0]),p=Fa(this._latlngs,d?2:l?1:0,!0,i);return l||(p=[p]),Qr(this,{type:(d?"Multi":"")+"Polygon",coordinates:p})}}),Gr.include({toMultiPoint:function(i){var l=[];return this.eachLayer(function(d){l.push(d.toGeoJSON(i).geometry.coordinates)}),Qr(this,{type:"MultiPoint",coordinates:l})},toGeoJSON:function(i){var l=this.feature&&this.feature.geometry&&this.feature.geometry.type;if(l==="MultiPoint")return this.toMultiPoint(i);var d=l==="GeometryCollection",p=[];return this.eachLayer(function(x){if(x.toGeoJSON){var P=x.toGeoJSON(i);if(d)p.push(P.geometry);else{var T=Ba(P);T.type==="FeatureCollection"?p.push.apply(p,T.features):p.push(T)}}}),d?Qr(this,{geometries:p,type:"GeometryCollection"}):{type:"FeatureCollection",features:p}}});function dm(i,l){return new Kn(i,l)}var NN=dm,$a=dn.extend({options:{opacity:1,alt:"",interactive:!1,crossOrigin:!1,errorOverlayUrl:"",zIndex:1,className:""},initialize:function(i,l,d){this._url=i,this._bounds=B(l),v(this,d)},onAdd:function(){this._image||(this._initImage(),this.options.opacity<1&&this._updateOpacity()),this.options.interactive&&(we(this._image,"leaflet-interactive"),this.addInteractiveTarget(this._image)),this.getPane().appendChild(this._image),this._reset()},onRemove:function(){Ze(this._image),this.options.interactive&&this.removeInteractiveTarget(this._image)},setOpacity:function(i){return this.options.opacity=i,this._image&&this._updateOpacity(),this},setStyle:function(i){return i.opacity&&this.setOpacity(i.opacity),this},bringToFront:function(){return this._map&&Zr(this._image),this},bringToBack:function(){return this._map&&Wr(this._image),this},setUrl:function(i){return this._url=i,this._image&&(this._image.src=i),this},setBounds:function(i){return this._bounds=B(i),this._map&&this._reset(),this},getEvents:function(){var i={zoom:this._reset,viewreset:this._reset};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},getBounds:function(){return this._bounds},getElement:function(){return this._image},_initImage:function(){var i=this._url.tagName==="IMG",l=this._image=i?this._url:Re("img");if(we(l,"leaflet-image-layer"),this._zoomAnimated&&we(l,"leaflet-zoom-animated"),this.options.className&&we(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onload=c(this.fire,this,"load"),l.onerror=c(this._overlayOnError,this,"error"),(this.options.crossOrigin||this.options.crossOrigin==="")&&(l.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),this.options.zIndex&&this._updateZIndex(),i){this._url=l.src;return}l.src=this._url,l.alt=this.options.alt},_animateZoom:function(i){var l=this._map.getZoomScale(i.zoom),d=this._map._latLngBoundsToNewLayerBounds(this._bounds,i.zoom,i.center).min;lr(this._image,d,l)},_reset:function(){var i=this._image,l=new X(this._map.latLngToLayerPoint(this._bounds.getNorthWest()),this._map.latLngToLayerPoint(this._bounds.getSouthEast())),d=l.getSize();Je(i,l.min),i.style.width=d.x+"px",i.style.height=d.y+"px"},_updateOpacity:function(){Yt(this._image,this.options.opacity)},_updateZIndex:function(){this._image&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._image.style.zIndex=this.options.zIndex)},_overlayOnError:function(){this.fire("error");var i=this.options.errorOverlayUrl;i&&this._url!==i&&(this._url=i,this._image.src=i)},getCenter:function(){return this._bounds.getCenter()}}),CN=function(i,l,d){return new $a(i,l,d)},hm=$a.extend({options:{autoplay:!0,loop:!0,keepAspectRatio:!0,muted:!1,playsInline:!0},_initImage:function(){var i=this._url.tagName==="VIDEO",l=this._image=i?this._url:Re("video");if(we(l,"leaflet-image-layer"),this._zoomAnimated&&we(l,"leaflet-zoom-animated"),this.options.className&&we(l,this.options.className),l.onselectstart=m,l.onmousemove=m,l.onloadeddata=c(this.fire,this,"load"),i){for(var d=l.getElementsByTagName("source"),p=[],x=0;x<d.length;x++)p.push(d[x].src);this._url=d.length>0?p:[l.src];return}C(this._url)||(this._url=[this._url]),!this.options.keepAspectRatio&&Object.prototype.hasOwnProperty.call(l.style,"objectFit")&&(l.style.objectFit="fill"),l.autoplay=!!this.options.autoplay,l.loop=!!this.options.loop,l.muted=!!this.options.muted,l.playsInline=!!this.options.playsInline;for(var P=0;P<this._url.length;P++){var T=Re("source");T.src=this._url[P],l.appendChild(T)}}});function SN(i,l,d){return new hm(i,l,d)}var fm=$a.extend({_initImage:function(){var i=this._image=this._url;we(i,"leaflet-image-layer"),this._zoomAnimated&&we(i,"leaflet-zoom-animated"),this.options.className&&we(i,this.options.className),i.onselectstart=m,i.onmousemove=m}});function jN(i,l,d){return new fm(i,l,d)}var Ln=dn.extend({options:{interactive:!1,offset:[0,0],className:"",pane:void 0,content:""},initialize:function(i,l){i&&(i instanceof ee||C(i))?(this._latlng=Y(i),v(this,l)):(v(this,i),this._source=l),this.options.content&&(this._content=this.options.content)},openOn:function(i){return i=arguments.length?i:this._source._map,i.hasLayer(this)||i.addLayer(this),this},close:function(){return this._map&&this._map.removeLayer(this),this},toggle:function(i){return this._map?this.close():(arguments.length?this._source=i:i=this._source,this._prepareOpen(),this.openOn(i._map)),this},onAdd:function(i){this._zoomAnimated=i._zoomAnimated,this._container||this._initLayout(),i._fadeAnimated&&Yt(this._container,0),clearTimeout(this._removeTimeout),this.getPane().appendChild(this._container),this.update(),i._fadeAnimated&&Yt(this._container,1),this.bringToFront(),this.options.interactive&&(we(this._container,"leaflet-interactive"),this.addInteractiveTarget(this._container))},onRemove:function(i){i._fadeAnimated?(Yt(this._container,0),this._removeTimeout=setTimeout(c(Ze,void 0,this._container),200)):Ze(this._container),this.options.interactive&&(Ye(this._container,"leaflet-interactive"),this.removeInteractiveTarget(this._container))},getLatLng:function(){return this._latlng},setLatLng:function(i){return this._latlng=Y(i),this._map&&(this._updatePosition(),this._adjustPan()),this},getContent:function(){return this._content},setContent:function(i){return this._content=i,this.update(),this},getElement:function(){return this._container},update:function(){this._map&&(this._container.style.visibility="hidden",this._updateContent(),this._updateLayout(),this._updatePosition(),this._container.style.visibility="",this._adjustPan())},getEvents:function(){var i={zoom:this._updatePosition,viewreset:this._updatePosition};return this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},isOpen:function(){return!!this._map&&this._map.hasLayer(this)},bringToFront:function(){return this._map&&Zr(this._container),this},bringToBack:function(){return this._map&&Wr(this._container),this},_prepareOpen:function(i){var l=this._source;if(!l._map)return!1;if(l instanceof Wn){l=null;var d=this._source._layers;for(var p in d)if(d[p]._map){l=d[p];break}if(!l)return!1;this._source=l}if(!i)if(l.getCenter)i=l.getCenter();else if(l.getLatLng)i=l.getLatLng();else if(l.getBounds)i=l.getBounds().getCenter();else throw new Error("Unable to get source layer LatLng.");return this.setLatLng(i),this._map&&this.update(),!0},_updateContent:function(){if(this._content){var i=this._contentNode,l=typeof this._content=="function"?this._content(this._source||this):this._content;if(typeof l=="string")i.innerHTML=l;else{for(;i.hasChildNodes();)i.removeChild(i.firstChild);i.appendChild(l)}this.fire("contentupdate")}},_updatePosition:function(){if(this._map){var i=this._map.latLngToLayerPoint(this._latlng),l=$(this.options.offset),d=this._getAnchor();this._zoomAnimated?Je(this._container,i.add(d)):l=l.add(i).add(d);var p=this._containerBottom=-l.y,x=this._containerLeft=-Math.round(this._containerWidth/2)+l.x;this._container.style.bottom=p+"px",this._container.style.left=x+"px"}},_getAnchor:function(){return[0,0]}});Le.include({_initOverlay:function(i,l,d,p){var x=l;return x instanceof i||(x=new i(p).setContent(l)),d&&x.setLatLng(d),x}}),dn.include({_initOverlay:function(i,l,d,p){var x=d;return x instanceof i?(v(x,p),x._source=this):(x=l&&!p?l:new i(p,this),x.setContent(d)),x}});var Va=Ln.extend({options:{pane:"popupPane",offset:[0,7],maxWidth:300,minWidth:50,maxHeight:null,autoPan:!0,autoPanPaddingTopLeft:null,autoPanPaddingBottomRight:null,autoPanPadding:[5,5],keepInView:!1,closeButton:!0,autoClose:!0,closeOnEscapeKey:!0,className:""},openOn:function(i){return i=arguments.length?i:this._source._map,!i.hasLayer(this)&&i._popup&&i._popup.options.autoClose&&i.removeLayer(i._popup),i._popup=this,Ln.prototype.openOn.call(this,i)},onAdd:function(i){Ln.prototype.onAdd.call(this,i),i.fire("popupopen",{popup:this}),this._source&&(this._source.fire("popupopen",{popup:this},!0),this._source instanceof xi||this._source.on("preclick",ur))},onRemove:function(i){Ln.prototype.onRemove.call(this,i),i.fire("popupclose",{popup:this}),this._source&&(this._source.fire("popupclose",{popup:this},!0),this._source instanceof xi||this._source.off("preclick",ur))},getEvents:function(){var i=Ln.prototype.getEvents.call(this);return(this.options.closeOnClick!==void 0?this.options.closeOnClick:this._map.options.closePopupOnClick)&&(i.preclick=this.close),this.options.keepInView&&(i.moveend=this._adjustPan),i},_initLayout:function(){var i="leaflet-popup",l=this._container=Re("div",i+" "+(this.options.className||"")+" leaflet-zoom-animated"),d=this._wrapper=Re("div",i+"-content-wrapper",l);if(this._contentNode=Re("div",i+"-content",d),ho(l),vu(this._contentNode),ve(l,"contextmenu",ur),this._tipContainer=Re("div",i+"-tip-container",l),this._tip=Re("div",i+"-tip",this._tipContainer),this.options.closeButton){var p=this._closeButton=Re("a",i+"-close-button",l);p.setAttribute("role","button"),p.setAttribute("aria-label","Close popup"),p.href="#close",p.innerHTML='<span aria-hidden="true">&#215;</span>',ve(p,"click",function(x){ct(x),this.close()},this)}},_updateLayout:function(){var i=this._contentNode,l=i.style;l.width="",l.whiteSpace="nowrap";var d=i.offsetWidth;d=Math.min(d,this.options.maxWidth),d=Math.max(d,this.options.minWidth),l.width=d+1+"px",l.whiteSpace="",l.height="";var p=i.offsetHeight,x=this.options.maxHeight,P="leaflet-popup-scrolled";x&&p>x?(l.height=x+"px",we(i,P)):Ye(i,P),this._containerWidth=this._container.offsetWidth},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center),d=this._getAnchor();Je(this._container,l.add(d))},_adjustPan:function(){if(this.options.autoPan){if(this._map._panAnim&&this._map._panAnim.stop(),this._autopanning){this._autopanning=!1;return}var i=this._map,l=parseInt(ao(this._container,"marginBottom"),10)||0,d=this._container.offsetHeight+l,p=this._containerWidth,x=new A(this._containerLeft,-d-this._containerBottom);x._add(cr(this._container));var P=i.layerPointToContainerPoint(x),T=$(this.options.autoPanPadding),I=$(this.options.autoPanPaddingTopLeft||T),z=$(this.options.autoPanPaddingBottomRight||T),U=i.getSize(),J=0,pe=0;P.x+p+z.x>U.x&&(J=P.x+p-U.x+z.x),P.x-J-I.x<0&&(J=P.x-I.x),P.y+d+z.y>U.y&&(pe=P.y+d-U.y+z.y),P.y-pe-I.y<0&&(pe=P.y-I.y),(J||pe)&&(this.options.keepInView&&(this._autopanning=!0),i.fire("autopanstart").panBy([J,pe]))}},_getAnchor:function(){return $(this._source&&this._source._getPopupAnchor?this._source._getPopupAnchor():[0,0])}}),PN=function(i,l){return new Va(i,l)};Le.mergeOptions({closePopupOnClick:!0}),Le.include({openPopup:function(i,l,d){return this._initOverlay(Va,i,l,d).openOn(this),this},closePopup:function(i){return i=arguments.length?i:this._popup,i&&i.close(),this}}),dn.include({bindPopup:function(i,l){return this._popup=this._initOverlay(Va,this._popup,i,l),this._popupHandlersAdded||(this.on({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!0),this},unbindPopup:function(){return this._popup&&(this.off({click:this._openPopup,keypress:this._onKeyPress,remove:this.closePopup,move:this._movePopup}),this._popupHandlersAdded=!1,this._popup=null),this},openPopup:function(i){return this._popup&&(this instanceof Wn||(this._popup._source=this),this._popup._prepareOpen(i||this._latlng)&&this._popup.openOn(this._map)),this},closePopup:function(){return this._popup&&this._popup.close(),this},togglePopup:function(){return this._popup&&this._popup.toggle(this),this},isPopupOpen:function(){return this._popup?this._popup.isOpen():!1},setPopupContent:function(i){return this._popup&&this._popup.setContent(i),this},getPopup:function(){return this._popup},_openPopup:function(i){if(!(!this._popup||!this._map)){dr(i);var l=i.layer||i.target;if(this._popup._source===l&&!(l instanceof xi)){this._map.hasLayer(this._popup)?this.closePopup():this.openPopup(i.latlng);return}this._popup._source=l,this.openPopup(i.latlng)}},_movePopup:function(i){this._popup.setLatLng(i.latlng)},_onKeyPress:function(i){i.originalEvent.keyCode===13&&this._openPopup(i)}});var Ua=Ln.extend({options:{pane:"tooltipPane",offset:[0,0],direction:"auto",permanent:!1,sticky:!1,opacity:.9},onAdd:function(i){Ln.prototype.onAdd.call(this,i),this.setOpacity(this.options.opacity),i.fire("tooltipopen",{tooltip:this}),this._source&&(this.addEventParent(this._source),this._source.fire("tooltipopen",{tooltip:this},!0))},onRemove:function(i){Ln.prototype.onRemove.call(this,i),i.fire("tooltipclose",{tooltip:this}),this._source&&(this.removeEventParent(this._source),this._source.fire("tooltipclose",{tooltip:this},!0))},getEvents:function(){var i=Ln.prototype.getEvents.call(this);return this.options.permanent||(i.preclick=this.close),i},_initLayout:function(){var i="leaflet-tooltip",l=i+" "+(this.options.className||"")+" leaflet-zoom-"+(this._zoomAnimated?"animated":"hide");this._contentNode=this._container=Re("div",l),this._container.setAttribute("role","tooltip"),this._container.setAttribute("id","leaflet-tooltip-"+h(this))},_updateLayout:function(){},_adjustPan:function(){},_setPosition:function(i){var l,d,p=this._map,x=this._container,P=p.latLngToContainerPoint(p.getCenter()),T=p.layerPointToContainerPoint(i),I=this.options.direction,z=x.offsetWidth,U=x.offsetHeight,J=$(this.options.offset),pe=this._getAnchor();I==="top"?(l=z/2,d=U):I==="bottom"?(l=z/2,d=0):I==="center"?(l=z/2,d=U/2):I==="right"?(l=0,d=U/2):I==="left"?(l=z,d=U/2):T.x<P.x?(I="right",l=0,d=U/2):(I="left",l=z+(J.x+pe.x)*2,d=U/2),i=i.subtract($(l,d,!0)).add(J).add(pe),Ye(x,"leaflet-tooltip-right"),Ye(x,"leaflet-tooltip-left"),Ye(x,"leaflet-tooltip-top"),Ye(x,"leaflet-tooltip-bottom"),we(x,"leaflet-tooltip-"+I),Je(x,i)},_updatePosition:function(){var i=this._map.latLngToLayerPoint(this._latlng);this._setPosition(i)},setOpacity:function(i){this.options.opacity=i,this._container&&Yt(this._container,i)},_animateZoom:function(i){var l=this._map._latLngToNewLayerPoint(this._latlng,i.zoom,i.center);this._setPosition(l)},_getAnchor:function(){return $(this._source&&this._source._getTooltipAnchor&&!this.options.sticky?this._source._getTooltipAnchor():[0,0])}}),kN=function(i,l){return new Ua(i,l)};Le.include({openTooltip:function(i,l,d){return this._initOverlay(Ua,i,l,d).openOn(this),this},closeTooltip:function(i){return i.close(),this}}),dn.include({bindTooltip:function(i,l){return this._tooltip&&this.isTooltipOpen()&&this.unbindTooltip(),this._tooltip=this._initOverlay(Ua,this._tooltip,i,l),this._initTooltipInteractions(),this._tooltip.options.permanent&&this._map&&this._map.hasLayer(this)&&this.openTooltip(),this},unbindTooltip:function(){return this._tooltip&&(this._initTooltipInteractions(!0),this.closeTooltip(),this._tooltip=null),this},_initTooltipInteractions:function(i){if(!(!i&&this._tooltipHandlersAdded)){var l=i?"off":"on",d={remove:this.closeTooltip,move:this._moveTooltip};this._tooltip.options.permanent?d.add=this._openTooltip:(d.mouseover=this._openTooltip,d.mouseout=this.closeTooltip,d.click=this._openTooltip,this._map?this._addFocusListeners():d.add=this._addFocusListeners),this._tooltip.options.sticky&&(d.mousemove=this._moveTooltip),this[l](d),this._tooltipHandlersAdded=!i}},openTooltip:function(i){return this._tooltip&&(this instanceof Wn||(this._tooltip._source=this),this._tooltip._prepareOpen(i)&&(this._tooltip.openOn(this._map),this.getElement?this._setAriaDescribedByOnLayer(this):this.eachLayer&&this.eachLayer(this._setAriaDescribedByOnLayer,this))),this},closeTooltip:function(){if(this._tooltip)return this._tooltip.close()},toggleTooltip:function(){return this._tooltip&&this._tooltip.toggle(this),this},isTooltipOpen:function(){return this._tooltip.isOpen()},setTooltipContent:function(i){return this._tooltip&&this._tooltip.setContent(i),this},getTooltip:function(){return this._tooltip},_addFocusListeners:function(){this.getElement?this._addFocusListenersOnLayer(this):this.eachLayer&&this.eachLayer(this._addFocusListenersOnLayer,this)},_addFocusListenersOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&(ve(l,"focus",function(){this._tooltip._source=i,this.openTooltip()},this),ve(l,"blur",this.closeTooltip,this))},_setAriaDescribedByOnLayer:function(i){var l=typeof i.getElement=="function"&&i.getElement();l&&l.setAttribute("aria-describedby",this._tooltip._container.id)},_openTooltip:function(i){if(!(!this._tooltip||!this._map)){if(this._map.dragging&&this._map.dragging.moving()&&!this._openOnceFlag){this._openOnceFlag=!0;var l=this;this._map.once("moveend",function(){l._openOnceFlag=!1,l._openTooltip(i)});return}this._tooltip._source=i.layer||i.target,this.openTooltip(this._tooltip.options.sticky?i.latlng:void 0)}},_moveTooltip:function(i){var l=i.latlng,d,p;this._tooltip.options.sticky&&i.originalEvent&&(d=this._map.mouseEventToContainerPoint(i.originalEvent),p=this._map.containerPointToLayerPoint(d),l=this._map.layerPointToLatLng(p)),this._tooltip.setLatLng(l)}});var pm=Kr.extend({options:{iconSize:[12,12],html:!1,bgPos:null,className:"leaflet-div-icon"},createIcon:function(i){var l=i&&i.tagName==="DIV"?i:document.createElement("div"),d=this.options;if(d.html instanceof Element?(La(l),l.appendChild(d.html)):l.innerHTML=d.html!==!1?d.html:"",d.bgPos){var p=$(d.bgPos);l.style.backgroundPosition=-p.x+"px "+-p.y+"px"}return this._setIconStyles(l,"icon"),l},createShadow:function(){return null}});function LN(i){return new pm(i)}Kr.Default=mo;var go=dn.extend({options:{tileSize:256,opacity:1,updateWhenIdle:oe.mobile,updateWhenZooming:!0,updateInterval:200,zIndex:1,bounds:null,minZoom:0,maxZoom:void 0,maxNativeZoom:void 0,minNativeZoom:void 0,noWrap:!1,pane:"tilePane",className:"",keepBuffer:2},initialize:function(i){v(this,i)},onAdd:function(){this._initContainer(),this._levels={},this._tiles={},this._resetView()},beforeAdd:function(i){i._addZoomLimit(this)},onRemove:function(i){this._removeAllTiles(),Ze(this._container),i._removeZoomLimit(this),this._container=null,this._tileZoom=void 0},bringToFront:function(){return this._map&&(Zr(this._container),this._setAutoZIndex(Math.max)),this},bringToBack:function(){return this._map&&(Wr(this._container),this._setAutoZIndex(Math.min)),this},getContainer:function(){return this._container},setOpacity:function(i){return this.options.opacity=i,this._updateOpacity(),this},setZIndex:function(i){return this.options.zIndex=i,this._updateZIndex(),this},isLoading:function(){return this._loading},redraw:function(){if(this._map){this._removeAllTiles();var i=this._clampZoom(this._map.getZoom());i!==this._tileZoom&&(this._tileZoom=i,this._updateLevels()),this._update()}return this},getEvents:function(){var i={viewprereset:this._invalidateAll,viewreset:this._resetView,zoom:this._resetView,moveend:this._onMoveEnd};return this.options.updateWhenIdle||(this._onMove||(this._onMove=f(this._onMoveEnd,this.options.updateInterval,this)),i.move=this._onMove),this._zoomAnimated&&(i.zoomanim=this._animateZoom),i},createTile:function(){return document.createElement("div")},getTileSize:function(){var i=this.options.tileSize;return i instanceof A?i:new A(i,i)},_updateZIndex:function(){this._container&&this.options.zIndex!==void 0&&this.options.zIndex!==null&&(this._container.style.zIndex=this.options.zIndex)},_setAutoZIndex:function(i){for(var l=this.getPane().children,d=-i(-1/0,1/0),p=0,x=l.length,P;p<x;p++)P=l[p].style.zIndex,l[p]!==this._container&&P&&(d=i(d,+P));isFinite(d)&&(this.options.zIndex=d+i(-1,1),this._updateZIndex())},_updateOpacity:function(){if(this._map&&!oe.ielt9){Yt(this._container,this.options.opacity);var i=+new Date,l=!1,d=!1;for(var p in this._tiles){var x=this._tiles[p];if(!(!x.current||!x.loaded)){var P=Math.min(1,(i-x.loaded)/200);Yt(x.el,P),P<1?l=!0:(x.active?d=!0:this._onOpaqueTile(x),x.active=!0)}}d&&!this._noPrune&&this._pruneTiles(),l&&(W(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this))}},_onOpaqueTile:m,_initContainer:function(){this._container||(this._container=Re("div","leaflet-layer "+(this.options.className||"")),this._updateZIndex(),this.options.opacity<1&&this._updateOpacity(),this.getPane().appendChild(this._container))},_updateLevels:function(){var i=this._tileZoom,l=this.options.maxZoom;if(i!==void 0){for(var d in this._levels)d=Number(d),this._levels[d].el.children.length||d===i?(this._levels[d].el.style.zIndex=l-Math.abs(i-d),this._onUpdateLevel(d)):(Ze(this._levels[d].el),this._removeTilesAtZoom(d),this._onRemoveLevel(d),delete this._levels[d]);var p=this._levels[i],x=this._map;return p||(p=this._levels[i]={},p.el=Re("div","leaflet-tile-container leaflet-zoom-animated",this._container),p.el.style.zIndex=l,p.origin=x.project(x.unproject(x.getPixelOrigin()),i).round(),p.zoom=i,this._setZoomTransform(p,x.getCenter(),x.getZoom()),m(p.el.offsetWidth),this._onCreateLevel(p)),this._level=p,p}},_onUpdateLevel:m,_onRemoveLevel:m,_onCreateLevel:m,_pruneTiles:function(){if(this._map){var i,l,d=this._map.getZoom();if(d>this.options.maxZoom||d<this.options.minZoom){this._removeAllTiles();return}for(i in this._tiles)l=this._tiles[i],l.retain=l.current;for(i in this._tiles)if(l=this._tiles[i],l.current&&!l.active){var p=l.coords;this._retainParent(p.x,p.y,p.z,p.z-5)||this._retainChildren(p.x,p.y,p.z,p.z+2)}for(i in this._tiles)this._tiles[i].retain||this._removeTile(i)}},_removeTilesAtZoom:function(i){for(var l in this._tiles)this._tiles[l].coords.z===i&&this._removeTile(l)},_removeAllTiles:function(){for(var i in this._tiles)this._removeTile(i)},_invalidateAll:function(){for(var i in this._levels)Ze(this._levels[i].el),this._onRemoveLevel(Number(i)),delete this._levels[i];this._removeAllTiles(),this._tileZoom=void 0},_retainParent:function(i,l,d,p){var x=Math.floor(i/2),P=Math.floor(l/2),T=d-1,I=new A(+x,+P);I.z=+T;var z=this._tileCoordsToKey(I),U=this._tiles[z];return U&&U.active?(U.retain=!0,!0):(U&&U.loaded&&(U.retain=!0),T>p?this._retainParent(x,P,T,p):!1)},_retainChildren:function(i,l,d,p){for(var x=2*i;x<2*i+2;x++)for(var P=2*l;P<2*l+2;P++){var T=new A(x,P);T.z=d+1;var I=this._tileCoordsToKey(T),z=this._tiles[I];if(z&&z.active){z.retain=!0;continue}else z&&z.loaded&&(z.retain=!0);d+1<p&&this._retainChildren(x,P,d+1,p)}},_resetView:function(i){var l=i&&(i.pinch||i.flyTo);this._setView(this._map.getCenter(),this._map.getZoom(),l,l)},_animateZoom:function(i){this._setView(i.center,i.zoom,!0,i.noUpdate)},_clampZoom:function(i){var l=this.options;return l.minNativeZoom!==void 0&&i<l.minNativeZoom?l.minNativeZoom:l.maxNativeZoom!==void 0&&l.maxNativeZoom<i?l.maxNativeZoom:i},_setView:function(i,l,d,p){var x=Math.round(l);this.options.maxZoom!==void 0&&x>this.options.maxZoom||this.options.minZoom!==void 0&&x<this.options.minZoom?x=void 0:x=this._clampZoom(x);var P=this.options.updateWhenZooming&&x!==this._tileZoom;(!p||P)&&(this._tileZoom=x,this._abortLoading&&this._abortLoading(),this._updateLevels(),this._resetGrid(),x!==void 0&&this._update(i),d||this._pruneTiles(),this._noPrune=!!d),this._setZoomTransforms(i,l)},_setZoomTransforms:function(i,l){for(var d in this._levels)this._setZoomTransform(this._levels[d],i,l)},_setZoomTransform:function(i,l,d){var p=this._map.getZoomScale(d,i.zoom),x=i.origin.multiplyBy(p).subtract(this._map._getNewPixelOrigin(l,d)).round();oe.any3d?lr(i.el,x,p):Je(i.el,x)},_resetGrid:function(){var i=this._map,l=i.options.crs,d=this._tileSize=this.getTileSize(),p=this._tileZoom,x=this._map.getPixelWorldBounds(this._tileZoom);x&&(this._globalTileRange=this._pxBoundsToTileRange(x)),this._wrapX=l.wrapLng&&!this.options.noWrap&&[Math.floor(i.project([0,l.wrapLng[0]],p).x/d.x),Math.ceil(i.project([0,l.wrapLng[1]],p).x/d.y)],this._wrapY=l.wrapLat&&!this.options.noWrap&&[Math.floor(i.project([l.wrapLat[0],0],p).y/d.x),Math.ceil(i.project([l.wrapLat[1],0],p).y/d.y)]},_onMoveEnd:function(){!this._map||this._map._animatingZoom||this._update()},_getTiledPixelBounds:function(i){var l=this._map,d=l._animatingZoom?Math.max(l._animateToZoom,l.getZoom()):l.getZoom(),p=l.getZoomScale(d,this._tileZoom),x=l.project(i,this._tileZoom).floor(),P=l.getSize().divideBy(p*2);return new X(x.subtract(P),x.add(P))},_update:function(i){var l=this._map;if(l){var d=this._clampZoom(l.getZoom());if(i===void 0&&(i=l.getCenter()),this._tileZoom!==void 0){var p=this._getTiledPixelBounds(i),x=this._pxBoundsToTileRange(p),P=x.getCenter(),T=[],I=this.options.keepBuffer,z=new X(x.getBottomLeft().subtract([I,-I]),x.getTopRight().add([I,-I]));if(!(isFinite(x.min.x)&&isFinite(x.min.y)&&isFinite(x.max.x)&&isFinite(x.max.y)))throw new Error("Attempted to load an infinite number of tiles");for(var U in this._tiles){var J=this._tiles[U].coords;(J.z!==this._tileZoom||!z.contains(new A(J.x,J.y)))&&(this._tiles[U].current=!1)}if(Math.abs(d-this._tileZoom)>1){this._setView(i,d);return}for(var pe=x.min.y;pe<=x.max.y;pe++)for(var Ne=x.min.x;Ne<=x.max.x;Ne++){var yt=new A(Ne,pe);if(yt.z=this._tileZoom,!!this._isValidTile(yt)){var st=this._tiles[this._tileCoordsToKey(yt)];st?st.current=!0:T.push(yt)}}if(T.sort(function(Lt,Xr){return Lt.distanceTo(P)-Xr.distanceTo(P)}),T.length!==0){this._loading||(this._loading=!0,this.fire("loading"));var Jt=document.createDocumentFragment();for(Ne=0;Ne<T.length;Ne++)this._addTile(T[Ne],Jt);this._level.el.appendChild(Jt)}}}},_isValidTile:function(i){var l=this._map.options.crs;if(!l.infinite){var d=this._globalTileRange;if(!l.wrapLng&&(i.x<d.min.x||i.x>d.max.x)||!l.wrapLat&&(i.y<d.min.y||i.y>d.max.y))return!1}if(!this.options.bounds)return!0;var p=this._tileCoordsToBounds(i);return B(this.options.bounds).overlaps(p)},_keyToBounds:function(i){return this._tileCoordsToBounds(this._keyToTileCoords(i))},_tileCoordsToNwSe:function(i){var l=this._map,d=this.getTileSize(),p=i.scaleBy(d),x=p.add(d),P=l.unproject(p,i.z),T=l.unproject(x,i.z);return[P,T]},_tileCoordsToBounds:function(i){var l=this._tileCoordsToNwSe(i),d=new Ce(l[0],l[1]);return this.options.noWrap||(d=this._map.wrapLatLngBounds(d)),d},_tileCoordsToKey:function(i){return i.x+":"+i.y+":"+i.z},_keyToTileCoords:function(i){var l=i.split(":"),d=new A(+l[0],+l[1]);return d.z=+l[2],d},_removeTile:function(i){var l=this._tiles[i];l&&(Ze(l.el),delete this._tiles[i],this.fire("tileunload",{tile:l.el,coords:this._keyToTileCoords(i)}))},_initTile:function(i){we(i,"leaflet-tile");var l=this.getTileSize();i.style.width=l.x+"px",i.style.height=l.y+"px",i.onselectstart=m,i.onmousemove=m,oe.ielt9&&this.options.opacity<1&&Yt(i,this.options.opacity)},_addTile:function(i,l){var d=this._getTilePos(i),p=this._tileCoordsToKey(i),x=this.createTile(this._wrapCoords(i),c(this._tileReady,this,i));this._initTile(x),this.createTile.length<2&&Q(c(this._tileReady,this,i,null,x)),Je(x,d),this._tiles[p]={el:x,coords:i,current:!0},l.appendChild(x),this.fire("tileloadstart",{tile:x,coords:i})},_tileReady:function(i,l,d){l&&this.fire("tileerror",{error:l,tile:d,coords:i});var p=this._tileCoordsToKey(i);d=this._tiles[p],d&&(d.loaded=+new Date,this._map._fadeAnimated?(Yt(d.el,0),W(this._fadeFrame),this._fadeFrame=Q(this._updateOpacity,this)):(d.active=!0,this._pruneTiles()),l||(we(d.el,"leaflet-tile-loaded"),this.fire("tileload",{tile:d.el,coords:i})),this._noTilesToLoad()&&(this._loading=!1,this.fire("load"),oe.ielt9||!this._map._fadeAnimated?Q(this._pruneTiles,this):setTimeout(c(this._pruneTiles,this),250)))},_getTilePos:function(i){return i.scaleBy(this.getTileSize()).subtract(this._level.origin)},_wrapCoords:function(i){var l=new A(this._wrapX?g(i.x,this._wrapX):i.x,this._wrapY?g(i.y,this._wrapY):i.y);return l.z=i.z,l},_pxBoundsToTileRange:function(i){var l=this.getTileSize();return new X(i.min.unscaleBy(l).floor(),i.max.unscaleBy(l).ceil().subtract([1,1]))},_noTilesToLoad:function(){for(var i in this._tiles)if(!this._tiles[i].loaded)return!1;return!0}});function EN(i){return new go(i)}var Yr=go.extend({options:{minZoom:0,maxZoom:18,subdomains:"abc",errorTileUrl:"",zoomOffset:0,tms:!1,zoomReverse:!1,detectRetina:!1,crossOrigin:!1,referrerPolicy:!1},initialize:function(i,l){this._url=i,l=v(this,l),l.detectRetina&&oe.retina&&l.maxZoom>0?(l.tileSize=Math.floor(l.tileSize/2),l.zoomReverse?(l.zoomOffset--,l.minZoom=Math.min(l.maxZoom,l.minZoom+1)):(l.zoomOffset++,l.maxZoom=Math.max(l.minZoom,l.maxZoom-1)),l.minZoom=Math.max(0,l.minZoom)):l.zoomReverse?l.minZoom=Math.min(l.maxZoom,l.minZoom):l.maxZoom=Math.max(l.minZoom,l.maxZoom),typeof l.subdomains=="string"&&(l.subdomains=l.subdomains.split("")),this.on("tileunload",this._onTileRemove)},setUrl:function(i,l){return this._url===i&&l===void 0&&(l=!0),this._url=i,l||this.redraw(),this},createTile:function(i,l){var d=document.createElement("img");return ve(d,"load",c(this._tileOnLoad,this,l,d)),ve(d,"error",c(this._tileOnError,this,l,d)),(this.options.crossOrigin||this.options.crossOrigin==="")&&(d.crossOrigin=this.options.crossOrigin===!0?"":this.options.crossOrigin),typeof this.options.referrerPolicy=="string"&&(d.referrerPolicy=this.options.referrerPolicy),d.alt="",d.src=this.getTileUrl(i),d},getTileUrl:function(i){var l={r:oe.retina?"@2x":"",s:this._getSubdomain(i),x:i.x,y:i.y,z:this._getZoomForUrl()};if(this._map&&!this._map.options.crs.infinite){var d=this._globalTileRange.max.y-i.y;this.options.tms&&(l.y=d),l["-y"]=d}return w(this._url,a(l,this.options))},_tileOnLoad:function(i,l){oe.ielt9?setTimeout(c(i,this,null,l),0):i(null,l)},_tileOnError:function(i,l,d){var p=this.options.errorTileUrl;p&&l.getAttribute("src")!==p&&(l.src=p),i(d,l)},_onTileRemove:function(i){i.tile.onload=null},_getZoomForUrl:function(){var i=this._tileZoom,l=this.options.maxZoom,d=this.options.zoomReverse,p=this.options.zoomOffset;return d&&(i=l-i),i+p},_getSubdomain:function(i){var l=Math.abs(i.x+i.y)%this.options.subdomains.length;return this.options.subdomains[l]},_abortLoading:function(){var i,l;for(i in this._tiles)if(this._tiles[i].coords.z!==this._tileZoom&&(l=this._tiles[i].el,l.onload=m,l.onerror=m,!l.complete)){l.src=E;var d=this._tiles[i].coords;Ze(l),delete this._tiles[i],this.fire("tileabort",{tile:l,coords:d})}},_removeTile:function(i){var l=this._tiles[i];if(l)return l.el.setAttribute("src",E),go.prototype._removeTile.call(this,i)},_tileReady:function(i,l,d){if(!(!this._map||d&&d.getAttribute("src")===E))return go.prototype._tileReady.call(this,i,l,d)}});function mm(i,l){return new Yr(i,l)}var gm=Yr.extend({defaultWmsParams:{service:"WMS",request:"GetMap",layers:"",styles:"",format:"image/jpeg",transparent:!1,version:"1.1.1"},options:{crs:null,uppercase:!1},initialize:function(i,l){this._url=i;var d=a({},this.defaultWmsParams);for(var p in l)p in this.options||(d[p]=l[p]);l=v(this,l);var x=l.detectRetina&&oe.retina?2:1,P=this.getTileSize();d.width=P.x*x,d.height=P.y*x,this.wmsParams=d},onAdd:function(i){this._crs=this.options.crs||i.options.crs,this._wmsVersion=parseFloat(this.wmsParams.version);var l=this._wmsVersion>=1.3?"crs":"srs";this.wmsParams[l]=this._crs.code,Yr.prototype.onAdd.call(this,i)},getTileUrl:function(i){var l=this._tileCoordsToNwSe(i),d=this._crs,p=ue(d.project(l[0]),d.project(l[1])),x=p.min,P=p.max,T=(this._wmsVersion>=1.3&&this._crs===lm?[x.y,x.x,P.y,P.x]:[x.x,x.y,P.x,P.y]).join(","),I=Yr.prototype.getTileUrl.call(this,i);return I+S(this.wmsParams,I,this.options.uppercase)+(this.options.uppercase?"&BBOX=":"&bbox=")+T},setParams:function(i,l){return a(this.wmsParams,i),l||this.redraw(),this}});function TN(i,l){return new gm(i,l)}Yr.WMS=gm,mm.wms=TN;var qn=dn.extend({options:{padding:.1},initialize:function(i){v(this,i),h(this),this._layers=this._layers||{}},onAdd:function(){this._container||(this._initContainer(),we(this._container,"leaflet-zoom-animated")),this.getPane().appendChild(this._container),this._update(),this.on("update",this._updatePaths,this)},onRemove:function(){this.off("update",this._updatePaths,this),this._destroyContainer()},getEvents:function(){var i={viewreset:this._reset,zoom:this._onZoom,moveend:this._update,zoomend:this._onZoomEnd};return this._zoomAnimated&&(i.zoomanim=this._onAnimZoom),i},_onAnimZoom:function(i){this._updateTransform(i.center,i.zoom)},_onZoom:function(){this._updateTransform(this._map.getCenter(),this._map.getZoom())},_updateTransform:function(i,l){var d=this._map.getZoomScale(l,this._zoom),p=this._map.getSize().multiplyBy(.5+this.options.padding),x=this._map.project(this._center,l),P=p.multiplyBy(-d).add(x).subtract(this._map._getNewPixelOrigin(i,l));oe.any3d?lr(this._container,P,d):Je(this._container,P)},_reset:function(){this._update(),this._updateTransform(this._center,this._zoom);for(var i in this._layers)this._layers[i]._reset()},_onZoomEnd:function(){for(var i in this._layers)this._layers[i]._project()},_updatePaths:function(){for(var i in this._layers)this._layers[i]._update()},_update:function(){var i=this.options.padding,l=this._map.getSize(),d=this._map.containerPointToLayerPoint(l.multiplyBy(-i)).round();this._bounds=new X(d,d.add(l.multiplyBy(1+i*2)).round()),this._center=this._map.getCenter(),this._zoom=this._map.getZoom()}}),vm=qn.extend({options:{tolerance:0},getEvents:function(){var i=qn.prototype.getEvents.call(this);return i.viewprereset=this._onViewPreReset,i},_onViewPreReset:function(){this._postponeUpdatePaths=!0},onAdd:function(){qn.prototype.onAdd.call(this),this._draw()},_initContainer:function(){var i=this._container=document.createElement("canvas");ve(i,"mousemove",this._onMouseMove,this),ve(i,"click dblclick mousedown mouseup contextmenu",this._onClick,this),ve(i,"mouseout",this._handleMouseOut,this),i._leaflet_disable_events=!0,this._ctx=i.getContext("2d")},_destroyContainer:function(){W(this._redrawRequest),delete this._ctx,Ze(this._container),ze(this._container),delete this._container},_updatePaths:function(){if(!this._postponeUpdatePaths){var i;this._redrawBounds=null;for(var l in this._layers)i=this._layers[l],i._update();this._redraw()}},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var i=this._bounds,l=this._container,d=i.getSize(),p=oe.retina?2:1;Je(l,i.min),l.width=p*d.x,l.height=p*d.y,l.style.width=d.x+"px",l.style.height=d.y+"px",oe.retina&&this._ctx.scale(2,2),this._ctx.translate(-i.min.x,-i.min.y),this.fire("update")}},_reset:function(){qn.prototype._reset.call(this),this._postponeUpdatePaths&&(this._postponeUpdatePaths=!1,this._updatePaths())},_initPath:function(i){this._updateDashArray(i),this._layers[h(i)]=i;var l=i._order={layer:i,prev:this._drawLast,next:null};this._drawLast&&(this._drawLast.next=l),this._drawLast=l,this._drawFirst=this._drawFirst||this._drawLast},_addPath:function(i){this._requestRedraw(i)},_removePath:function(i){var l=i._order,d=l.next,p=l.prev;d?d.prev=p:this._drawLast=p,p?p.next=d:this._drawFirst=d,delete i._order,delete this._layers[h(i)],this._requestRedraw(i)},_updatePath:function(i){this._extendRedrawBounds(i),i._project(),i._update(),this._requestRedraw(i)},_updateStyle:function(i){this._updateDashArray(i),this._requestRedraw(i)},_updateDashArray:function(i){if(typeof i.options.dashArray=="string"){var l=i.options.dashArray.split(/[, ]+/),d=[],p,x;for(x=0;x<l.length;x++){if(p=Number(l[x]),isNaN(p))return;d.push(p)}i.options._dashArray=d}else i.options._dashArray=i.options.dashArray},_requestRedraw:function(i){this._map&&(this._extendRedrawBounds(i),this._redrawRequest=this._redrawRequest||Q(this._redraw,this))},_extendRedrawBounds:function(i){if(i._pxBounds){var l=(i.options.weight||0)+1;this._redrawBounds=this._redrawBounds||new X,this._redrawBounds.extend(i._pxBounds.min.subtract([l,l])),this._redrawBounds.extend(i._pxBounds.max.add([l,l]))}},_redraw:function(){this._redrawRequest=null,this._redrawBounds&&(this._redrawBounds.min._floor(),this._redrawBounds.max._ceil()),this._clear(),this._draw(),this._redrawBounds=null},_clear:function(){var i=this._redrawBounds;if(i){var l=i.getSize();this._ctx.clearRect(i.min.x,i.min.y,l.x,l.y)}else this._ctx.save(),this._ctx.setTransform(1,0,0,1,0,0),this._ctx.clearRect(0,0,this._container.width,this._container.height),this._ctx.restore()},_draw:function(){var i,l=this._redrawBounds;if(this._ctx.save(),l){var d=l.getSize();this._ctx.beginPath(),this._ctx.rect(l.min.x,l.min.y,d.x,d.y),this._ctx.clip()}this._drawing=!0;for(var p=this._drawFirst;p;p=p.next)i=p.layer,(!l||i._pxBounds&&i._pxBounds.intersects(l))&&i._updatePath();this._drawing=!1,this._ctx.restore()},_updatePoly:function(i,l){if(this._drawing){var d,p,x,P,T=i._parts,I=T.length,z=this._ctx;if(I){for(z.beginPath(),d=0;d<I;d++){for(p=0,x=T[d].length;p<x;p++)P=T[d][p],z[p?"lineTo":"moveTo"](P.x,P.y);l&&z.closePath()}this._fillStroke(z,i)}}},_updateCircle:function(i){if(!(!this._drawing||i._empty())){var l=i._point,d=this._ctx,p=Math.max(Math.round(i._radius),1),x=(Math.max(Math.round(i._radiusY),1)||p)/p;x!==1&&(d.save(),d.scale(1,x)),d.beginPath(),d.arc(l.x,l.y/x,p,0,Math.PI*2,!1),x!==1&&d.restore(),this._fillStroke(d,i)}},_fillStroke:function(i,l){var d=l.options;d.fill&&(i.globalAlpha=d.fillOpacity,i.fillStyle=d.fillColor||d.color,i.fill(d.fillRule||"evenodd")),d.stroke&&d.weight!==0&&(i.setLineDash&&i.setLineDash(l.options&&l.options._dashArray||[]),i.globalAlpha=d.opacity,i.lineWidth=d.weight,i.strokeStyle=d.color,i.lineCap=d.lineCap,i.lineJoin=d.lineJoin,i.stroke())},_onClick:function(i){for(var l=this._map.mouseEventToLayerPoint(i),d,p,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(l)&&(!(i.type==="click"||i.type==="preclick")||!this._map._draggableMoved(d))&&(p=d);this._fireEvent(p?[p]:!1,i)},_onMouseMove:function(i){if(!(!this._map||this._map.dragging.moving()||this._map._animatingZoom)){var l=this._map.mouseEventToLayerPoint(i);this._handleMouseHover(i,l)}},_handleMouseOut:function(i){var l=this._hoveredLayer;l&&(Ye(this._container,"leaflet-interactive"),this._fireEvent([l],i,"mouseout"),this._hoveredLayer=null,this._mouseHoverThrottled=!1)},_handleMouseHover:function(i,l){if(!this._mouseHoverThrottled){for(var d,p,x=this._drawFirst;x;x=x.next)d=x.layer,d.options.interactive&&d._containsPoint(l)&&(p=d);p!==this._hoveredLayer&&(this._handleMouseOut(i),p&&(we(this._container,"leaflet-interactive"),this._fireEvent([p],i,"mouseover"),this._hoveredLayer=p)),this._fireEvent(this._hoveredLayer?[this._hoveredLayer]:!1,i),this._mouseHoverThrottled=!0,setTimeout(c(function(){this._mouseHoverThrottled=!1},this),32)}},_fireEvent:function(i,l,d){this._map._fireDOMEvent(l,d||l.type,i)},_bringToFront:function(i){var l=i._order;if(l){var d=l.next,p=l.prev;if(d)d.prev=p;else return;p?p.next=d:d&&(this._drawFirst=d),l.prev=this._drawLast,this._drawLast.next=l,l.next=null,this._drawLast=l,this._requestRedraw(i)}},_bringToBack:function(i){var l=i._order;if(l){var d=l.next,p=l.prev;if(p)p.next=d;else return;d?d.prev=p:p&&(this._drawLast=p),l.prev=null,l.next=this._drawFirst,this._drawFirst.prev=l,this._drawFirst=l,this._requestRedraw(i)}}});function xm(i){return oe.canvas?new vm(i):null}var vo=function(){try{return document.namespaces.add("lvml","urn:schemas-microsoft-com:vml"),function(i){return document.createElement("<lvml:"+i+' class="lvml">')}}catch{}return function(i){return document.createElement("<"+i+' xmlns="urn:schemas-microsoft.com:vml" class="lvml">')}}(),MN={_initContainer:function(){this._container=Re("div","leaflet-vml-container")},_update:function(){this._map._animatingZoom||(qn.prototype._update.call(this),this.fire("update"))},_initPath:function(i){var l=i._container=vo("shape");we(l,"leaflet-vml-shape "+(this.options.className||"")),l.coordsize="1 1",i._path=vo("path"),l.appendChild(i._path),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){var l=i._container;this._container.appendChild(l),i.options.interactive&&i.addInteractiveTarget(l)},_removePath:function(i){var l=i._container;Ze(l),i.removeInteractiveTarget(l),delete this._layers[h(i)]},_updateStyle:function(i){var l=i._stroke,d=i._fill,p=i.options,x=i._container;x.stroked=!!p.stroke,x.filled=!!p.fill,p.stroke?(l||(l=i._stroke=vo("stroke")),x.appendChild(l),l.weight=p.weight+"px",l.color=p.color,l.opacity=p.opacity,p.dashArray?l.dashStyle=C(p.dashArray)?p.dashArray.join(" "):p.dashArray.replace(/( *, *)/g," "):l.dashStyle="",l.endcap=p.lineCap.replace("butt","flat"),l.joinstyle=p.lineJoin):l&&(x.removeChild(l),i._stroke=null),p.fill?(d||(d=i._fill=vo("fill")),x.appendChild(d),d.color=p.fillColor||p.color,d.opacity=p.fillOpacity):d&&(x.removeChild(d),i._fill=null)},_updateCircle:function(i){var l=i._point.round(),d=Math.round(i._radius),p=Math.round(i._radiusY||d);this._setPath(i,i._empty()?"M0 0":"AL "+l.x+","+l.y+" "+d+","+p+" 0,"+65535*360)},_setPath:function(i,l){i._path.v=l},_bringToFront:function(i){Zr(i._container)},_bringToBack:function(i){Wr(i._container)}},Ha=oe.vml?vo:mi,xo=qn.extend({_initContainer:function(){this._container=Ha("svg"),this._container.setAttribute("pointer-events","none"),this._rootGroup=Ha("g"),this._container.appendChild(this._rootGroup)},_destroyContainer:function(){Ze(this._container),ze(this._container),delete this._container,delete this._rootGroup,delete this._svgSize},_update:function(){if(!(this._map._animatingZoom&&this._bounds)){qn.prototype._update.call(this);var i=this._bounds,l=i.getSize(),d=this._container;(!this._svgSize||!this._svgSize.equals(l))&&(this._svgSize=l,d.setAttribute("width",l.x),d.setAttribute("height",l.y)),Je(d,i.min),d.setAttribute("viewBox",[i.min.x,i.min.y,l.x,l.y].join(" ")),this.fire("update")}},_initPath:function(i){var l=i._path=Ha("path");i.options.className&&we(l,i.options.className),i.options.interactive&&we(l,"leaflet-interactive"),this._updateStyle(i),this._layers[h(i)]=i},_addPath:function(i){this._rootGroup||this._initContainer(),this._rootGroup.appendChild(i._path),i.addInteractiveTarget(i._path)},_removePath:function(i){Ze(i._path),i.removeInteractiveTarget(i._path),delete this._layers[h(i)]},_updatePath:function(i){i._project(),i._update()},_updateStyle:function(i){var l=i._path,d=i.options;l&&(d.stroke?(l.setAttribute("stroke",d.color),l.setAttribute("stroke-opacity",d.opacity),l.setAttribute("stroke-width",d.weight),l.setAttribute("stroke-linecap",d.lineCap),l.setAttribute("stroke-linejoin",d.lineJoin),d.dashArray?l.setAttribute("stroke-dasharray",d.dashArray):l.removeAttribute("stroke-dasharray"),d.dashOffset?l.setAttribute("stroke-dashoffset",d.dashOffset):l.removeAttribute("stroke-dashoffset")):l.setAttribute("stroke","none"),d.fill?(l.setAttribute("fill",d.fillColor||d.color),l.setAttribute("fill-opacity",d.fillOpacity),l.setAttribute("fill-rule",d.fillRule||"evenodd")):l.setAttribute("fill","none"))},_updatePoly:function(i,l){this._setPath(i,gi(i._parts,l))},_updateCircle:function(i){var l=i._point,d=Math.max(Math.round(i._radius),1),p=Math.max(Math.round(i._radiusY),1)||d,x="a"+d+","+p+" 0 1,0 ",P=i._empty()?"M0 0":"M"+(l.x-d)+","+l.y+x+d*2+",0 "+x+-d*2+",0 ";this._setPath(i,P)},_setPath:function(i,l){i._path.setAttribute("d",l)},_bringToFront:function(i){Zr(i._path)},_bringToBack:function(i){Wr(i._path)}});oe.vml&&xo.include(MN);function ym(i){return oe.svg||oe.vml?new xo(i):null}Le.include({getRenderer:function(i){var l=i.options.renderer||this._getPaneRenderer(i.options.pane)||this.options.renderer||this._renderer;return l||(l=this._renderer=this._createRenderer()),this.hasLayer(l)||this.addLayer(l),l},_getPaneRenderer:function(i){if(i==="overlayPane"||i===void 0)return!1;var l=this._paneRenderers[i];return l===void 0&&(l=this._createRenderer({pane:i}),this._paneRenderers[i]=l),l},_createRenderer:function(i){return this.options.preferCanvas&&xm(i)||ym(i)}});var _m=qr.extend({initialize:function(i,l){qr.prototype.initialize.call(this,this._boundsToLatLngs(i),l)},setBounds:function(i){return this.setLatLngs(this._boundsToLatLngs(i))},_boundsToLatLngs:function(i){return i=B(i),[i.getSouthWest(),i.getNorthWest(),i.getNorthEast(),i.getSouthEast()]}});function RN(i,l){return new _m(i,l)}xo.create=Ha,xo.pointsToPath=gi,Kn.geometryToLayer=Da,Kn.coordsToLatLng=ju,Kn.coordsToLatLngs=za,Kn.latLngToCoords=Pu,Kn.latLngsToCoords=Fa,Kn.getFeature=Qr,Kn.asFeature=Ba,Le.mergeOptions({boxZoom:!0});var wm=kn.extend({initialize:function(i){this._map=i,this._container=i._container,this._pane=i._panes.overlayPane,this._resetStateTimeout=0,i.on("unload",this._destroy,this)},addHooks:function(){ve(this._container,"mousedown",this._onMouseDown,this)},removeHooks:function(){ze(this._container,"mousedown",this._onMouseDown,this)},moved:function(){return this._moved},_destroy:function(){Ze(this._pane),delete this._pane},_resetState:function(){this._resetStateTimeout=0,this._moved=!1},_clearDeferredResetState:function(){this._resetStateTimeout!==0&&(clearTimeout(this._resetStateTimeout),this._resetStateTimeout=0)},_onMouseDown:function(i){if(!i.shiftKey||i.which!==1&&i.button!==1)return!1;this._clearDeferredResetState(),this._resetState(),lo(),cu(),this._startPoint=this._map.mouseEventToContainerPoint(i),ve(document,{contextmenu:dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseMove:function(i){this._moved||(this._moved=!0,this._box=Re("div","leaflet-zoom-box",this._container),we(this._container,"leaflet-crosshair"),this._map.fire("boxzoomstart")),this._point=this._map.mouseEventToContainerPoint(i);var l=new X(this._point,this._startPoint),d=l.getSize();Je(this._box,l.min),this._box.style.width=d.x+"px",this._box.style.height=d.y+"px"},_finish:function(){this._moved&&(Ze(this._box),Ye(this._container,"leaflet-crosshair")),co(),uu(),ze(document,{contextmenu:dr,mousemove:this._onMouseMove,mouseup:this._onMouseUp,keydown:this._onKeyDown},this)},_onMouseUp:function(i){if(!(i.which!==1&&i.button!==1)&&(this._finish(),!!this._moved)){this._clearDeferredResetState(),this._resetStateTimeout=setTimeout(c(this._resetState,this),0);var l=new Ce(this._map.containerPointToLatLng(this._startPoint),this._map.containerPointToLatLng(this._point));this._map.fitBounds(l).fire("boxzoomend",{boxZoomBounds:l})}},_onKeyDown:function(i){i.keyCode===27&&(this._finish(),this._clearDeferredResetState(),this._resetState())}});Le.addInitHook("addHandler","boxZoom",wm),Le.mergeOptions({doubleClickZoom:!0});var bm=kn.extend({addHooks:function(){this._map.on("dblclick",this._onDoubleClick,this)},removeHooks:function(){this._map.off("dblclick",this._onDoubleClick,this)},_onDoubleClick:function(i){var l=this._map,d=l.getZoom(),p=l.options.zoomDelta,x=i.originalEvent.shiftKey?d-p:d+p;l.options.doubleClickZoom==="center"?l.setZoom(x):l.setZoomAround(i.containerPoint,x)}});Le.addInitHook("addHandler","doubleClickZoom",bm),Le.mergeOptions({dragging:!0,inertia:!0,inertiaDeceleration:3400,inertiaMaxSpeed:1/0,easeLinearity:.2,worldCopyJump:!1,maxBoundsViscosity:0});var Nm=kn.extend({addHooks:function(){if(!this._draggable){var i=this._map;this._draggable=new vi(i._mapPane,i._container),this._draggable.on({dragstart:this._onDragStart,drag:this._onDrag,dragend:this._onDragEnd},this),this._draggable.on("predrag",this._onPreDragLimit,this),i.options.worldCopyJump&&(this._draggable.on("predrag",this._onPreDragWrap,this),i.on("zoomend",this._onZoomEnd,this),i.whenReady(this._onZoomEnd,this))}we(this._map._container,"leaflet-grab leaflet-touch-drag"),this._draggable.enable(),this._positions=[],this._times=[]},removeHooks:function(){Ye(this._map._container,"leaflet-grab"),Ye(this._map._container,"leaflet-touch-drag"),this._draggable.disable()},moved:function(){return this._draggable&&this._draggable._moved},moving:function(){return this._draggable&&this._draggable._moving},_onDragStart:function(){var i=this._map;if(i._stop(),this._map.options.maxBounds&&this._map.options.maxBoundsViscosity){var l=B(this._map.options.maxBounds);this._offsetLimit=ue(this._map.latLngToContainerPoint(l.getNorthWest()).multiplyBy(-1),this._map.latLngToContainerPoint(l.getSouthEast()).multiplyBy(-1).add(this._map.getSize())),this._viscosity=Math.min(1,Math.max(0,this._map.options.maxBoundsViscosity))}else this._offsetLimit=null;i.fire("movestart").fire("dragstart"),i.options.inertia&&(this._positions=[],this._times=[])},_onDrag:function(i){if(this._map.options.inertia){var l=this._lastTime=+new Date,d=this._lastPos=this._draggable._absPos||this._draggable._newPos;this._positions.push(d),this._times.push(l),this._prunePositions(l)}this._map.fire("move",i).fire("drag",i)},_prunePositions:function(i){for(;this._positions.length>1&&i-this._times[0]>50;)this._positions.shift(),this._times.shift()},_onZoomEnd:function(){var i=this._map.getSize().divideBy(2),l=this._map.latLngToLayerPoint([0,0]);this._initialWorldOffset=l.subtract(i).x,this._worldWidth=this._map.getPixelWorldBounds().getSize().x},_viscousLimit:function(i,l){return i-(i-l)*this._viscosity},_onPreDragLimit:function(){if(!(!this._viscosity||!this._offsetLimit)){var i=this._draggable._newPos.subtract(this._draggable._startPos),l=this._offsetLimit;i.x<l.min.x&&(i.x=this._viscousLimit(i.x,l.min.x)),i.y<l.min.y&&(i.y=this._viscousLimit(i.y,l.min.y)),i.x>l.max.x&&(i.x=this._viscousLimit(i.x,l.max.x)),i.y>l.max.y&&(i.y=this._viscousLimit(i.y,l.max.y)),this._draggable._newPos=this._draggable._startPos.add(i)}},_onPreDragWrap:function(){var i=this._worldWidth,l=Math.round(i/2),d=this._initialWorldOffset,p=this._draggable._newPos.x,x=(p-l+d)%i+l-d,P=(p+l+d)%i-l-d,T=Math.abs(x+d)<Math.abs(P+d)?x:P;this._draggable._absPos=this._draggable._newPos.clone(),this._draggable._newPos.x=T},_onDragEnd:function(i){var l=this._map,d=l.options,p=!d.inertia||i.noInertia||this._times.length<2;if(l.fire("dragend",i),p)l.fire("moveend");else{this._prunePositions(+new Date);var x=this._lastPos.subtract(this._positions[0]),P=(this._lastTime-this._times[0])/1e3,T=d.easeLinearity,I=x.multiplyBy(T/P),z=I.distanceTo([0,0]),U=Math.min(d.inertiaMaxSpeed,z),J=I.multiplyBy(U/z),pe=U/(d.inertiaDeceleration*T),Ne=J.multiplyBy(-pe/2).round();!Ne.x&&!Ne.y?l.fire("moveend"):(Ne=l._limitOffset(Ne,l.options.maxBounds),Q(function(){l.panBy(Ne,{duration:pe,easeLinearity:T,noMoveStart:!0,animate:!0})}))}}});Le.addInitHook("addHandler","dragging",Nm),Le.mergeOptions({keyboard:!0,keyboardPanDelta:80});var Cm=kn.extend({keyCodes:{left:[37],right:[39],down:[40],up:[38],zoomIn:[187,107,61,171],zoomOut:[189,109,54,173]},initialize:function(i){this._map=i,this._setPanDelta(i.options.keyboardPanDelta),this._setZoomDelta(i.options.zoomDelta)},addHooks:function(){var i=this._map._container;i.tabIndex<=0&&(i.tabIndex="0"),ve(i,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.on({focus:this._addHooks,blur:this._removeHooks},this)},removeHooks:function(){this._removeHooks(),ze(this._map._container,{focus:this._onFocus,blur:this._onBlur,mousedown:this._onMouseDown},this),this._map.off({focus:this._addHooks,blur:this._removeHooks},this)},_onMouseDown:function(){if(!this._focused){var i=document.body,l=document.documentElement,d=i.scrollTop||l.scrollTop,p=i.scrollLeft||l.scrollLeft;this._map._container.focus(),window.scrollTo(p,d)}},_onFocus:function(){this._focused=!0,this._map.fire("focus")},_onBlur:function(){this._focused=!1,this._map.fire("blur")},_setPanDelta:function(i){var l=this._panKeys={},d=this.keyCodes,p,x;for(p=0,x=d.left.length;p<x;p++)l[d.left[p]]=[-1*i,0];for(p=0,x=d.right.length;p<x;p++)l[d.right[p]]=[i,0];for(p=0,x=d.down.length;p<x;p++)l[d.down[p]]=[0,i];for(p=0,x=d.up.length;p<x;p++)l[d.up[p]]=[0,-1*i]},_setZoomDelta:function(i){var l=this._zoomKeys={},d=this.keyCodes,p,x;for(p=0,x=d.zoomIn.length;p<x;p++)l[d.zoomIn[p]]=i;for(p=0,x=d.zoomOut.length;p<x;p++)l[d.zoomOut[p]]=-i},_addHooks:function(){ve(document,"keydown",this._onKeyDown,this)},_removeHooks:function(){ze(document,"keydown",this._onKeyDown,this)},_onKeyDown:function(i){if(!(i.altKey||i.ctrlKey||i.metaKey)){var l=i.keyCode,d=this._map,p;if(l in this._panKeys){if(!d._panAnim||!d._panAnim._inProgress)if(p=this._panKeys[l],i.shiftKey&&(p=$(p).multiplyBy(3)),d.options.maxBounds&&(p=d._limitOffset($(p),d.options.maxBounds)),d.options.worldCopyJump){var x=d.wrapLatLng(d.unproject(d.project(d.getCenter()).add(p)));d.panTo(x)}else d.panBy(p)}else if(l in this._zoomKeys)d.setZoom(d.getZoom()+(i.shiftKey?3:1)*this._zoomKeys[l]);else if(l===27&&d._popup&&d._popup.options.closeOnEscapeKey)d.closePopup();else return;dr(i)}}});Le.addInitHook("addHandler","keyboard",Cm),Le.mergeOptions({scrollWheelZoom:!0,wheelDebounceTime:40,wheelPxPerZoomLevel:60});var Sm=kn.extend({addHooks:function(){ve(this._map._container,"wheel",this._onWheelScroll,this),this._delta=0},removeHooks:function(){ze(this._map._container,"wheel",this._onWheelScroll,this)},_onWheelScroll:function(i){var l=qp(i),d=this._map.options.wheelDebounceTime;this._delta+=l,this._lastMousePos=this._map.mouseEventToContainerPoint(i),this._startTime||(this._startTime=+new Date);var p=Math.max(d-(+new Date-this._startTime),0);clearTimeout(this._timer),this._timer=setTimeout(c(this._performZoom,this),p),dr(i)},_performZoom:function(){var i=this._map,l=i.getZoom(),d=this._map.options.zoomSnap||0;i._stop();var p=this._delta/(this._map.options.wheelPxPerZoomLevel*4),x=4*Math.log(2/(1+Math.exp(-Math.abs(p))))/Math.LN2,P=d?Math.ceil(x/d)*d:x,T=i._limitZoom(l+(this._delta>0?P:-P))-l;this._delta=0,this._startTime=null,T&&(i.options.scrollWheelZoom==="center"?i.setZoom(l+T):i.setZoomAround(this._lastMousePos,l+T))}});Le.addInitHook("addHandler","scrollWheelZoom",Sm);var ON=600;Le.mergeOptions({tapHold:oe.touchNative&&oe.safari&&oe.mobile,tapTolerance:15});var jm=kn.extend({addHooks:function(){ve(this._map._container,"touchstart",this._onDown,this)},removeHooks:function(){ze(this._map._container,"touchstart",this._onDown,this)},_onDown:function(i){if(clearTimeout(this._holdTimeout),i.touches.length===1){var l=i.touches[0];this._startPos=this._newPos=new A(l.clientX,l.clientY),this._holdTimeout=setTimeout(c(function(){this._cancel(),this._isTapValid()&&(ve(document,"touchend",ct),ve(document,"touchend touchcancel",this._cancelClickPrevent),this._simulateEvent("contextmenu",l))},this),ON),ve(document,"touchend touchcancel contextmenu",this._cancel,this),ve(document,"touchmove",this._onMove,this)}},_cancelClickPrevent:function i(){ze(document,"touchend",ct),ze(document,"touchend touchcancel",i)},_cancel:function(){clearTimeout(this._holdTimeout),ze(document,"touchend touchcancel contextmenu",this._cancel,this),ze(document,"touchmove",this._onMove,this)},_onMove:function(i){var l=i.touches[0];this._newPos=new A(l.clientX,l.clientY)},_isTapValid:function(){return this._newPos.distanceTo(this._startPos)<=this._map.options.tapTolerance},_simulateEvent:function(i,l){var d=new MouseEvent(i,{bubbles:!0,cancelable:!0,view:window,screenX:l.screenX,screenY:l.screenY,clientX:l.clientX,clientY:l.clientY});d._simulated=!0,l.target.dispatchEvent(d)}});Le.addInitHook("addHandler","tapHold",jm),Le.mergeOptions({touchZoom:oe.touch,bounceAtZoomLimits:!0});var Pm=kn.extend({addHooks:function(){we(this._map._container,"leaflet-touch-zoom"),ve(this._map._container,"touchstart",this._onTouchStart,this)},removeHooks:function(){Ye(this._map._container,"leaflet-touch-zoom"),ze(this._map._container,"touchstart",this._onTouchStart,this)},_onTouchStart:function(i){var l=this._map;if(!(!i.touches||i.touches.length!==2||l._animatingZoom||this._zooming)){var d=l.mouseEventToContainerPoint(i.touches[0]),p=l.mouseEventToContainerPoint(i.touches[1]);this._centerPoint=l.getSize()._divideBy(2),this._startLatLng=l.containerPointToLatLng(this._centerPoint),l.options.touchZoom!=="center"&&(this._pinchStartLatLng=l.containerPointToLatLng(d.add(p)._divideBy(2))),this._startDist=d.distanceTo(p),this._startZoom=l.getZoom(),this._moved=!1,this._zooming=!0,l._stop(),ve(document,"touchmove",this._onTouchMove,this),ve(document,"touchend touchcancel",this._onTouchEnd,this),ct(i)}},_onTouchMove:function(i){if(!(!i.touches||i.touches.length!==2||!this._zooming)){var l=this._map,d=l.mouseEventToContainerPoint(i.touches[0]),p=l.mouseEventToContainerPoint(i.touches[1]),x=d.distanceTo(p)/this._startDist;if(this._zoom=l.getScaleZoom(x,this._startZoom),!l.options.bounceAtZoomLimits&&(this._zoom<l.getMinZoom()&&x<1||this._zoom>l.getMaxZoom()&&x>1)&&(this._zoom=l._limitZoom(this._zoom)),l.options.touchZoom==="center"){if(this._center=this._startLatLng,x===1)return}else{var P=d._add(p)._divideBy(2)._subtract(this._centerPoint);if(x===1&&P.x===0&&P.y===0)return;this._center=l.unproject(l.project(this._pinchStartLatLng,this._zoom).subtract(P),this._zoom)}this._moved||(l._moveStart(!0,!1),this._moved=!0),W(this._animRequest);var T=c(l._move,l,this._center,this._zoom,{pinch:!0,round:!1},void 0);this._animRequest=Q(T,this,!0),ct(i)}},_onTouchEnd:function(){if(!this._moved||!this._zooming){this._zooming=!1;return}this._zooming=!1,W(this._animRequest),ze(document,"touchmove",this._onTouchMove,this),ze(document,"touchend touchcancel",this._onTouchEnd,this),this._map.options.zoomAnimation?this._map._animateZoom(this._center,this._map._limitZoom(this._zoom),!0,this._map.options.zoomSnap):this._map._resetView(this._center,this._map._limitZoom(this._zoom))}});Le.addInitHook("addHandler","touchZoom",Pm),Le.BoxZoom=wm,Le.DoubleClickZoom=bm,Le.Drag=Nm,Le.Keyboard=Cm,Le.ScrollWheelZoom=Sm,Le.TapHold=jm,Le.TouchZoom=Pm,n.Bounds=X,n.Browser=oe,n.CRS=F,n.Canvas=vm,n.Circle=Su,n.CircleMarker=Ia,n.Class=Z,n.Control=un,n.DivIcon=pm,n.DivOverlay=Ln,n.DomEvent=Xb,n.DomUtil=Qb,n.Draggable=vi,n.Evented=se,n.FeatureGroup=Wn,n.GeoJSON=Kn,n.GridLayer=go,n.Handler=kn,n.Icon=Kr,n.ImageOverlay=$a,n.LatLng=ee,n.LatLngBounds=Ce,n.Layer=dn,n.LayerGroup=Gr,n.LineUtil=dN,n.Map=Le,n.Marker=Aa,n.Mixin=sN,n.Path=xi,n.Point=A,n.PolyUtil=oN,n.Polygon=qr,n.Polyline=Gn,n.Popup=Va,n.PosAnimation=Qp,n.Projection=hN,n.Rectangle=_m,n.Renderer=qn,n.SVG=xo,n.SVGOverlay=fm,n.TileLayer=Yr,n.Tooltip=Ua,n.Transformation=Pe,n.Util=le,n.VideoOverlay=hm,n.bind=c,n.bounds=ue,n.canvas=xm,n.circle=_N,n.circleMarker=yN,n.control=fo,n.divIcon=LN,n.extend=a,n.featureGroup=gN,n.geoJSON=dm,n.geoJson=NN,n.gridLayer=EN,n.icon=vN,n.imageOverlay=CN,n.latLng=Y,n.latLngBounds=B,n.layerGroup=mN,n.map=Jb,n.marker=xN,n.point=$,n.polygon=bN,n.polyline=wN,n.popup=PN,n.rectangle=RN,n.setOptions=v,n.stamp=h,n.svg=ym,n.svgOverlay=jN,n.tileLayer=mm,n.tooltip=kN,n.transformation=ke,n.version=r,n.videoOverlay=SN;var AN=window.L;n.noConflict=function(){return window.L=AN,this},window.L=n})})(Oh,Oh.exports);var YE=Oh.exports;const en=Hh(YE);var wv={exports:{}};(function(e,t){(function(n,r){r(t)})(Kv,function(n){var r=L.MarkerClusterGroup=L.FeatureGroup.extend({options:{maxClusterRadius:80,iconCreateFunction:null,clusterPane:L.Marker.prototype.options.pane,spiderfyOnEveryZoom:!1,spiderfyOnMaxZoom:!0,showCoverageOnHover:!0,zoomToBoundsOnClick:!0,singleMarkerMode:!1,disableClusteringAtZoom:null,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!1,spiderfyShapePositions:null,spiderfyDistanceMultiplier:1,spiderLegPolylineOptions:{weight:1.5,color:"#222",opacity:.5},chunkedLoading:!1,chunkInterval:200,chunkDelay:50,chunkProgress:null,polygonOptions:{}},initialize:function(s){L.Util.setOptions(this,s),this.options.iconCreateFunction||(this.options.iconCreateFunction=this._defaultIconCreateFunction),this._featureGroup=L.featureGroup(),this._featureGroup.addEventParent(this),this._nonPointGroup=L.featureGroup(),this._nonPointGroup.addEventParent(this),this._inZoomAnimation=0,this._needsClustering=[],this._needsRemoving=[],this._currentShownBounds=null,this._queue=[],this._childMarkerEventHandlers={dragstart:this._childMarkerDragStart,move:this._childMarkerMoved,dragend:this._childMarkerDragEnd};var c=L.DomUtil.TRANSITION&&this.options.animate;L.extend(this,c?this._withAnimation:this._noAnimation),this._markerCluster=c?L.MarkerCluster:L.MarkerClusterNonAnimated},addLayer:function(s){if(s instanceof L.LayerGroup)return this.addLayers([s]);if(!s.getLatLng)return this._nonPointGroup.addLayer(s),this.fire("layeradd",{layer:s}),this;if(!this._map)return this._needsClustering.push(s),this.fire("layeradd",{layer:s}),this;if(this.hasLayer(s))return this;this._unspiderfy&&this._unspiderfy(),this._addLayer(s,this._maxZoom),this.fire("layeradd",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons();var c=s,u=this._zoom;if(s.__parent)for(;c.__parent._zoom>=u;)c=c.__parent;return this._currentShownBounds.contains(c.getLatLng())&&(this.options.animateAddingMarkers?this._animationAddLayer(s,c):this._animationAddLayerNonAnimated(s,c)),this},removeLayer:function(s){return s instanceof L.LayerGroup?this.removeLayers([s]):s.getLatLng?this._map?s.__parent?(this._unspiderfy&&(this._unspiderfy(),this._unspiderfyLayer(s)),this._removeLayer(s,!0),this.fire("layerremove",{layer:s}),this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),s.off(this._childMarkerEventHandlers,this),this._featureGroup.hasLayer(s)&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow()),this):this:(!this._arraySplice(this._needsClustering,s)&&this.hasLayer(s)&&this._needsRemoving.push({layer:s,latlng:s._latlng}),this.fire("layerremove",{layer:s}),this):(this._nonPointGroup.removeLayer(s),this.fire("layerremove",{layer:s}),this)},addLayers:function(s,c){if(!L.Util.isArray(s))return this.addLayer(s);var u=this._featureGroup,h=this._nonPointGroup,f=this.options.chunkedLoading,g=this.options.chunkInterval,m=this.options.chunkProgress,y=s.length,b=0,j=!0,v;if(this._map){var S=new Date().getTime(),N=L.bind(function(){var C=new Date().getTime();for(this._map&&this._unspiderfy&&this._unspiderfy();b<y;b++){if(f&&b%200===0){var k=new Date().getTime()-C;if(k>g)break}if(v=s[b],v instanceof L.LayerGroup){j&&(s=s.slice(),j=!1),this._extractNonGroupLayers(v,s),y=s.length;continue}if(!v.getLatLng){h.addLayer(v),c||this.fire("layeradd",{layer:v});continue}if(!this.hasLayer(v)&&(this._addLayer(v,this._maxZoom),c||this.fire("layeradd",{layer:v}),v.__parent&&v.__parent.getChildCount()===2)){var E=v.__parent.getAllChildMarkers(),R=E[0]===v?E[1]:E[0];u.removeLayer(R)}}m&&m(b,y,new Date().getTime()-S),b===y?(this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds)):setTimeout(N,this.options.chunkDelay)},this);N()}else for(var w=this._needsClustering;b<y;b++){if(v=s[b],v instanceof L.LayerGroup){j&&(s=s.slice(),j=!1),this._extractNonGroupLayers(v,s),y=s.length;continue}if(!v.getLatLng){h.addLayer(v);continue}this.hasLayer(v)||w.push(v)}return this},removeLayers:function(s){var c,u,h=s.length,f=this._featureGroup,g=this._nonPointGroup,m=!0;if(!this._map){for(c=0;c<h;c++){if(u=s[c],u instanceof L.LayerGroup){m&&(s=s.slice(),m=!1),this._extractNonGroupLayers(u,s),h=s.length;continue}this._arraySplice(this._needsClustering,u),g.removeLayer(u),this.hasLayer(u)&&this._needsRemoving.push({layer:u,latlng:u._latlng}),this.fire("layerremove",{layer:u})}return this}if(this._unspiderfy){this._unspiderfy();var y=s.slice(),b=h;for(c=0;c<b;c++){if(u=y[c],u instanceof L.LayerGroup){this._extractNonGroupLayers(u,y),b=y.length;continue}this._unspiderfyLayer(u)}}for(c=0;c<h;c++){if(u=s[c],u instanceof L.LayerGroup){m&&(s=s.slice(),m=!1),this._extractNonGroupLayers(u,s),h=s.length;continue}if(!u.__parent){g.removeLayer(u),this.fire("layerremove",{layer:u});continue}this._removeLayer(u,!0,!0),this.fire("layerremove",{layer:u}),f.hasLayer(u)&&(f.removeLayer(u),u.clusterShow&&u.clusterShow())}return this._topClusterLevel._recalculateBounds(),this._refreshClustersIcons(),this._topClusterLevel._recursivelyAddChildrenToMap(null,this._zoom,this._currentShownBounds),this},clearLayers:function(){return this._map||(this._needsClustering=[],this._needsRemoving=[],delete this._gridClusters,delete this._gridUnclustered),this._noanimationUnspiderfy&&this._noanimationUnspiderfy(),this._featureGroup.clearLayers(),this._nonPointGroup.clearLayers(),this.eachLayer(function(s){s.off(this._childMarkerEventHandlers,this),delete s.__parent},this),this._map&&this._generateInitialClusters(),this},getBounds:function(){var s=new L.LatLngBounds;this._topClusterLevel&&s.extend(this._topClusterLevel._bounds);for(var c=this._needsClustering.length-1;c>=0;c--)s.extend(this._needsClustering[c].getLatLng());return s.extend(this._nonPointGroup.getBounds()),s},eachLayer:function(s,c){var u=this._needsClustering.slice(),h=this._needsRemoving,f,g,m;for(this._topClusterLevel&&this._topClusterLevel.getAllChildMarkers(u),g=u.length-1;g>=0;g--){for(f=!0,m=h.length-1;m>=0;m--)if(h[m].layer===u[g]){f=!1;break}f&&s.call(c,u[g])}this._nonPointGroup.eachLayer(s,c)},getLayers:function(){var s=[];return this.eachLayer(function(c){s.push(c)}),s},getLayer:function(s){var c=null;return s=parseInt(s,10),this.eachLayer(function(u){L.stamp(u)===s&&(c=u)}),c},hasLayer:function(s){if(!s)return!1;var c,u=this._needsClustering;for(c=u.length-1;c>=0;c--)if(u[c]===s)return!0;for(u=this._needsRemoving,c=u.length-1;c>=0;c--)if(u[c].layer===s)return!1;return!!(s.__parent&&s.__parent._group===this)||this._nonPointGroup.hasLayer(s)},zoomToShowLayer:function(s,c){var u=this._map;typeof c!="function"&&(c=function(){});var h=function(){(u.hasLayer(s)||u.hasLayer(s.__parent))&&!this._inZoomAnimation&&(this._map.off("moveend",h,this),this.off("animationend",h,this),u.hasLayer(s)?c():s.__parent._icon&&(this.once("spiderfied",c,this),s.__parent.spiderfy()))};s._icon&&this._map.getBounds().contains(s.getLatLng())?c():s.__parent._zoom<Math.round(this._map._zoom)?(this._map.on("moveend",h,this),this._map.panTo(s.getLatLng())):(this._map.on("moveend",h,this),this.on("animationend",h,this),s.__parent.zoomToBounds())},onAdd:function(s){this._map=s;var c,u,h;if(!isFinite(this._map.getMaxZoom()))throw"Map has no maxZoom specified";for(this._featureGroup.addTo(s),this._nonPointGroup.addTo(s),this._gridClusters||this._generateInitialClusters(),this._maxLat=s.options.crs.projection.MAX_LATITUDE,c=0,u=this._needsRemoving.length;c<u;c++)h=this._needsRemoving[c],h.newlatlng=h.layer._latlng,h.layer._latlng=h.latlng;for(c=0,u=this._needsRemoving.length;c<u;c++)h=this._needsRemoving[c],this._removeLayer(h.layer,!0),h.layer._latlng=h.newlatlng;this._needsRemoving=[],this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds(),this._map.on("zoomend",this._zoomEnd,this),this._map.on("moveend",this._moveEnd,this),this._spiderfierOnAdd&&this._spiderfierOnAdd(),this._bindEvents(),u=this._needsClustering,this._needsClustering=[],this.addLayers(u,!0)},onRemove:function(s){s.off("zoomend",this._zoomEnd,this),s.off("moveend",this._moveEnd,this),this._unbindEvents(),this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim",""),this._spiderfierOnRemove&&this._spiderfierOnRemove(),delete this._maxLat,this._hideCoverage(),this._featureGroup.remove(),this._nonPointGroup.remove(),this._featureGroup.clearLayers(),this._map=null},getVisibleParent:function(s){for(var c=s;c&&!c._icon;)c=c.__parent;return c||null},_arraySplice:function(s,c){for(var u=s.length-1;u>=0;u--)if(s[u]===c)return s.splice(u,1),!0},_removeFromGridUnclustered:function(s,c){for(var u=this._map,h=this._gridUnclustered,f=Math.floor(this._map.getMinZoom());c>=f&&h[c].removeObject(s,u.project(s.getLatLng(),c));c--);},_childMarkerDragStart:function(s){s.target.__dragStart=s.target._latlng},_childMarkerMoved:function(s){if(!this._ignoreMove&&!s.target.__dragStart){var c=s.target._popup&&s.target._popup.isOpen();this._moveChild(s.target,s.oldLatLng,s.latlng),c&&s.target.openPopup()}},_moveChild:function(s,c,u){s._latlng=c,this.removeLayer(s),s._latlng=u,this.addLayer(s)},_childMarkerDragEnd:function(s){var c=s.target.__dragStart;delete s.target.__dragStart,c&&this._moveChild(s.target,c,s.target._latlng)},_removeLayer:function(s,c,u){var h=this._gridClusters,f=this._gridUnclustered,g=this._featureGroup,m=this._map,y=Math.floor(this._map.getMinZoom());c&&this._removeFromGridUnclustered(s,this._maxZoom);var b=s.__parent,j=b._markers,v;for(this._arraySplice(j,s);b&&(b._childCount--,b._boundsNeedUpdate=!0,!(b._zoom<y));)c&&b._childCount<=1?(v=b._markers[0]===s?b._markers[1]:b._markers[0],h[b._zoom].removeObject(b,m.project(b._cLatLng,b._zoom)),f[b._zoom].addObject(v,m.project(v.getLatLng(),b._zoom)),this._arraySplice(b.__parent._childClusters,b),b.__parent._markers.push(v),v.__parent=b.__parent,b._icon&&(g.removeLayer(b),u||g.addLayer(v))):b._iconNeedsUpdate=!0,b=b.__parent;delete s.__parent},_isOrIsParent:function(s,c){for(;c;){if(s===c)return!0;c=c.parentNode}return!1},fire:function(s,c,u){if(c&&c.layer instanceof L.MarkerCluster){if(c.originalEvent&&this._isOrIsParent(c.layer._icon,c.originalEvent.relatedTarget))return;s="cluster"+s}L.FeatureGroup.prototype.fire.call(this,s,c,u)},listens:function(s,c){return L.FeatureGroup.prototype.listens.call(this,s,c)||L.FeatureGroup.prototype.listens.call(this,"cluster"+s,c)},_defaultIconCreateFunction:function(s){var c=s.getChildCount(),u=" marker-cluster-";return c<10?u+="small":c<100?u+="medium":u+="large",new L.DivIcon({html:"<div><span>"+c+"</span></div>",className:"marker-cluster"+u,iconSize:new L.Point(40,40)})},_bindEvents:function(){var s=this._map,c=this.options.spiderfyOnMaxZoom,u=this.options.showCoverageOnHover,h=this.options.zoomToBoundsOnClick,f=this.options.spiderfyOnEveryZoom;(c||h||f)&&this.on("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),u&&(this.on("clustermouseover",this._showCoverage,this),this.on("clustermouseout",this._hideCoverage,this),s.on("zoomend",this._hideCoverage,this))},_zoomOrSpiderfy:function(s){var c=s.layer,u=c;if(!(s.type==="clusterkeypress"&&s.originalEvent&&s.originalEvent.keyCode!==13)){for(;u._childClusters.length===1;)u=u._childClusters[0];u._zoom===this._maxZoom&&u._childCount===c._childCount&&this.options.spiderfyOnMaxZoom?c.spiderfy():this.options.zoomToBoundsOnClick&&c.zoomToBounds(),this.options.spiderfyOnEveryZoom&&c.spiderfy(),s.originalEvent&&s.originalEvent.keyCode===13&&this._map._container.focus()}},_showCoverage:function(s){var c=this._map;this._inZoomAnimation||(this._shownPolygon&&c.removeLayer(this._shownPolygon),s.layer.getChildCount()>2&&s.layer!==this._spiderfied&&(this._shownPolygon=new L.Polygon(s.layer.getConvexHull(),this.options.polygonOptions),c.addLayer(this._shownPolygon)))},_hideCoverage:function(){this._shownPolygon&&(this._map.removeLayer(this._shownPolygon),this._shownPolygon=null)},_unbindEvents:function(){var s=this.options.spiderfyOnMaxZoom,c=this.options.showCoverageOnHover,u=this.options.zoomToBoundsOnClick,h=this.options.spiderfyOnEveryZoom,f=this._map;(s||u||h)&&this.off("clusterclick clusterkeypress",this._zoomOrSpiderfy,this),c&&(this.off("clustermouseover",this._showCoverage,this),this.off("clustermouseout",this._hideCoverage,this),f.off("zoomend",this._hideCoverage,this))},_zoomEnd:function(){this._map&&(this._mergeSplitClusters(),this._zoom=Math.round(this._map._zoom),this._currentShownBounds=this._getExpandedVisibleBounds())},_moveEnd:function(){if(!this._inZoomAnimation){var s=this._getExpandedVisibleBounds();this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,s),this._topClusterLevel._recursivelyAddChildrenToMap(null,Math.round(this._map._zoom),s),this._currentShownBounds=s}},_generateInitialClusters:function(){var s=Math.ceil(this._map.getMaxZoom()),c=Math.floor(this._map.getMinZoom()),u=this.options.maxClusterRadius,h=u;typeof u!="function"&&(h=function(){return u}),this.options.disableClusteringAtZoom!==null&&(s=this.options.disableClusteringAtZoom-1),this._maxZoom=s,this._gridClusters={},this._gridUnclustered={};for(var f=s;f>=c;f--)this._gridClusters[f]=new L.DistanceGrid(h(f)),this._gridUnclustered[f]=new L.DistanceGrid(h(f));this._topClusterLevel=new this._markerCluster(this,c-1)},_addLayer:function(s,c){var u=this._gridClusters,h=this._gridUnclustered,f=Math.floor(this._map.getMinZoom()),g,m;for(this.options.singleMarkerMode&&this._overrideMarkerIcon(s),s.on(this._childMarkerEventHandlers,this);c>=f;c--){g=this._map.project(s.getLatLng(),c);var y=u[c].getNearObject(g);if(y){y._addChild(s),s.__parent=y;return}if(y=h[c].getNearObject(g),y){var b=y.__parent;b&&this._removeLayer(y,!1);var j=new this._markerCluster(this,c,y,s);u[c].addObject(j,this._map.project(j._cLatLng,c)),y.__parent=j,s.__parent=j;var v=j;for(m=c-1;m>b._zoom;m--)v=new this._markerCluster(this,m,v),u[m].addObject(v,this._map.project(y.getLatLng(),m));b._addChild(v),this._removeFromGridUnclustered(y,c);return}h[c].addObject(s,g)}this._topClusterLevel._addChild(s),s.__parent=this._topClusterLevel},_refreshClustersIcons:function(){this._featureGroup.eachLayer(function(s){s instanceof L.MarkerCluster&&s._iconNeedsUpdate&&s._updateIcon()})},_enqueue:function(s){this._queue.push(s),this._queueTimeout||(this._queueTimeout=setTimeout(L.bind(this._processQueue,this),300))},_processQueue:function(){for(var s=0;s<this._queue.length;s++)this._queue[s].call(this);this._queue.length=0,clearTimeout(this._queueTimeout),this._queueTimeout=null},_mergeSplitClusters:function(){var s=Math.round(this._map._zoom);this._processQueue(),this._zoom<s&&this._currentShownBounds.intersects(this._getExpandedVisibleBounds())?(this._animationStart(),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),this._zoom,this._getExpandedVisibleBounds()),this._animationZoomIn(this._zoom,s)):this._zoom>s?(this._animationStart(),this._animationZoomOut(this._zoom,s)):this._moveEnd()},_getExpandedVisibleBounds:function(){if(this.options.removeOutsideVisibleBounds){if(L.Browser.mobile)return this._checkBoundsMaxLat(this._map.getBounds())}else return this._mapBoundsInfinite;return this._checkBoundsMaxLat(this._map.getBounds().pad(1))},_checkBoundsMaxLat:function(s){var c=this._maxLat;return c!==void 0&&(s.getNorth()>=c&&(s._northEast.lat=1/0),s.getSouth()<=-c&&(s._southWest.lat=-1/0)),s},_animationAddLayerNonAnimated:function(s,c){if(c===s)this._featureGroup.addLayer(s);else if(c._childCount===2){c._addToMap();var u=c.getAllChildMarkers();this._featureGroup.removeLayer(u[0]),this._featureGroup.removeLayer(u[1])}else c._updateIcon()},_extractNonGroupLayers:function(s,c){var u=s.getLayers(),h=0,f;for(c=c||[];h<u.length;h++){if(f=u[h],f instanceof L.LayerGroup){this._extractNonGroupLayers(f,c);continue}c.push(f)}return c},_overrideMarkerIcon:function(s){var c=s.options.icon=this.options.iconCreateFunction({getChildCount:function(){return 1},getAllChildMarkers:function(){return[s]}});return c}});L.MarkerClusterGroup.include({_mapBoundsInfinite:new L.LatLngBounds(new L.LatLng(-1/0,-1/0),new L.LatLng(1/0,1/0))}),L.MarkerClusterGroup.include({_noAnimation:{_animationStart:function(){},_animationZoomIn:function(s,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationZoomOut:function(s,c){this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this.fire("animationend")},_animationAddLayer:function(s,c){this._animationAddLayerNonAnimated(s,c)}},_withAnimation:{_animationStart:function(){this._map._mapPane.className+=" leaflet-cluster-anim",this._inZoomAnimation++},_animationZoomIn:function(s,c){var u=this._getExpandedVisibleBounds(),h=this._featureGroup,f=Math.floor(this._map.getMinZoom()),g;this._ignoreMove=!0,this._topClusterLevel._recursively(u,s,f,function(m){var y=m._latlng,b=m._markers,j;for(u.contains(y)||(y=null),m._isSingleParent()&&s+1===c?(h.removeLayer(m),m._recursivelyAddChildrenToMap(null,c,u)):(m.clusterHide(),m._recursivelyAddChildrenToMap(y,c,u)),g=b.length-1;g>=0;g--)j=b[g],u.contains(j._latlng)||h.removeLayer(j)}),this._forceLayout(),this._topClusterLevel._recursivelyBecomeVisible(u,c),h.eachLayer(function(m){!(m instanceof L.MarkerCluster)&&m._icon&&m.clusterShow()}),this._topClusterLevel._recursively(u,s,c,function(m){m._recursivelyRestoreChildPositions(c)}),this._ignoreMove=!1,this._enqueue(function(){this._topClusterLevel._recursively(u,s,f,function(m){h.removeLayer(m),m.clusterShow()}),this._animationEnd()})},_animationZoomOut:function(s,c){this._animationZoomOutSingle(this._topClusterLevel,s-1,c),this._topClusterLevel._recursivelyAddChildrenToMap(null,c,this._getExpandedVisibleBounds()),this._topClusterLevel._recursivelyRemoveChildrenFromMap(this._currentShownBounds,Math.floor(this._map.getMinZoom()),s,this._getExpandedVisibleBounds())},_animationAddLayer:function(s,c){var u=this,h=this._featureGroup;h.addLayer(s),c!==s&&(c._childCount>2?(c._updateIcon(),this._forceLayout(),this._animationStart(),s._setPos(this._map.latLngToLayerPoint(c.getLatLng())),s.clusterHide(),this._enqueue(function(){h.removeLayer(s),s.clusterShow(),u._animationEnd()})):(this._forceLayout(),u._animationStart(),u._animationZoomOutSingle(c,this._map.getMaxZoom(),this._zoom)))}},_animationZoomOutSingle:function(s,c,u){var h=this._getExpandedVisibleBounds(),f=Math.floor(this._map.getMinZoom());s._recursivelyAnimateChildrenInAndAddSelfToMap(h,f,c+1,u);var g=this;this._forceLayout(),s._recursivelyBecomeVisible(h,u),this._enqueue(function(){if(s._childCount===1){var m=s._markers[0];this._ignoreMove=!0,m.setLatLng(m.getLatLng()),this._ignoreMove=!1,m.clusterShow&&m.clusterShow()}else s._recursively(h,u,f,function(y){y._recursivelyRemoveChildrenFromMap(h,f,c+1)});g._animationEnd()})},_animationEnd:function(){this._map&&(this._map._mapPane.className=this._map._mapPane.className.replace(" leaflet-cluster-anim","")),this._inZoomAnimation--,this.fire("animationend")},_forceLayout:function(){L.Util.falseFn(document.body.offsetWidth)}}),L.markerClusterGroup=function(s){return new L.MarkerClusterGroup(s)};var a=L.MarkerCluster=L.Marker.extend({options:L.Icon.prototype.options,initialize:function(s,c,u,h){L.Marker.prototype.initialize.call(this,u?u._cLatLng||u.getLatLng():new L.LatLng(0,0),{icon:this,pane:s.options.clusterPane}),this._group=s,this._zoom=c,this._markers=[],this._childClusters=[],this._childCount=0,this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._bounds=new L.LatLngBounds,u&&this._addChild(u),h&&this._addChild(h)},getAllChildMarkers:function(s,c){s=s||[];for(var u=this._childClusters.length-1;u>=0;u--)this._childClusters[u].getAllChildMarkers(s,c);for(var h=this._markers.length-1;h>=0;h--)c&&this._markers[h].__dragStart||s.push(this._markers[h]);return s},getChildCount:function(){return this._childCount},zoomToBounds:function(s){for(var c=this._childClusters.slice(),u=this._group._map,h=u.getBoundsZoom(this._bounds),f=this._zoom+1,g=u.getZoom(),m;c.length>0&&h>f;){f++;var y=[];for(m=0;m<c.length;m++)y=y.concat(c[m]._childClusters);c=y}h>f?this._group._map.setView(this._latlng,f):h<=g?this._group._map.setView(this._latlng,g+1):this._group._map.fitBounds(this._bounds,s)},getBounds:function(){var s=new L.LatLngBounds;return s.extend(this._bounds),s},_updateIcon:function(){this._iconNeedsUpdate=!0,this._icon&&this.setIcon(this)},createIcon:function(){return this._iconNeedsUpdate&&(this._iconObj=this._group.options.iconCreateFunction(this),this._iconNeedsUpdate=!1),this._iconObj.createIcon()},createShadow:function(){return this._iconObj.createShadow()},_addChild:function(s,c){this._iconNeedsUpdate=!0,this._boundsNeedUpdate=!0,this._setClusterCenter(s),s instanceof L.MarkerCluster?(c||(this._childClusters.push(s),s.__parent=this),this._childCount+=s._childCount):(c||this._markers.push(s),this._childCount++),this.__parent&&this.__parent._addChild(s,!0)},_setClusterCenter:function(s){this._cLatLng||(this._cLatLng=s._cLatLng||s._latlng)},_resetBounds:function(){var s=this._bounds;s._southWest&&(s._southWest.lat=1/0,s._southWest.lng=1/0),s._northEast&&(s._northEast.lat=-1/0,s._northEast.lng=-1/0)},_recalculateBounds:function(){var s=this._markers,c=this._childClusters,u=0,h=0,f=this._childCount,g,m,y,b;if(f!==0){for(this._resetBounds(),g=0;g<s.length;g++)y=s[g]._latlng,this._bounds.extend(y),u+=y.lat,h+=y.lng;for(g=0;g<c.length;g++)m=c[g],m._boundsNeedUpdate&&m._recalculateBounds(),this._bounds.extend(m._bounds),y=m._wLatLng,b=m._childCount,u+=y.lat*b,h+=y.lng*b;this._latlng=this._wLatLng=new L.LatLng(u/f,h/f),this._boundsNeedUpdate=!1}},_addToMap:function(s){s&&(this._backupLatlng=this._latlng,this.setLatLng(s)),this._group._featureGroup.addLayer(this)},_recursivelyAnimateChildrenIn:function(s,c,u){this._recursively(s,this._group._map.getMinZoom(),u-1,function(h){var f=h._markers,g,m;for(g=f.length-1;g>=0;g--)m=f[g],m._icon&&(m._setPos(c),m.clusterHide())},function(h){var f=h._childClusters,g,m;for(g=f.length-1;g>=0;g--)m=f[g],m._icon&&(m._setPos(c),m.clusterHide())})},_recursivelyAnimateChildrenInAndAddSelfToMap:function(s,c,u,h){this._recursively(s,h,c,function(f){f._recursivelyAnimateChildrenIn(s,f._group._map.latLngToLayerPoint(f.getLatLng()).round(),u),f._isSingleParent()&&u-1===h?(f.clusterShow(),f._recursivelyRemoveChildrenFromMap(s,c,u)):f.clusterHide(),f._addToMap()})},_recursivelyBecomeVisible:function(s,c){this._recursively(s,this._group._map.getMinZoom(),c,null,function(u){u.clusterShow()})},_recursivelyAddChildrenToMap:function(s,c,u){this._recursively(u,this._group._map.getMinZoom()-1,c,function(h){if(c!==h._zoom)for(var f=h._markers.length-1;f>=0;f--){var g=h._markers[f];u.contains(g._latlng)&&(s&&(g._backupLatlng=g.getLatLng(),g.setLatLng(s),g.clusterHide&&g.clusterHide()),h._group._featureGroup.addLayer(g))}},function(h){h._addToMap(s)})},_recursivelyRestoreChildPositions:function(s){for(var c=this._markers.length-1;c>=0;c--){var u=this._markers[c];u._backupLatlng&&(u.setLatLng(u._backupLatlng),delete u._backupLatlng)}if(s-1===this._zoom)for(var h=this._childClusters.length-1;h>=0;h--)this._childClusters[h]._restorePosition();else for(var f=this._childClusters.length-1;f>=0;f--)this._childClusters[f]._recursivelyRestoreChildPositions(s)},_restorePosition:function(){this._backupLatlng&&(this.setLatLng(this._backupLatlng),delete this._backupLatlng)},_recursivelyRemoveChildrenFromMap:function(s,c,u,h){var f,g;this._recursively(s,c-1,u-1,function(m){for(g=m._markers.length-1;g>=0;g--)f=m._markers[g],(!h||!h.contains(f._latlng))&&(m._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())},function(m){for(g=m._childClusters.length-1;g>=0;g--)f=m._childClusters[g],(!h||!h.contains(f._latlng))&&(m._group._featureGroup.removeLayer(f),f.clusterShow&&f.clusterShow())})},_recursively:function(s,c,u,h,f){var g=this._childClusters,m=this._zoom,y,b;if(c<=m&&(h&&h(this),f&&m===u&&f(this)),m<c||m<u)for(y=g.length-1;y>=0;y--)b=g[y],b._boundsNeedUpdate&&b._recalculateBounds(),s.intersects(b._bounds)&&b._recursively(s,c,u,h,f)},_isSingleParent:function(){return this._childClusters.length>0&&this._childClusters[0]._childCount===this._childCount}});L.Marker.include({clusterHide:function(){var s=this.options.opacity;return this.setOpacity(0),this.options.opacity=s,this},clusterShow:function(){return this.setOpacity(this.options.opacity)}}),L.DistanceGrid=function(s){this._cellSize=s,this._sqCellSize=s*s,this._grid={},this._objectPoint={}},L.DistanceGrid.prototype={addObject:function(s,c){var u=this._getCoord(c.x),h=this._getCoord(c.y),f=this._grid,g=f[h]=f[h]||{},m=g[u]=g[u]||[],y=L.Util.stamp(s);this._objectPoint[y]=c,m.push(s)},updateObject:function(s,c){this.removeObject(s),this.addObject(s,c)},removeObject:function(s,c){var u=this._getCoord(c.x),h=this._getCoord(c.y),f=this._grid,g=f[h]=f[h]||{},m=g[u]=g[u]||[],y,b;for(delete this._objectPoint[L.Util.stamp(s)],y=0,b=m.length;y<b;y++)if(m[y]===s)return m.splice(y,1),b===1&&delete g[u],!0},eachObject:function(s,c){var u,h,f,g,m,y,b,j=this._grid;for(u in j){m=j[u];for(h in m)for(y=m[h],f=0,g=y.length;f<g;f++)b=s.call(c,y[f]),b&&(f--,g--)}},getNearObject:function(s){var c=this._getCoord(s.x),u=this._getCoord(s.y),h,f,g,m,y,b,j,v,S=this._objectPoint,N=this._sqCellSize,w=null;for(h=u-1;h<=u+1;h++)if(m=this._grid[h],m){for(f=c-1;f<=c+1;f++)if(y=m[f],y)for(g=0,b=y.length;g<b;g++)j=y[g],v=this._sqDist(S[L.Util.stamp(j)],s),(v<N||v<=N&&w===null)&&(N=v,w=j)}return w},_getCoord:function(s){var c=Math.floor(s/this._cellSize);return isFinite(c)?c:s},_sqDist:function(s,c){var u=c.x-s.x,h=c.y-s.y;return u*u+h*h}},function(){L.QuickHull={getDistant:function(s,c){var u=c[1].lat-c[0].lat,h=c[0].lng-c[1].lng;return h*(s.lat-c[0].lat)+u*(s.lng-c[0].lng)},findMostDistantPointFromBaseLine:function(s,c){var u=0,h=null,f=[],g,m,y;for(g=c.length-1;g>=0;g--){if(m=c[g],y=this.getDistant(m,s),y>0)f.push(m);else continue;y>u&&(u=y,h=m)}return{maxPoint:h,newPoints:f}},buildConvexHull:function(s,c){var u=[],h=this.findMostDistantPointFromBaseLine(s,c);return h.maxPoint?(u=u.concat(this.buildConvexHull([s[0],h.maxPoint],h.newPoints)),u=u.concat(this.buildConvexHull([h.maxPoint,s[1]],h.newPoints)),u):[s[0]]},getConvexHull:function(s){var c=!1,u=!1,h=!1,f=!1,g=null,m=null,y=null,b=null,j=null,v=null,S;for(S=s.length-1;S>=0;S--){var N=s[S];(c===!1||N.lat>c)&&(g=N,c=N.lat),(u===!1||N.lat<u)&&(m=N,u=N.lat),(h===!1||N.lng>h)&&(y=N,h=N.lng),(f===!1||N.lng<f)&&(b=N,f=N.lng)}u!==c?(v=m,j=g):(v=b,j=y);var w=[].concat(this.buildConvexHull([v,j],s),this.buildConvexHull([j,v],s));return w}}}(),L.MarkerCluster.include({getConvexHull:function(){var s=this.getAllChildMarkers(),c=[],u,h;for(h=s.length-1;h>=0;h--)u=s[h].getLatLng(),c.push(u);return L.QuickHull.getConvexHull(c)}}),L.MarkerCluster.include({_2PI:Math.PI*2,_circleFootSeparation:25,_circleStartAngle:0,_spiralFootSeparation:28,_spiralLengthStart:11,_spiralLengthFactor:5,_circleSpiralSwitchover:9,spiderfy:function(){if(!(this._group._spiderfied===this||this._group._inZoomAnimation)){var s=this.getAllChildMarkers(null,!0),c=this._group,u=c._map,h=u.latLngToLayerPoint(this._latlng),f;this._group._unspiderfy(),this._group._spiderfied=this,this._group.options.spiderfyShapePositions?f=this._group.options.spiderfyShapePositions(s.length,h):s.length>=this._circleSpiralSwitchover?f=this._generatePointsSpiral(s.length,h):(h.y+=10,f=this._generatePointsCircle(s.length,h)),this._animationSpiderfy(s,f)}},unspiderfy:function(s){this._group._inZoomAnimation||(this._animationUnspiderfy(s),this._group._spiderfied=null)},_generatePointsCircle:function(s,c){var u=this._group.options.spiderfyDistanceMultiplier*this._circleFootSeparation*(2+s),h=u/this._2PI,f=this._2PI/s,g=[],m,y;for(h=Math.max(h,35),g.length=s,m=0;m<s;m++)y=this._circleStartAngle+m*f,g[m]=new L.Point(c.x+h*Math.cos(y),c.y+h*Math.sin(y))._round();return g},_generatePointsSpiral:function(s,c){var u=this._group.options.spiderfyDistanceMultiplier,h=u*this._spiralLengthStart,f=u*this._spiralFootSeparation,g=u*this._spiralLengthFactor*this._2PI,m=0,y=[],b;for(y.length=s,b=s;b>=0;b--)b<s&&(y[b]=new L.Point(c.x+h*Math.cos(m),c.y+h*Math.sin(m))._round()),m+=f/h+b*5e-4,h+=g/m;return y},_noanimationUnspiderfy:function(){var s=this._group,c=s._map,u=s._featureGroup,h=this.getAllChildMarkers(null,!0),f,g;for(s._ignoreMove=!0,this.setOpacity(1),g=h.length-1;g>=0;g--)f=h[g],u.removeLayer(f),f._preSpiderfyLatlng&&(f.setLatLng(f._preSpiderfyLatlng),delete f._preSpiderfyLatlng),f.setZIndexOffset&&f.setZIndexOffset(0),f._spiderLeg&&(c.removeLayer(f._spiderLeg),delete f._spiderLeg);s.fire("unspiderfied",{cluster:this,markers:h}),s._ignoreMove=!1,s._spiderfied=null}}),L.MarkerClusterNonAnimated=L.MarkerCluster.extend({_animationSpiderfy:function(s,c){var u=this._group,h=u._map,f=u._featureGroup,g=this._group.options.spiderLegPolylineOptions,m,y,b,j;for(u._ignoreMove=!0,m=0;m<s.length;m++)j=h.layerPointToLatLng(c[m]),y=s[m],b=new L.Polyline([this._latlng,j],g),h.addLayer(b),y._spiderLeg=b,y._preSpiderfyLatlng=y._latlng,y.setLatLng(j),y.setZIndexOffset&&y.setZIndexOffset(1e6),f.addLayer(y);this.setOpacity(.3),u._ignoreMove=!1,u.fire("spiderfied",{cluster:this,markers:s})},_animationUnspiderfy:function(){this._noanimationUnspiderfy()}}),L.MarkerCluster.include({_animationSpiderfy:function(s,c){var u=this,h=this._group,f=h._map,g=h._featureGroup,m=this._latlng,y=f.latLngToLayerPoint(m),b=L.Path.SVG,j=L.extend({},this._group.options.spiderLegPolylineOptions),v=j.opacity,S,N,w,C,k,E;for(v===void 0&&(v=L.MarkerClusterGroup.prototype.options.spiderLegPolylineOptions.opacity),b?(j.opacity=0,j.className=(j.className||"")+" leaflet-cluster-spider-leg"):j.opacity=v,h._ignoreMove=!0,S=0;S<s.length;S++)N=s[S],E=f.layerPointToLatLng(c[S]),w=new L.Polyline([m,E],j),f.addLayer(w),N._spiderLeg=w,b&&(C=w._path,k=C.getTotalLength()+.1,C.style.strokeDasharray=k,C.style.strokeDashoffset=k),N.setZIndexOffset&&N.setZIndexOffset(1e6),N.clusterHide&&N.clusterHide(),g.addLayer(N),N._setPos&&N._setPos(y);for(h._forceLayout(),h._animationStart(),S=s.length-1;S>=0;S--)E=f.layerPointToLatLng(c[S]),N=s[S],N._preSpiderfyLatlng=N._latlng,N.setLatLng(E),N.clusterShow&&N.clusterShow(),b&&(w=N._spiderLeg,C=w._path,C.style.strokeDashoffset=0,w.setStyle({opacity:v}));this.setOpacity(.3),h._ignoreMove=!1,setTimeout(function(){h._animationEnd(),h.fire("spiderfied",{cluster:u,markers:s})},200)},_animationUnspiderfy:function(s){var c=this,u=this._group,h=u._map,f=u._featureGroup,g=s?h._latLngToNewLayerPoint(this._latlng,s.zoom,s.center):h.latLngToLayerPoint(this._latlng),m=this.getAllChildMarkers(null,!0),y=L.Path.SVG,b,j,v,S,N,w;for(u._ignoreMove=!0,u._animationStart(),this.setOpacity(1),j=m.length-1;j>=0;j--)b=m[j],b._preSpiderfyLatlng&&(b.closePopup(),b.setLatLng(b._preSpiderfyLatlng),delete b._preSpiderfyLatlng,w=!0,b._setPos&&(b._setPos(g),w=!1),b.clusterHide&&(b.clusterHide(),w=!1),w&&f.removeLayer(b),y&&(v=b._spiderLeg,S=v._path,N=S.getTotalLength()+.1,S.style.strokeDashoffset=N,v.setStyle({opacity:0})));u._ignoreMove=!1,setTimeout(function(){var C=0;for(j=m.length-1;j>=0;j--)b=m[j],b._spiderLeg&&C++;for(j=m.length-1;j>=0;j--)b=m[j],b._spiderLeg&&(b.clusterShow&&b.clusterShow(),b.setZIndexOffset&&b.setZIndexOffset(0),C>1&&f.removeLayer(b),h.removeLayer(b._spiderLeg),delete b._spiderLeg);u._animationEnd(),u.fire("unspiderfied",{cluster:c,markers:m})},200)}}),L.MarkerClusterGroup.include({_spiderfied:null,unspiderfy:function(){this._unspiderfy.apply(this,arguments)},_spiderfierOnAdd:function(){this._map.on("click",this._unspiderfyWrapper,this),this._map.options.zoomAnimation&&this._map.on("zoomstart",this._unspiderfyZoomStart,this),this._map.on("zoomend",this._noanimationUnspiderfy,this),L.Browser.touch||this._map.getRenderer(this)},_spiderfierOnRemove:function(){this._map.off("click",this._unspiderfyWrapper,this),this._map.off("zoomstart",this._unspiderfyZoomStart,this),this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._map.off("zoomend",this._noanimationUnspiderfy,this),this._noanimationUnspiderfy()},_unspiderfyZoomStart:function(){this._map&&this._map.on("zoomanim",this._unspiderfyZoomAnim,this)},_unspiderfyZoomAnim:function(s){L.DomUtil.hasClass(this._map._mapPane,"leaflet-touching")||(this._map.off("zoomanim",this._unspiderfyZoomAnim,this),this._unspiderfy(s))},_unspiderfyWrapper:function(){this._unspiderfy()},_unspiderfy:function(s){this._spiderfied&&this._spiderfied.unspiderfy(s)},_noanimationUnspiderfy:function(){this._spiderfied&&this._spiderfied._noanimationUnspiderfy()},_unspiderfyLayer:function(s){s._spiderLeg&&(this._featureGroup.removeLayer(s),s.clusterShow&&s.clusterShow(),s.setZIndexOffset&&s.setZIndexOffset(0),this._map.removeLayer(s._spiderLeg),delete s._spiderLeg)}}),L.MarkerClusterGroup.include({refreshClusters:function(s){return s?s instanceof L.MarkerClusterGroup?s=s._topClusterLevel.getAllChildMarkers():s instanceof L.LayerGroup?s=s._layers:s instanceof L.MarkerCluster?s=s.getAllChildMarkers():s instanceof L.Marker&&(s=[s]):s=this._topClusterLevel.getAllChildMarkers(),this._flagParentsIconsNeedUpdate(s),this._refreshClustersIcons(),this.options.singleMarkerMode&&this._refreshSingleMarkerModeMarkers(s),this},_flagParentsIconsNeedUpdate:function(s){var c,u;for(c in s)for(u=s[c].__parent;u;)u._iconNeedsUpdate=!0,u=u.__parent},_refreshSingleMarkerModeMarkers:function(s){var c,u;for(c in s)u=s[c],this.hasLayer(u)&&u.setIcon(this._overrideMarkerIcon(u))}}),L.Marker.include({refreshIconOptions:function(s,c){var u=this.options.icon;return L.setOptions(u,s),this.setIcon(u),c&&this.__parent&&this.__parent._group.refreshClusters(this),this}}),n.MarkerClusterGroup=r,n.MarkerCluster=a,Object.defineProperty(n,"__esModule",{value:!0})})})(wv,wv.exports);delete en.Icon.Default.prototype._getIconUrl;en.Icon.Default.mergeOptions({iconRetinaUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon-2x.png",iconUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-icon.png",shadowUrl:"https://cdnjs.cloudflare.com/ajax/libs/leaflet/1.7.1/images/marker-shadow.png"});function XE({center:e,restaurants:t,onRestaurantClick:n,loading:r}){const a=_.useRef(null),s=_.useRef(null),c=_.useRef(null);_.useEffect(()=>{if(!a.current||s.current)return;console.log("Initializing map with center:",e);const h=en.map(a.current,{center:e,zoom:15,zoomControl:!0,attributionControl:!1,touchZoom:!0,doubleClickZoom:!0,scrollWheelZoom:"center",boxZoom:!1,keyboard:!1,dragging:!0,maxBounds:void 0,maxBoundsViscosity:0,renderer:en.canvas({tolerance:15})});en.tileLayer("https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png",{attribution:"",maxZoom:19}).addTo(h);const f=en.divIcon({className:"user-location-marker",html:`
        <div class="relative">
          <div class="w-4 h-4 bg-blue-500 rounded-full border-4 border-white shadow-lg"></div>
          <div class="absolute -inset-2 border-2 border-blue-500 rounded-full opacity-30 animate-ping"></div>
        </div>
      `,iconSize:[20,20],iconAnchor:[10,10]});en.marker(e,{icon:f}).addTo(h);const g=en.markerClusterGroup({chunkedLoading:!0,showCoverageOnHover:!1,maxClusterRadius:50,disableClusteringAtZoom:18,spiderfyOnMaxZoom:!0,removeOutsideVisibleBounds:!0,animate:!0,animateAddingMarkers:!0,iconCreateFunction:function(m){const y=m.getChildCount();let b="marker-cluster marker-cluster-";return y<5?b+="small":y<10?b+="medium":b+="large",new en.DivIcon({html:"<div><span>"+y+"</span></div>",className:b,iconSize:new en.Point(40,40)})}});return c.current=g,h.addLayer(g),s.current=h,()=>{s.current&&(s.current.remove(),s.current=null),c.current&&(c.current=null)}},[]);const u=()=>{if(!s.current||!c.current||!t.length)return;const h=c.current;h.clearLayers(),console.log(`Adding ${t.length} restaurants to cluster`),t.forEach(f=>{const g=parseFloat(f.latitude),m=parseFloat(f.longitude);if(isNaN(g)||isNaN(m))return;const y=f.veganScore?parseFloat(f.veganScore):0,b=y>0?y.toFixed(1):"?",j=en.divIcon({className:"restaurant-marker-leaflet",html:`
          <div style="
            width: 24px; 
            height: 24px; 
            background: #22c55e; 
            border: 3px solid white; 
            border-radius: 50%; 
            box-shadow: 0 2px 8px rgba(0,0,0,0.3);
            display: flex;
            align-items: center;
            justify-content: center;
            cursor: pointer;
            transition: all 0.2s ease;
            font-family: -apple-system, BlinkMacSystemFont, sans-serif;
            font-weight: 600;
            font-size: 8px;
            color: white;
            text-shadow: 0 1px 2px rgba(0,0,0,0.5);
          " 
          onmouseover="this.style.transform='scale(1.2)'; this.style.boxShadow='0 4px 16px rgba(34,197,94,0.4)'"
          onmouseout="this.style.transform='scale(1)'; this.style.boxShadow='0 2px 8px rgba(0,0,0,0.3)'"
          title="${f.name} - Vegan Score: ${y}/10">
            ${b}
          </div>
        `,iconSize:[24,24],iconAnchor:[12,12]}),v=en.marker([g,m],{icon:j,riseOnHover:!0});v.on("click",S=>{console.log("Map marker clicked:",f.name),n(f,S)}),h.addLayer(v)})};return _.useEffect(()=>{t.length>0&&u()},[t]),o.jsxs("div",{className:"relative w-full h-full",children:[o.jsx("div",{ref:a,className:"w-full h-full map-container"}),r&&o.jsx("div",{className:"absolute inset-0 bg-white bg-opacity-75 flex items-center justify-center z-[1000]",children:o.jsxs("div",{className:"flex flex-col items-center",children:[o.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-green-500"}),o.jsx("p",{className:"mt-4 text-gray-600",children:"Loading restaurants..."})]})})]})}var dd="focusScope.autoFocusOnMount",hd="focusScope.autoFocusOnUnmount",bv={bubbles:!1,cancelable:!0},JE="FocusScope",cp=_.forwardRef((e,t)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:a,onUnmountAutoFocus:s,...c}=e,[u,h]=_.useState(null),f=zt(a),g=zt(s),m=_.useRef(null),y=Ae(t,v=>h(v)),b=_.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;_.useEffect(()=>{if(r){let v=function(C){if(b.paused||!u)return;const k=C.target;u.contains(k)?m.current=k:Ci(m.current,{select:!0})},S=function(C){if(b.paused||!u)return;const k=C.relatedTarget;k!==null&&(u.contains(k)||Ci(m.current,{select:!0}))},N=function(C){if(document.activeElement===document.body)for(const E of C)E.removedNodes.length>0&&Ci(u)};document.addEventListener("focusin",v),document.addEventListener("focusout",S);const w=new MutationObserver(N);return u&&w.observe(u,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",S),w.disconnect()}}},[r,u,b.paused]),_.useEffect(()=>{if(u){Cv.add(b);const v=document.activeElement;if(!u.contains(v)){const N=new CustomEvent(dd,bv);u.addEventListener(dd,f),u.dispatchEvent(N),N.defaultPrevented||(eT(sT(nw(u)),{select:!0}),document.activeElement===v&&Ci(u))}return()=>{u.removeEventListener(dd,f),setTimeout(()=>{const N=new CustomEvent(hd,bv);u.addEventListener(hd,g),u.dispatchEvent(N),N.defaultPrevented||Ci(v??document.body,{select:!0}),u.removeEventListener(hd,g),Cv.remove(b)},0)}}},[u,f,g,b]);const j=_.useCallback(v=>{if(!n&&!r||b.paused)return;const S=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,N=document.activeElement;if(S&&N){const w=v.currentTarget,[C,k]=tT(w);C&&k?!v.shiftKey&&N===k?(v.preventDefault(),n&&Ci(C,{select:!0})):v.shiftKey&&N===C&&(v.preventDefault(),n&&Ci(k,{select:!0})):N===w&&v.preventDefault()}},[n,r,b.paused]);return o.jsx(me.div,{tabIndex:-1,...c,ref:y,onKeyDown:j})});cp.displayName=JE;function eT(e,{select:t=!1}={}){const n=document.activeElement;for(const r of e)if(Ci(r,{select:t}),document.activeElement!==n)return}function tT(e){const t=nw(e),n=Nv(t,e),r=Nv(t.reverse(),e);return[n,r]}function nw(e){const t=[],n=document.createTreeWalker(e,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const a=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||a?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)t.push(n.currentNode);return t}function Nv(e,t){for(const n of e)if(!nT(n,{upTo:t}))return n}function nT(e,{upTo:t}){if(getComputedStyle(e).visibility==="hidden")return!0;for(;e;){if(t!==void 0&&e===t)return!1;if(getComputedStyle(e).display==="none")return!0;e=e.parentElement}return!1}function iT(e){return e instanceof HTMLInputElement&&"select"in e}function Ci(e,{select:t=!1}={}){if(e&&e.focus){const n=document.activeElement;e.focus({preventScroll:!0}),e!==n&&iT(e)&&t&&e.select()}}var Cv=rT();function rT(){let e=[];return{add(t){const n=e[0];t!==n&&(n==null||n.pause()),e=Sv(e,t),e.unshift(t)},remove(t){var n;e=Sv(e,t),(n=e[0])==null||n.resume()}}}function Sv(e,t){const n=[...e],r=n.indexOf(t);return r!==-1&&n.splice(r,1),n}function sT(e){return e.filter(t=>t.tagName!=="A")}var fd=0;function iw(){_.useEffect(()=>{const e=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",e[0]??jv()),document.body.insertAdjacentElement("beforeend",e[1]??jv()),fd++,()=>{fd===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(t=>t.remove()),fd--}},[])}function jv(){const e=document.createElement("span");return e.setAttribute("data-radix-focus-guard",""),e.tabIndex=0,e.style.outline="none",e.style.opacity="0",e.style.position="fixed",e.style.pointerEvents="none",e}var zn=function(){return zn=Object.assign||function(t){for(var n,r=1,a=arguments.length;r<a;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},zn.apply(this,arguments)};function rw(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var a=0,r=Object.getOwnPropertySymbols(e);a<r.length;a++)t.indexOf(r[a])<0&&Object.prototype.propertyIsEnumerable.call(e,r[a])&&(n[r[a]]=e[r[a]]);return n}function oT(e,t,n){if(n||arguments.length===2)for(var r=0,a=t.length,s;r<a;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Ol="right-scroll-bar-position",Al="width-before-scroll-bar",aT="with-scroll-bars-hidden",lT="--removed-body-scroll-bar-size";function pd(e,t){return typeof e=="function"?e(t):e&&(e.current=t),e}function cT(e,t){var n=_.useState(function(){return{value:e,callback:t,facade:{get current(){return n.value},set current(r){var a=n.value;a!==r&&(n.value=r,n.callback(r,a))}}}})[0];return n.callback=t,n.facade}var uT=typeof window<"u"?_.useLayoutEffect:_.useEffect,Pv=new WeakMap;function dT(e,t){var n=cT(null,function(r){return e.forEach(function(a){return pd(a,r)})});return uT(function(){var r=Pv.get(n);if(r){var a=new Set(r),s=new Set(e),c=n.current;a.forEach(function(u){s.has(u)||pd(u,null)}),s.forEach(function(u){a.has(u)||pd(u,c)})}Pv.set(n,e)},[e]),n}function hT(e){return e}function fT(e,t){t===void 0&&(t=hT);var n=[],r=!1,a={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:e},useMedium:function(s){var c=t(s,r);return n.push(c),function(){n=n.filter(function(u){return u!==c})}},assignSyncMedium:function(s){for(r=!0;n.length;){var c=n;n=[],c.forEach(s)}n={push:function(u){return s(u)},filter:function(){return n}}},assignMedium:function(s){r=!0;var c=[];if(n.length){var u=n;n=[],u.forEach(s),c=n}var h=function(){var g=c;c=[],g.forEach(s)},f=function(){return Promise.resolve().then(h)};f(),n={push:function(g){c.push(g),f()},filter:function(g){return c=c.filter(g),n}}}};return a}function pT(e){e===void 0&&(e={});var t=fT(null);return t.options=zn({async:!0,ssr:!1},e),t}var sw=function(e){var t=e.sideCar,n=rw(e,["sideCar"]);if(!t)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=t.read();if(!r)throw new Error("Sidecar medium not found");return _.createElement(r,zn({},n))};sw.isSideCarExport=!0;function mT(e,t){return e.useMedium(t),sw}var ow=pT(),md=function(){},Wc=_.forwardRef(function(e,t){var n=_.useRef(null),r=_.useState({onScrollCapture:md,onWheelCapture:md,onTouchMoveCapture:md}),a=r[0],s=r[1],c=e.forwardProps,u=e.children,h=e.className,f=e.removeScrollBar,g=e.enabled,m=e.shards,y=e.sideCar,b=e.noIsolation,j=e.inert,v=e.allowPinchZoom,S=e.as,N=S===void 0?"div":S,w=e.gapMode,C=rw(e,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),k=y,E=dT([n,t]),R=zn(zn({},C),a);return _.createElement(_.Fragment,null,g&&_.createElement(k,{sideCar:ow,removeScrollBar:f,shards:m,noIsolation:b,inert:j,setCallbacks:s,allowPinchZoom:!!v,lockRef:n,gapMode:w}),c?_.cloneElement(_.Children.only(u),zn(zn({},R),{ref:E})):_.createElement(N,zn({},R,{className:h,ref:E}),u))});Wc.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Wc.classNames={fullWidth:Al,zeroRight:Ol};var gT=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function vT(){if(!document)return null;var e=document.createElement("style");e.type="text/css";var t=gT();return t&&e.setAttribute("nonce",t),e}function xT(e,t){e.styleSheet?e.styleSheet.cssText=t:e.appendChild(document.createTextNode(t))}function yT(e){var t=document.head||document.getElementsByTagName("head")[0];t.appendChild(e)}var _T=function(){var e=0,t=null;return{add:function(n){e==0&&(t=vT())&&(xT(t,n),yT(t)),e++},remove:function(){e--,!e&&t&&(t.parentNode&&t.parentNode.removeChild(t),t=null)}}},wT=function(){var e=_T();return function(t,n){_.useEffect(function(){return e.add(t),function(){e.remove()}},[t&&n])}},aw=function(){var e=wT(),t=function(n){var r=n.styles,a=n.dynamic;return e(r,a),null};return t},bT={left:0,top:0,right:0,gap:0},gd=function(e){return parseInt(e||"",10)||0},NT=function(e){var t=window.getComputedStyle(document.body),n=t[e==="padding"?"paddingLeft":"marginLeft"],r=t[e==="padding"?"paddingTop":"marginTop"],a=t[e==="padding"?"paddingRight":"marginRight"];return[gd(n),gd(r),gd(a)]},CT=function(e){if(e===void 0&&(e="margin"),typeof window>"u")return bT;var t=NT(e),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:t[0],top:t[1],right:t[2],gap:Math.max(0,r-n+t[2]-t[0])}},ST=aw(),js="data-scroll-locked",jT=function(e,t,n,r){var a=e.left,s=e.top,c=e.right,u=e.gap;return n===void 0&&(n="margin"),`
  .`.concat(aT,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(u,"px ").concat(r,`;
  }
  body[`).concat(js,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([t&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(a,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(c,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(u,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(u,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ol,` {
    right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Al,` {
    margin-right: `).concat(u,"px ").concat(r,`;
  }
  
  .`).concat(Ol," .").concat(Ol,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Al," .").concat(Al,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(js,`] {
    `).concat(lT,": ").concat(u,`px;
  }
`)},kv=function(){var e=parseInt(document.body.getAttribute(js)||"0",10);return isFinite(e)?e:0},PT=function(){_.useEffect(function(){return document.body.setAttribute(js,(kv()+1).toString()),function(){var e=kv()-1;e<=0?document.body.removeAttribute(js):document.body.setAttribute(js,e.toString())}},[])},kT=function(e){var t=e.noRelative,n=e.noImportant,r=e.gapMode,a=r===void 0?"margin":r;PT();var s=_.useMemo(function(){return CT(a)},[a]);return _.createElement(ST,{styles:jT(s,!t,a,n?"":"!important")})},Ah=!1;if(typeof window<"u")try{var pl=Object.defineProperty({},"passive",{get:function(){return Ah=!0,!0}});window.addEventListener("test",pl,pl),window.removeEventListener("test",pl,pl)}catch{Ah=!1}var es=Ah?{passive:!1}:!1,LT=function(e){return e.tagName==="TEXTAREA"},lw=function(e,t){if(!(e instanceof Element))return!1;var n=window.getComputedStyle(e);return n[t]!=="hidden"&&!(n.overflowY===n.overflowX&&!LT(e)&&n[t]==="visible")},ET=function(e){return lw(e,"overflowY")},TT=function(e){return lw(e,"overflowX")},Lv=function(e,t){var n=t.ownerDocument,r=t;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var a=cw(e,r);if(a){var s=uw(e,r),c=s[1],u=s[2];if(c>u)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},MT=function(e){var t=e.scrollTop,n=e.scrollHeight,r=e.clientHeight;return[t,n,r]},RT=function(e){var t=e.scrollLeft,n=e.scrollWidth,r=e.clientWidth;return[t,n,r]},cw=function(e,t){return e==="v"?ET(t):TT(t)},uw=function(e,t){return e==="v"?MT(t):RT(t)},OT=function(e,t){return e==="h"&&t==="rtl"?-1:1},AT=function(e,t,n,r,a){var s=OT(e,window.getComputedStyle(t).direction),c=s*r,u=n.target,h=t.contains(u),f=!1,g=c>0,m=0,y=0;do{var b=uw(e,u),j=b[0],v=b[1],S=b[2],N=v-S-s*j;(j||N)&&cw(e,u)&&(m+=N,y+=j),u instanceof ShadowRoot?u=u.host:u=u.parentNode}while(!h&&u!==document.body||h&&(t.contains(u)||t===u));return(g&&(Math.abs(m)<1||!a)||!g&&(Math.abs(y)<1||!a))&&(f=!0),f},ml=function(e){return"changedTouches"in e?[e.changedTouches[0].clientX,e.changedTouches[0].clientY]:[0,0]},Ev=function(e){return[e.deltaX,e.deltaY]},Tv=function(e){return e&&"current"in e?e.current:e},IT=function(e,t){return e[0]===t[0]&&e[1]===t[1]},DT=function(e){return`
  .block-interactivity-`.concat(e,` {pointer-events: none;}
  .allow-interactivity-`).concat(e,` {pointer-events: all;}
`)},zT=0,ts=[];function FT(e){var t=_.useRef([]),n=_.useRef([0,0]),r=_.useRef(),a=_.useState(zT++)[0],s=_.useState(aw)[0],c=_.useRef(e);_.useEffect(function(){c.current=e},[e]),_.useEffect(function(){if(e.inert){document.body.classList.add("block-interactivity-".concat(a));var v=oT([e.lockRef.current],(e.shards||[]).map(Tv),!0).filter(Boolean);return v.forEach(function(S){return S.classList.add("allow-interactivity-".concat(a))}),function(){document.body.classList.remove("block-interactivity-".concat(a)),v.forEach(function(S){return S.classList.remove("allow-interactivity-".concat(a))})}}},[e.inert,e.lockRef.current,e.shards]);var u=_.useCallback(function(v,S){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!c.current.allowPinchZoom;var N=ml(v),w=n.current,C="deltaX"in v?v.deltaX:w[0]-N[0],k="deltaY"in v?v.deltaY:w[1]-N[1],E,R=v.target,O=Math.abs(C)>Math.abs(k)?"h":"v";if("touches"in v&&O==="h"&&R.type==="range")return!1;var D=Lv(O,R);if(!D)return!0;if(D?E=O:(E=O==="v"?"h":"v",D=Lv(O,R)),!D)return!1;if(!r.current&&"changedTouches"in v&&(C||k)&&(r.current=E),!E)return!0;var V=r.current||E;return AT(V,S,v,V==="h"?C:k,!0)},[]),h=_.useCallback(function(v){var S=v;if(!(!ts.length||ts[ts.length-1]!==s)){var N="deltaY"in S?Ev(S):ml(S),w=t.current.filter(function(E){return E.name===S.type&&(E.target===S.target||S.target===E.shadowParent)&&IT(E.delta,N)})[0];if(w&&w.should){S.cancelable&&S.preventDefault();return}if(!w){var C=(c.current.shards||[]).map(Tv).filter(Boolean).filter(function(E){return E.contains(S.target)}),k=C.length>0?u(S,C[0]):!c.current.noIsolation;k&&S.cancelable&&S.preventDefault()}}},[]),f=_.useCallback(function(v,S,N,w){var C={name:v,delta:S,target:N,should:w,shadowParent:BT(N)};t.current.push(C),setTimeout(function(){t.current=t.current.filter(function(k){return k!==C})},1)},[]),g=_.useCallback(function(v){n.current=ml(v),r.current=void 0},[]),m=_.useCallback(function(v){f(v.type,Ev(v),v.target,u(v,e.lockRef.current))},[]),y=_.useCallback(function(v){f(v.type,ml(v),v.target,u(v,e.lockRef.current))},[]);_.useEffect(function(){return ts.push(s),e.setCallbacks({onScrollCapture:m,onWheelCapture:m,onTouchMoveCapture:y}),document.addEventListener("wheel",h,es),document.addEventListener("touchmove",h,es),document.addEventListener("touchstart",g,es),function(){ts=ts.filter(function(v){return v!==s}),document.removeEventListener("wheel",h,es),document.removeEventListener("touchmove",h,es),document.removeEventListener("touchstart",g,es)}},[]);var b=e.removeScrollBar,j=e.inert;return _.createElement(_.Fragment,null,j?_.createElement(s,{styles:DT(a)}):null,b?_.createElement(kT,{gapMode:e.gapMode}):null)}function BT(e){for(var t=null;e!==null;)e instanceof ShadowRoot&&(t=e.host,e=e.host),e=e.parentNode;return t}const $T=mT(ow,FT);var up=_.forwardRef(function(e,t){return _.createElement(Wc,zn({},e,{ref:t,sideCar:$T}))});up.classNames=Wc.classNames;var VT=function(e){if(typeof document>"u")return null;var t=Array.isArray(e)?e[0]:e;return t.ownerDocument.body},ns=new WeakMap,gl=new WeakMap,vl={},vd=0,dw=function(e){return e&&(e.host||dw(e.parentNode))},UT=function(e,t){return t.map(function(n){if(e.contains(n))return n;var r=dw(n);return r&&e.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",e,". Doing nothing"),null)}).filter(function(n){return!!n})},HT=function(e,t,n,r){var a=UT(t,Array.isArray(e)?e:[e]);vl[n]||(vl[n]=new WeakMap);var s=vl[n],c=[],u=new Set,h=new Set(a),f=function(m){!m||u.has(m)||(u.add(m),f(m.parentNode))};a.forEach(f);var g=function(m){!m||h.has(m)||Array.prototype.forEach.call(m.children,function(y){if(u.has(y))g(y);else try{var b=y.getAttribute(r),j=b!==null&&b!=="false",v=(ns.get(y)||0)+1,S=(s.get(y)||0)+1;ns.set(y,v),s.set(y,S),c.push(y),v===1&&j&&gl.set(y,!0),S===1&&y.setAttribute(n,"true"),j||y.setAttribute(r,"true")}catch(N){console.error("aria-hidden: cannot operate on ",y,N)}})};return g(t),u.clear(),vd++,function(){c.forEach(function(m){var y=ns.get(m)-1,b=s.get(m)-1;ns.set(m,y),s.set(m,b),y||(gl.has(m)||m.removeAttribute(r),gl.delete(m)),b||m.removeAttribute(n)}),vd--,vd||(ns=new WeakMap,ns=new WeakMap,gl=new WeakMap,vl={})}},hw=function(e,t,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(e)?e:[e]),a=VT(e);return a?(r.push.apply(r,Array.from(a.querySelectorAll("[aria-live]"))),HT(r,a,n,"aria-hidden")):function(){return null}},dp="Dialog",[fw,sR]=qt(dp),[ZT,Sn]=fw(dp),pw=e=>{const{__scopeDialog:t,children:n,open:r,defaultOpen:a,onOpenChange:s,modal:c=!0}=e,u=_.useRef(null),h=_.useRef(null),[f=!1,g]=ui({prop:r,defaultProp:a,onChange:s});return o.jsx(ZT,{scope:t,triggerRef:u,contentRef:h,contentId:Ki(),titleId:Ki(),descriptionId:Ki(),open:f,onOpenChange:g,onOpenToggle:_.useCallback(()=>g(m=>!m),[g]),modal:c,children:n})};pw.displayName=dp;var mw="DialogTrigger",WT=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Sn(mw,n),s=Ae(t,a.triggerRef);return o.jsx(me.button,{type:"button","aria-haspopup":"dialog","aria-expanded":a.open,"aria-controls":a.contentId,"data-state":pp(a.open),...r,ref:s,onClick:ae(e.onClick,a.onOpenToggle)})});WT.displayName=mw;var hp="DialogPortal",[GT,gw]=fw(hp,{forceMount:void 0}),vw=e=>{const{__scopeDialog:t,forceMount:n,children:r,container:a}=e,s=Sn(hp,t);return o.jsx(GT,{scope:t,forceMount:n,children:_.Children.map(r,c=>o.jsx(pi,{present:n||s.open,children:o.jsx(Oc,{asChild:!0,container:a,children:c})}))})};vw.displayName=hp;var pc="DialogOverlay",xw=_.forwardRef((e,t)=>{const n=gw(pc,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=Sn(pc,e.__scopeDialog);return s.modal?o.jsx(pi,{present:r||s.open,children:o.jsx(qT,{...a,ref:t})}):null});xw.displayName=pc;var KT=Ks("DialogOverlay.RemoveScroll"),qT=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Sn(pc,n);return o.jsx(up,{as:KT,allowPinchZoom:!0,shards:[a.contentRef],children:o.jsx(me.div,{"data-state":pp(a.open),...r,ref:t,style:{pointerEvents:"auto",...r.style}})})}),Dr="DialogContent",yw=_.forwardRef((e,t)=>{const n=gw(Dr,e.__scopeDialog),{forceMount:r=n.forceMount,...a}=e,s=Sn(Dr,e.__scopeDialog);return o.jsx(pi,{present:r||s.open,children:s.modal?o.jsx(QT,{...a,ref:t}):o.jsx(YT,{...a,ref:t})})});yw.displayName=Dr;var QT=_.forwardRef((e,t)=>{const n=Sn(Dr,e.__scopeDialog),r=_.useRef(null),a=Ae(t,n.contentRef,r);return _.useEffect(()=>{const s=r.current;if(s)return hw(s)},[]),o.jsx(_w,{...e,ref:a,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ae(e.onCloseAutoFocus,s=>{var c;s.preventDefault(),(c=n.triggerRef.current)==null||c.focus()}),onPointerDownOutside:ae(e.onPointerDownOutside,s=>{const c=s.detail.originalEvent,u=c.button===0&&c.ctrlKey===!0;(c.button===2||u)&&s.preventDefault()}),onFocusOutside:ae(e.onFocusOutside,s=>s.preventDefault())})}),YT=_.forwardRef((e,t)=>{const n=Sn(Dr,e.__scopeDialog),r=_.useRef(!1),a=_.useRef(!1);return o.jsx(_w,{...e,ref:t,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var c,u;(c=e.onCloseAutoFocus)==null||c.call(e,s),s.defaultPrevented||(r.current||(u=n.triggerRef.current)==null||u.focus(),s.preventDefault()),r.current=!1,a.current=!1},onInteractOutside:s=>{var h,f;(h=e.onInteractOutside)==null||h.call(e,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(a.current=!0));const c=s.target;((f=n.triggerRef.current)==null?void 0:f.contains(c))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&a.current&&s.preventDefault()}})}),_w=_.forwardRef((e,t)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:a,onCloseAutoFocus:s,...c}=e,u=Sn(Dr,n),h=_.useRef(null),f=Ae(t,h);return iw(),o.jsxs(o.Fragment,{children:[o.jsx(cp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:a,onUnmountAutoFocus:s,children:o.jsx(Na,{role:"dialog",id:u.contentId,"aria-describedby":u.descriptionId,"aria-labelledby":u.titleId,"data-state":pp(u.open),...c,ref:f,onDismiss:()=>u.onOpenChange(!1)})}),o.jsxs(o.Fragment,{children:[o.jsx(XT,{titleId:u.titleId}),o.jsx(e2,{contentRef:h,descriptionId:u.descriptionId})]})]})}),fp="DialogTitle",ww=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Sn(fp,n);return o.jsx(me.h2,{id:a.titleId,...r,ref:t})});ww.displayName=fp;var bw="DialogDescription",Nw=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Sn(bw,n);return o.jsx(me.p,{id:a.descriptionId,...r,ref:t})});Nw.displayName=bw;var Cw="DialogClose",Sw=_.forwardRef((e,t)=>{const{__scopeDialog:n,...r}=e,a=Sn(Cw,n);return o.jsx(me.button,{type:"button",...r,ref:t,onClick:ae(e.onClick,()=>a.onOpenChange(!1))})});Sw.displayName=Cw;function pp(e){return e?"open":"closed"}var jw="DialogTitleWarning",[oR,Pw]=TP(jw,{contentName:Dr,titleName:fp,docsSlug:"dialog"}),XT=({titleId:e})=>{const t=Pw(jw),n=`\`${t.contentName}\` requires a \`${t.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${t.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${t.docsSlug}`;return _.useEffect(()=>{e&&(document.getElementById(e)||console.error(n))},[n,e]),null},JT="DialogDescriptionWarning",e2=({contentRef:e,descriptionId:t})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${Pw(JT).contentName}}.`;return _.useEffect(()=>{var s;const a=(s=e.current)==null?void 0:s.getAttribute("aria-describedby");t&&a&&(document.getElementById(t)||console.warn(r))},[r,e,t]),null},t2=pw,n2=vw,kw=xw,Lw=yw,Ew=ww,Tw=Nw,i2=Sw;const r2=t2,s2=n2,Mw=_.forwardRef(({className:e,...t},n)=>o.jsx(kw,{ref:n,className:_e("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",e),...t}));Mw.displayName=kw.displayName;const Rw=_.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(s2,{children:[o.jsx(Mw,{}),o.jsxs(Lw,{ref:r,className:_e("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",e),...n,children:[t,o.jsxs(i2,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[o.jsx(zc,{className:"h-4 w-4"}),o.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Rw.displayName=Lw.displayName;const Ow=({className:e,...t})=>o.jsx("div",{className:_e("flex flex-col space-y-1.5 text-center sm:text-left",e),...t});Ow.displayName="DialogHeader";const Aw=_.forwardRef(({className:e,...t},n)=>o.jsx(Ew,{ref:n,className:_e("text-lg font-semibold leading-none tracking-tight",e),...t}));Aw.displayName=Ew.displayName;const o2=_.forwardRef(({className:e,...t},n)=>o.jsx(Tw,{ref:n,className:_e("text-sm text-muted-foreground",e),...t}));o2.displayName=Tw.displayName;const a2=Dc("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function qi({className:e,variant:t,...n}){return o.jsx("div",{className:_e(a2({variant:t}),e),...n})}function Ih(e){return/^401: .*Unauthorized/.test(e.message)}function Iw({restaurantId:e,className:t="",size:n="md"}){const{isAuthenticated:r}=ja(),{toast:a}=Ft(),s=Un(),{data:c}=St({queryKey:["/api/favorites/check",e],enabled:r}),u=c&&typeof c=="object"&&"isFavorite"in c?c.isFavorite:!1,h=Dt({mutationFn:async()=>{await ci("/api/favorites","POST",{restaurantId:e})},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/favorites"]}),s.invalidateQueries({queryKey:["/api/favorites/check",e]}),a({title:"Added to Favorites",description:"Restaurant saved to your favorites list."})},onError:b=>{if(Ih(b)){a({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}a({title:"Error",description:"Failed to add to favorites.",variant:"destructive"})}}),f=Dt({mutationFn:async()=>{await ci(`/api/favorites/${e}`,"DELETE")},onSuccess:()=>{s.invalidateQueries({queryKey:["/api/favorites"]}),s.invalidateQueries({queryKey:["/api/favorites/check",e]}),a({title:"Removed from Favorites",description:"Restaurant removed from your favorites list."})},onError:b=>{if(Ih(b)){a({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}a({title:"Error",description:"Failed to remove from favorites.",variant:"destructive"})}}),g=()=>{if(!r){a({title:"Login Required",description:"Please log in to save favorites.",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},1e3);return}u?f.mutate():h.mutate()},m={sm:"h-6 w-6",md:"h-7 w-7",lg:"h-8 w-8"},y={sm:"p-1",md:"p-1.5",lg:"p-2"};return o.jsx(re,{variant:"ghost",size:"sm",onClick:g,disabled:h.isPending||f.isPending,className:`${y[n]} hover:bg-red-50 dark:hover:bg-red-900/20 ${t}`,title:u?"Remove from favorites":"Add to favorites",children:o.jsx(f0,{className:`${m[n]} transition-colors ${u?"fill-red-500 text-red-500":"text-gray-400 hover:text-red-500"}`})})}function l2({restaurant:e,isOpen:t,onClose:n}){if(!e)return null;const r=e.veganScore?parseFloat(e.veganScore):0,a=e.rating?parseFloat(e.rating):0,s=h=>h>=8.5?"text-green-600 bg-green-50":h>=7?"text-green-500 bg-green-50":h>=5.5?"text-yellow-600 bg-yellow-50":h>=4?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",c=h=>h>=8.5?"Excellent":h>=7?"Very Good":h>=5.5?"Good":h>=4?"Fair":"Limited",u=()=>{if(!e.openingHours||typeof e.openingHours!="object")return["Hours not available"];const h=e.openingHours;return h.weekday_text&&Array.isArray(h.weekday_text)?h.weekday_text.slice(0,3):["Hours not available"]};return o.jsx(r2,{open:t,onOpenChange:n,children:o.jsxs(Rw,{className:"max-w-2xl max-h-[90vh] overflow-y-auto",children:[o.jsxs(Ow,{className:"flex flex-row items-start justify-between",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx(Aw,{className:"text-xl font-semibold mb-2",children:e.name}),o.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[o.jsx(kr,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"text-sm",children:e.address})]})]}),o.jsx(Iw,{restaurantId:e.id,size:"lg"})]}),o.jsxs("div",{className:"space-y-6",children:[o.jsx("div",{className:"bg-gray-50 p-4 rounded-lg",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-lg",children:"Vegan Friendliness"}),o.jsx("p",{className:"text-sm text-gray-600",children:"AI-calculated score based on menu, staff knowledge, and policies"})]}),o.jsx("div",{className:"text-right",children:o.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${s(r)}`,children:[r.toFixed(1),"/10 · ",c(r)]})})]})}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[o.jsxs("div",{className:"space-y-3",children:[a>0&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Yf,{className:"h-4 w-4 text-yellow-500 mr-2"}),o.jsx("span",{className:"font-medium",children:a.toFixed(1)}),o.jsx("span",{className:"text-gray-600 ml-1",children:"Google Rating"})]}),e.phoneNumber&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(cc,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("a",{href:`tel:${e.phoneNumber}`,className:"text-blue-600 hover:underline",children:e.phoneNumber})]}),e.website&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(h0,{className:"h-4 w-4 text-gray-500 mr-2"}),o.jsx("a",{href:e.website,target:"_blank",rel:"noopener noreferrer",className:"text-blue-600 hover:underline",children:"Visit Website"})]}),e.priceLevel&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-gray-500 mr-2",children:"Price:"}),o.jsx("span",{className:"font-medium",children:"€".repeat(parseInt(e.priceLevel.toString()))})]})]}),o.jsx("div",{className:"space-y-3",children:o.jsxs("div",{className:"flex items-start",children:[o.jsx(d0,{className:"h-4 w-4 text-gray-500 mr-2 mt-1"}),o.jsxs("div",{children:[o.jsx("div",{className:"font-medium text-sm",children:"Opening Hours"}),o.jsx("div",{className:"text-sm text-gray-600 space-y-1",children:u().map((h,f)=>o.jsx("div",{children:h},f))})]})]})})]}),e.cuisineTypes&&e.cuisineTypes.length>0&&o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium mb-2",children:"Cuisine Types"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.cuisineTypes.filter(h=>!["point_of_interest","establishment"].includes(h)).slice(0,6).map(h=>o.jsx(qi,{variant:"secondary",className:"text-xs",children:h.replace(/_/g," ").toLowerCase()},h))})]}),o.jsxs("div",{className:"flex gap-3 pt-4 border-t",children:[o.jsxs(re,{onClick:()=>{const h=encodeURIComponent(`${e.name} ${e.address}`);window.open(`https://www.google.com/maps/search/?api=1&query=${h}`,"_blank")},className:"flex-1",children:[o.jsx(kr,{className:"h-4 w-4 mr-2"}),"Directions"]}),e.phoneNumber&&o.jsxs(re,{variant:"outline",onClick:()=>window.open(`tel:${e.phoneNumber}`,"_self"),className:"flex-1",children:[o.jsx(cc,{className:"h-4 w-4 mr-2"}),"Call"]})]})]})]})})}function c2({restaurant:e,onClose:t,onNavigate:n,onViewDetails:r}){const{user:a}=ja(),{toast:s}=Ft(),c=Un(),u=e.veganScore?parseFloat(e.veganScore):0,h=e.rating?parseFloat(e.rating):0,{data:f=!1}=St({queryKey:["/api/favorites/check",e.id],queryFn:async()=>{if(!a)return!1;const b=await fetch(`/api/favorites/check/${e.id}`);return b.ok?(await b.json()).isFavorite:!1},enabled:!!a}),g=Dt({mutationFn:async b=>b==="add"?ci("/api/favorites","POST",{restaurantId:e.id}):ci(`/api/favorites/${e.id}`,"DELETE"),onSuccess:()=>{c.invalidateQueries({queryKey:["/api/favorites"]}),c.invalidateQueries({queryKey:["/api/favorites/check",e.id]}),s({title:f?"Премахнато от любими":"Добавено в любими",description:`${e.name} беше ${f?"премахнат от":"добавен в"} любимите ти ресторанти`})},onError:()=>{s({title:"Грешка",description:"Възникна проблем с добавянето в любими",variant:"destructive"})}}),m=()=>{if(!a){s({title:"Трябва да влезете",description:"Влезте в профила си за да добавяте любими ресторанти",variant:"destructive"});return}g.mutate(f?"remove":"add")},y=b=>b>=8.5?"bg-green-600":b>=7?"bg-green-500":b>=5.5?"bg-yellow-500":b>=4?"bg-orange-500":"bg-red-500";return o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm z-[1999]",onClick:t,style:{touchAction:"manipulation"}}),o.jsxs("div",{className:"fixed bottom-0 left-0 right-0 bg-white shadow-2xl border-t border-gray-200 p-4 z-[2000] rounded-t-2xl",onClick:b=>b.stopPropagation(),style:{touchAction:"manipulation"},children:[o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"text-lg font-semibold text-gray-900 mb-1 line-clamp-2",children:e.name}),o.jsxs("div",{className:"flex items-center text-gray-600",children:[o.jsx(kr,{className:"h-4 w-4 mr-1 flex-shrink-0"}),o.jsx("span",{className:"text-sm line-clamp-1",children:e.address})]})]}),o.jsx(re,{onClick:t,variant:"ghost",size:"sm",className:"p-1 h-8 w-8 rounded-full hover:bg-gray-100",children:o.jsx(zc,{className:"h-4 w-4"})})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-4",children:[o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center mb-1",children:[o.jsx(Dk,{className:"h-4 w-4 mr-1"}),o.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Vegan Score"})]}),o.jsxs("div",{className:`inline-flex items-center px-2 py-1 rounded text-white text-sm font-bold ${y(u)}`,children:[u>0?u.toFixed(1):"?","/10"]})]}),o.jsxs("div",{className:"text-center",children:[o.jsxs("div",{className:"flex items-center justify-center mb-1",children:[o.jsx(Yf,{className:"h-4 w-4 mr-1"}),o.jsx("span",{className:"text-xs font-medium text-gray-600",children:"Maps Score"})]}),o.jsxs("div",{className:"inline-flex items-center px-2 py-1 rounded bg-blue-500 text-white text-sm font-bold",children:[h>0?h.toFixed(1):"?","/5"]})]})]}),o.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[o.jsxs(re,{onClick:n,className:"bg-blue-600 hover:bg-blue-700 text-white py-3 px-3 rounded-lg flex items-center justify-center font-semibold text-sm touch-manipulation",size:"sm",children:[o.jsx(Mk,{className:"h-4 w-4 mr-1"}),"Навигирай"]}),o.jsxs(re,{onClick:r,className:"bg-green-600 hover:bg-green-700 text-white py-3 px-3 rounded-lg flex items-center justify-center font-semibold text-sm touch-manipulation",size:"sm",children:[o.jsx(Lk,{className:"h-4 w-4 mr-1"}),"Разгледай"]}),o.jsxs(re,{onClick:m,disabled:g.isPending,className:`${f?"bg-red-600 hover:bg-red-700":"bg-gray-600 hover:bg-gray-700"} text-white py-3 px-3 rounded-lg flex items-center justify-center font-semibold text-sm touch-manipulation`,size:"sm",children:[o.jsx(f0,{className:`h-4 w-4 mr-1 ${f?"fill-current":""}`}),"Любими"]})]})]})]})}const In=_.forwardRef(({className:e,type:t,...n},r)=>o.jsx("input",{type:t,className:_e("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:r,...n}));In.displayName="Input";var u2="Label",Dw=_.forwardRef((e,t)=>o.jsx(me.label,{...e,ref:t,onMouseDown:n=>{var a;n.target.closest("button, input, select, textarea")||((a=e.onMouseDown)==null||a.call(e,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Dw.displayName=u2;var zw=Dw;const d2=Dc("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Ve=_.forwardRef(({className:e,...t},n)=>o.jsx(zw,{ref:n,className:_e(d2(),e),...t}));Ve.displayName=zw.displayName;function Gc(e){const t=_.useRef({value:e,previous:e});return _.useMemo(()=>(t.current.value!==e&&(t.current.previous=t.current.value,t.current.value=e),t.current.previous),[e])}var mp="Checkbox",[h2,aR]=qt(mp),[f2,p2]=h2(mp),Fw=_.forwardRef((e,t)=>{const{__scopeCheckbox:n,name:r,checked:a,defaultChecked:s,required:c,disabled:u,value:h="on",onCheckedChange:f,form:g,...m}=e,[y,b]=_.useState(null),j=Ae(t,k=>b(k)),v=_.useRef(!1),S=y?g||!!y.closest("form"):!0,[N=!1,w]=ui({prop:a,defaultProp:s,onChange:f}),C=_.useRef(N);return _.useEffect(()=>{const k=y==null?void 0:y.form;if(k){const E=()=>w(C.current);return k.addEventListener("reset",E),()=>k.removeEventListener("reset",E)}},[y,w]),o.jsxs(f2,{scope:n,state:N,disabled:u,children:[o.jsx(me.button,{type:"button",role:"checkbox","aria-checked":Qi(N)?"mixed":N,"aria-required":c,"data-state":Vw(N),"data-disabled":u?"":void 0,disabled:u,value:h,...m,ref:j,onKeyDown:ae(e.onKeyDown,k=>{k.key==="Enter"&&k.preventDefault()}),onClick:ae(e.onClick,k=>{w(E=>Qi(E)?!0:!E),S&&(v.current=k.isPropagationStopped(),v.current||k.stopPropagation())})}),S&&o.jsx(m2,{control:y,bubbles:!v.current,name:r,value:h,checked:N,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"},defaultChecked:Qi(s)?!1:s})]})});Fw.displayName=mp;var Bw="CheckboxIndicator",$w=_.forwardRef((e,t)=>{const{__scopeCheckbox:n,forceMount:r,...a}=e,s=p2(Bw,n);return o.jsx(pi,{present:r||Qi(s.state)||s.state===!0,children:o.jsx(me.span,{"data-state":Vw(s.state),"data-disabled":s.disabled?"":void 0,...a,ref:t,style:{pointerEvents:"none",...e.style}})})});$w.displayName=Bw;var m2=e=>{const{control:t,checked:n,bubbles:r=!0,defaultChecked:a,...s}=e,c=_.useRef(null),u=Gc(n),h=Vc(t);_.useEffect(()=>{const g=c.current,m=window.HTMLInputElement.prototype,b=Object.getOwnPropertyDescriptor(m,"checked").set;if(u!==n&&b){const j=new Event("click",{bubbles:r});g.indeterminate=Qi(n),b.call(g,Qi(n)?!1:n),g.dispatchEvent(j)}},[u,n,r]);const f=_.useRef(Qi(n)?!1:n);return o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:a??f.current,...s,tabIndex:-1,ref:c,style:{...e.style,...h,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Qi(e){return e==="indeterminate"}function Vw(e){return Qi(e)?"indeterminate":e?"checked":"unchecked"}var Uw=Fw,g2=$w;const xr=_.forwardRef(({className:e,...t},n)=>o.jsx(Uw,{ref:n,className:_e("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...t,children:o.jsx(g2,{className:_e("flex items-center justify-center text-current"),children:o.jsx(c0,{className:"h-4 w-4"})})}));xr.displayName=Uw.displayName;const v2=[{value:"1",label:"$ - Евтино"},{value:"2",label:"$$ - Умерено"},{value:"3",label:"$$$ - Скъпо"},{value:"4",label:"$$$$ - Много скъпо"}],x2=["Вегански","Вегетариански","Индийска","Средиземноморска","Азиатска","Мексиканска","Италианска","Тайландска","Китайска","Японска","Гръцка","Ливанска"],Mv=["Глутен","Лактоза","Ядки","Соя","Яйца","Риба","Ракообразни","Сусам"];function y2({isOpen:e,onClose:t,onApplyFilters:n,initialFilters:r}){const[a,s]=_.useState(r||{minVeganScore:0,minGoogleScore:0,maxDistance:10,priceRange:[],cuisineTypes:[],allergies:[],customAllergy:""}),[c,u]=_.useState(""),h=(v,S)=>{s(N=>({...N,priceRange:S?[...N.priceRange,v]:N.priceRange.filter(w=>w!==v)}))},f=(v,S)=>{s(N=>({...N,cuisineTypes:S?[...N.cuisineTypes,v]:N.cuisineTypes.filter(w=>w!==v)}))},g=(v,S)=>{s(N=>({...N,allergies:S?[...N.allergies,v]:N.allergies.filter(w=>w!==v)}))},m=()=>{c.trim()&&!a.allergies.includes(c.trim())&&(s(v=>({...v,allergies:[...v.allergies,c.trim()]})),u(""))},y=v=>{s(S=>({...S,allergies:S.allergies.filter(N=>N!==v)}))},b=()=>{n(a),t()},j=()=>{s({minVeganScore:0,minGoogleScore:0,maxDistance:10,priceRange:[],cuisineTypes:[],allergies:[],customAllergy:""}),u("")};return e?o.jsxs("div",{className:"fixed inset-0 bg-white z-[2001] overflow-y-auto",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between shadow-sm",children:[o.jsxs(re,{onClick:t,variant:"ghost",size:"sm",className:"flex items-center",children:[o.jsx(Qf,{className:"h-4 w-4 mr-2"}),"Назад"]}),o.jsx("h1",{className:"text-lg font-semibold",children:"Разширено търсене"}),o.jsxs(re,{onClick:b,size:"sm",className:"bg-green-600 hover:bg-green-700 text-white flex items-center",children:[o.jsx(p0,{className:"h-4 w-4 mr-2"}),"Запази"]})]}),o.jsxs("div",{className:"p-4 space-y-6",children:[o.jsxs("div",{children:[o.jsxs(Ve,{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Минимален Vegan Score: ",a.minVeganScore]}),o.jsx("input",{type:"range",min:"0",max:"10",step:"0.5",value:a.minVeganScore,onChange:v=>s(S=>({...S,minVeganScore:parseFloat(v.target.value)})),className:"w-full h-4 bg-gradient-to-r from-red-200 via-yellow-200 to-green-200 rounded-lg appearance-none cursor-pointer"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[o.jsx("span",{children:"0 - Слабо"}),o.jsx("span",{children:"5 - Добре"}),o.jsx("span",{children:"10 - Отлично"})]})]}),o.jsxs("div",{children:[o.jsxs(Ve,{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Минимален Google Rating: ",a.minGoogleScore]}),o.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:a.minGoogleScore,onChange:v=>s(S=>({...S,minGoogleScore:parseFloat(v.target.value)})),className:"w-full h-4 bg-gradient-to-r from-red-200 to-green-200 rounded-lg appearance-none cursor-pointer"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[o.jsx("span",{children:"0 ⭐"}),o.jsx("span",{children:"2.5 ⭐⭐⭐"}),o.jsx("span",{children:"5 ⭐⭐⭐⭐⭐"})]})]}),o.jsxs("div",{children:[o.jsxs(Ve,{className:"text-sm font-medium text-gray-700 mb-3 block",children:["Максимално разстояние: ",a.maxDistance," км"]}),o.jsx("input",{type:"range",min:"1",max:"50",step:"1",value:a.maxDistance,onChange:v=>s(S=>({...S,maxDistance:parseInt(v.target.value)})),className:"w-full h-4 bg-gradient-to-r from-green-200 to-red-200 rounded-lg appearance-none cursor-pointer"}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-2",children:[o.jsx("span",{children:"1 км"}),o.jsx("span",{children:"25 км"}),o.jsx("span",{children:"50 км"})]})]}),o.jsxs("div",{children:[o.jsx(Ve,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Ценови диапазон"}),o.jsx("div",{className:"space-y-2",children:v2.map(v=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xr,{id:`price-${v.value}`,checked:a.priceRange.includes(v.value),onCheckedChange:S=>h(v.value,S)}),o.jsx(Ve,{htmlFor:`price-${v.value}`,className:"text-sm",children:v.label})]},v.value))})]}),o.jsxs("div",{children:[o.jsx(Ve,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Тип кухня"}),o.jsx("div",{className:"grid grid-cols-2 gap-2",children:x2.map(v=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xr,{id:`cuisine-${v}`,checked:a.cuisineTypes.includes(v),onCheckedChange:S=>f(v,S)}),o.jsx(Ve,{htmlFor:`cuisine-${v}`,className:"text-sm",children:v})]},v))})]}),o.jsxs("div",{children:[o.jsx(Ve,{className:"text-sm font-medium text-gray-700 mb-3 block",children:"Алергии и диетични ограничения"}),o.jsxs("div",{className:"grid grid-cols-2 gap-2 mb-4",children:[Mv.map(v=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xr,{id:`allergy-${v}`,checked:a.allergies.includes(v),onCheckedChange:S=>g(v,S)}),o.jsx(Ve,{htmlFor:`allergy-${v}`,className:"text-sm",children:v})]},v)),a.allergies.filter(v=>!Mv.includes(v)).map(v=>o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(xr,{id:`custom-allergy-${v}`,checked:!0,onCheckedChange:S=>{S||y(v)}}),o.jsx(Ve,{htmlFor:`custom-allergy-${v}`,className:"text-sm text-purple-700 font-medium",children:v}),o.jsx("button",{onClick:()=>y(v),className:"ml-1 text-red-500 hover:text-red-700 text-xs",children:o.jsx(zc,{className:"h-3 w-3"})})]},v))]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{className:"text-xs text-gray-600",children:"Добави специфична алергия:"}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(In,{value:c,onChange:v=>u(v.target.value),placeholder:"Напр. авокадо, киноа...",className:"text-sm"}),o.jsx(re,{onClick:m,size:"sm",variant:"outline",disabled:!c.trim(),children:"Добави"})]})]})]}),o.jsx("div",{className:"pt-4 border-t border-gray-200",children:o.jsx(re,{onClick:j,variant:"outline",className:"w-full py-3 text-gray-600 border-gray-300 hover:bg-gray-50",children:"Нулирай всички филтри"})})]})]}):null}function _2({searchQuery:e,onSearchChange:t,showSuggestions:n,onShowSuggestions:r,searchSuggestions:a,onOpenChat:s,onOpenAdvancedSearch:c}){return o.jsx("header",{className:"lg:hidden fixed top-0 left-0 right-0 bg-white/95 backdrop-blur-sm border-b border-gray-200 shadow-lg h-16 z-[99999]",style:{position:"fixed",top:0,left:0,right:0,width:"100%",height:"64px",zIndex:99999},children:o.jsxs("div",{className:"flex items-center px-4 py-2 h-full",children:[o.jsxs("div",{className:"flex-1 relative mr-2",children:[o.jsxs("div",{className:"bg-gray-50 border border-gray-300 rounded-full shadow-sm flex items-center px-3 py-1.5",children:[o.jsx("div",{className:"text-gray-400 mr-2 text-sm",children:"🔍"}),o.jsx("input",{type:"text",placeholder:"Search vegan places...",className:"flex-1 outline-none text-gray-700 text-sm bg-transparent",value:e,onChange:u=>t(u.target.value),onFocus:()=>r(e.length>1),onBlur:()=>setTimeout(()=>r(!1),200)}),e&&o.jsx("button",{onClick:()=>t(""),className:"ml-2 text-gray-400 hover:text-gray-600 text-lg",children:"×"})]}),n&&a.length>0&&o.jsxs("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-lg shadow-lg mt-1 max-h-80 overflow-y-auto z-[100000]",children:[a.filter(u=>u.type==="restaurant").slice(0,15).map((u,h)=>o.jsx("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>{t(u.name),r(!1)},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-green-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-green-600 text-sm",children:"🍽️"})})}),o.jsxs("div",{className:"flex-1 min-w-0",children:[o.jsx("div",{className:"text-gray-900 font-medium truncate",children:u.name}),o.jsx("div",{className:"text-sm text-gray-500 truncate",children:u.address})]}),u.veganScore&&o.jsx("div",{className:"flex-shrink-0",children:o.jsxs("span",{className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-green-100 text-green-800",children:[u.veganScore,"/10"]})})]})},`restaurant-${h}`)),a.filter(u=>u.type==="cuisine").slice(0,5).map((u,h)=>o.jsx("div",{className:"p-3 hover:bg-gray-50 cursor-pointer border-b border-gray-100 last:border-b-0",onClick:()=>{t(u.name),r(!1)},children:o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"flex-shrink-0",children:o.jsx("div",{className:"w-8 h-8 bg-blue-100 rounded-full flex items-center justify-center",children:o.jsx("span",{className:"text-blue-600 text-sm",children:"🏷️"})})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"text-gray-700 capitalize font-medium",children:u.name}),o.jsx("div",{className:"text-sm text-gray-500",children:"Cuisine type"})]})]})},`cuisine-${h}`)),a.length===0&&o.jsxs("div",{className:"p-4 text-center text-gray-500",children:[o.jsx("div",{className:"text-sm",children:"No results found"}),o.jsx("div",{className:"text-xs mt-1",children:"Try a different search term"})]})]})]}),o.jsxs("div",{className:"flex items-center space-x-1",children:[o.jsx("button",{onClick:c||(()=>console.log("Advanced search not connected")),className:"w-9 h-9 bg-gradient-to-r from-purple-500 to-purple-600 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 active:scale-95",title:"Advanced Search",style:{touchAction:"manipulation"},children:o.jsx("span",{className:"text-white text-sm",children:"⚙️"})}),o.jsx("button",{onClick:s||(()=>window.location.href="/ai-chat"),className:"w-9 h-9 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 active:scale-95",title:"AI Voice Assistant",style:{touchAction:"manipulation"},children:o.jsx("span",{className:"text-white text-sm",children:"🎤"})}),o.jsx("a",{href:"/profile",children:o.jsx("button",{className:"w-9 h-9 bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center text-white text-xs font-medium shadow-md hover:shadow-lg transition-all duration-200 hover:scale-105 active:scale-95",style:{touchAction:"manipulation"},children:"BK"})})]})]})})}function w2(){const[e,t]=_.useState(null),[n,r]=_.useState(null),[a,s]=_.useState(!1),c=()=>new Promise((u,h)=>{if(!navigator.geolocation){const f="Geolocation is not supported by this browser";r(f),h(new Error(f));return}s(!0),r(null),navigator.geolocation.getCurrentPosition(f=>{const g={lat:f.coords.latitude,lng:f.coords.longitude,accuracy:f.coords.accuracy};t(g),s(!1),u(g)},f=>{let g="Failed to get location";switch(f.code){case f.PERMISSION_DENIED:g="Location access denied by user";break;case f.POSITION_UNAVAILABLE:g="Location information unavailable";break;case f.TIMEOUT:g="Location request timed out";break}r(g),s(!1),h(new Error(g))},{enableHighAccuracy:!0,timeout:1e4,maximumAge:3e5})});return _.useEffect(()=>{c().catch(()=>{})},[]),{position:e,error:n,loading:a,getCurrentPosition:c}}function Rv(){const[,e]=sr(),{position:t,loading:n,error:r,getCurrentPosition:a}=w2(),[s,c]=_.useState(null),[u,h]=_.useState(!1),[f,g]=_.useState(!1),[m,y]=_.useState(!1),[b,j]=_.useState(""),[v,S]=_.useState([]),[N,w]=_.useState([]),[C,k]=_.useState(!1),[E,R]=_.useState(typeof window<"u"&&window.innerWidth<1024),[O,D]=_.useState(0),[V,H]=_.useState(0),Q=new URLSearchParams(window.location.search),W=Q.get("lat"),le=Q.get("lng"),Z=Q.get("restaurant"),ce=W&&le?{lat:parseFloat(W),lng:parseFloat(le)}:t,{data:G=[],isLoading:se}=St({queryKey:["/api/restaurants/all-available"],queryFn:async()=>{console.log("Fetching all available restaurants with AI scores");const F=await fetch("/api/restaurants/all-available");if(!F.ok)throw new Error("Failed to fetch restaurants");const ne=await F.json();return console.log("Received restaurant data:",ne),ne}});_.useEffect(()=>{if(G.length>0&&(console.log("Home component - restaurants count:",G.length),console.log("Sample restaurant scores:",G.slice(0,10).map(F=>({name:F.name,score:F.veganScore}))),Z)){const F=G.find(ne=>ne.id===Z);if(F){console.log("Auto-selecting restaurant from URL:",F.name),c(F),g(!0);const ne=new URL(window.location.href);ne.searchParams.delete("restaurant"),window.history.replaceState({},"",ne.toString())}}},[G.length,Z]),_.useEffect(()=>{if(!G.length){v.length>0&&S([]);return}let F=G;b.trim()&&(F=F.filter(ne=>ne.name.toLowerCase().includes(b.toLowerCase())||ne.address.toLowerCase().includes(b.toLowerCase()))),F=F.filter(ne=>(ne.veganScore?parseFloat(ne.veganScore):0)>=O),F=F.filter(ne=>(ne.rating?parseFloat(ne.rating):0)>=V),JSON.stringify(F)!==JSON.stringify(v)&&(S(F),console.log("Showing",F.length,"restaurants"))},[G.length,b,O,V]),_.useEffect(()=>{if(!G.length){w([]);return}if(!b.trim()){w([]),k(!1);return}const F=G.filter(ge=>ge.name.toLowerCase().includes(b.toLowerCase())||ge.address.toLowerCase().includes(b.toLowerCase())).slice(0,15).map(ge=>({id:ge.id,name:ge.name,address:ge.address,veganScore:ge.veganScore,type:"restaurant"})),ne=Array.from(new Set(G.filter(ge=>ge.cuisineTypes).flatMap(ge=>ge.cuisineTypes).filter(ge=>typeof ge=="string"&&ge.toLowerCase().includes(b.toLowerCase())&&!["point_of_interest","establishment","food","restaurant"].includes(ge)))).slice(0,5).map(ge=>({id:ge,name:ge.replace(/_/g," ").toLowerCase(),type:"cuisine"}));w([...F,...ne]),k(b.length>1)},[G.length,b]);const A=F=>{(F.type==="restaurant"||F.type==="cuisine")&&j(F.name),k(!1)},q=()=>{a()},$=(F,ne)=>{console.log("Restaurant clicked:",F.name),c(F),g(!0),console.log("Setting selectedRestaurant and showDropdown to true")},X=()=>{if(s){const F=`https://www.google.com/maps/dir/?api=1&destination=${s.latitude},${s.longitude}&travelmode=walking`;console.log("Opening navigation to:",F);try{window.open(F,"_blank")||(window.location.href=F)}catch{console.log("Popup blocked, using direct navigation"),window.location.href=F}g(!1)}},ue=()=>{s&&(console.log("Opening restaurant modal for:",s.name),h(!0),g(!1))},Ce=()=>{y(!0)},B=F=>{D(F.minVeganScore),H(F.minGoogleScore),console.log("Applied advanced filters:",F)},ee=()=>{g(!1)},Y=()=>{h(!1),c(null)};return _.useEffect(()=>{const F=()=>{const ne=window.innerWidth<1024;console.log("Mobile check:",ne,"width:",window.innerWidth),console.log("Header should be visible:",ne),R(ne)};return F(),window.addEventListener("resize",F),()=>window.removeEventListener("resize",F)},[]),n?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-green-50 to-blue-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-green-100 to-green-200 rounded-3xl mb-6 shadow-lg",children:o.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-green-500 to-green-600 rounded-full animate-pulse shadow-md"})}),o.jsx("h2",{className:"text-xl font-bold text-gray-800 mb-2",children:"VeganMapAI"}),o.jsx("p",{className:"text-gray-600 font-opensans",children:"Getting your location..."}),o.jsxs("div",{className:"mt-4 flex justify-center space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce"}),o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),o.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})]})}):!t&&r?o.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center max-w-md bg-white rounded-3xl shadow-2xl p-8",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-gradient-to-r from-red-100 to-red-200 rounded-3xl mb-6",children:o.jsx("i",{className:"fas fa-map-marker-alt text-red-500 text-3xl"})}),o.jsx("h2",{className:"text-2xl font-bold text-gray-800 mb-3",children:"Location Access Required"}),o.jsx("p",{className:"text-gray-600 font-opensans mb-8 leading-relaxed",children:"VeganMapAI needs access to your location to show nearby vegan-friendly restaurants and provide personalized recommendations."}),o.jsxs(re,{onClick:q,className:"bg-gradient-to-r from-green-500 to-green-600 hover:from-green-600 hover:to-green-700 text-white px-8 py-3 rounded-xl shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105",children:[o.jsx("i",{className:"fas fa-location-arrow mr-3"}),"Enable Location Access"]}),o.jsx("p",{className:"text-xs text-gray-400 mt-4",children:"Your location data is used only for restaurant recommendations and is not stored."})]})}):o.jsxs(o.Fragment,{children:[o.jsx(_2,{searchQuery:b,onSearchChange:j,showSuggestions:C,onShowSuggestions:k,searchSuggestions:N,onOpenChat:()=>e("/ai-chat"),onOpenAdvancedSearch:Ce}),o.jsxs("div",{className:"h-screen relative bg-gray-50",style:{paddingTop:E?"64px":"0px"},children:[o.jsx("div",{className:"hidden lg:block fixed top-0 left-0 right-0 bg-white border-b border-gray-200 shadow-lg backdrop-blur-sm h-16",style:{zIndex:1e3},children:o.jsxs("div",{className:"flex items-center px-2 sm:px-4 py-3 h-full max-w-7xl mx-auto",children:[o.jsx(re,{variant:"ghost",className:"hidden sm:flex p-2 mr-3 hover:bg-gray-100 rounded-full transition-all duration-200 hover:scale-105",children:o.jsx("i",{className:"fas fa-bars text-gray-600 text-lg"})}),o.jsxs("div",{className:"flex-1 relative max-w-2xl",children:[o.jsxs("div",{className:"bg-white border border-gray-300 rounded-full shadow-sm flex items-center px-4 py-2.5 hover:shadow-lg transition-all duration-200 focus-within:shadow-lg focus-within:border-blue-400",children:[o.jsx("i",{className:"fas fa-search text-gray-400 mr-3 text-sm"}),o.jsx("input",{type:"text",placeholder:"Search for vegan places...",className:"flex-1 outline-none text-gray-700 font-opensans text-sm bg-transparent",value:b,onChange:F=>j(F.target.value),onFocus:()=>k(b.length>1),onBlur:()=>setTimeout(()=>k(!1),200)}),b&&o.jsx("button",{onClick:()=>{j(""),k(!1)},className:"text-gray-400 hover:text-gray-600 ml-2 p-1 hover:bg-gray-100 rounded-full transition-colors",children:o.jsx("i",{className:"fas fa-times text-xs"})})]}),C&&N.length>0&&o.jsx("div",{className:"absolute top-full left-0 right-0 bg-white border border-gray-200 rounded-2xl shadow-2xl mt-2 max-h-80 overflow-y-auto backdrop-blur-sm",style:{zIndex:1002},children:o.jsx("div",{className:"p-2",children:N.map((F,ne)=>o.jsx("div",{className:"px-4 py-3 hover:bg-blue-50 cursor-pointer rounded-xl transition-all duration-150 hover:scale-[1.02] group",onClick:()=>A(F),children:o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center mr-3 ${F.type==="restaurant"?"bg-green-100 text-green-600":"bg-blue-100 text-blue-600"} group-hover:scale-110 transition-transform`,children:o.jsx("i",{className:`fas ${F.type==="restaurant"?"fa-utensils":"fa-tag"} text-sm`})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("div",{className:"font-semibold text-gray-900 text-sm",children:F.name}),F.address&&o.jsx("div",{className:"text-xs text-gray-500 mt-0.5 truncate",children:F.address}),F.veganScore&&o.jsxs("div",{className:"text-xs text-green-600 font-medium mt-1 flex items-center",children:[o.jsx("i",{className:"fas fa-leaf mr-1"}),"Vegan Score: ",F.veganScore,"/10"]}),F.type==="cuisine"&&o.jsxs("div",{className:"text-xs text-blue-600 font-medium mt-1 flex items-center",children:[o.jsx("i",{className:"fas fa-utensils mr-1"}),"Cuisine type"]})]})]})},`${F.type}-${F.id}`))})})]}),o.jsxs("div",{className:"flex items-center ml-2 sm:ml-3 space-x-1 sm:space-x-2",children:[o.jsx("a",{href:"/admin",className:"hidden sm:block",children:o.jsx(re,{variant:"ghost",className:"w-9 h-9 sm:w-10 sm:h-10 p-0 bg-gradient-to-r from-purple-500 to-purple-600 hover:from-purple-600 hover:to-purple-700 rounded-full shadow-lg hover:shadow-xl transition-all duration-200 hover:scale-105",title:"Admin Panel",children:o.jsx("span",{className:"text-white text-sm sm:text-lg",children:"⚙️"})})}),o.jsx(re,{variant:"ghost",className:"w-9 h-9 sm:w-10 sm:h-10 p-0 hover:scale-105 transition-all duration-200",title:"AI Assistant",onClick:()=>alert("AI чат скоро ще бъде достъпен с Voiceflow интеграция"),children:o.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-green-500 to-green-600 rounded-full flex items-center justify-center shadow-lg hover:shadow-xl",children:o.jsx("svg",{className:"w-4 h-4 sm:w-5 sm:h-5 text-white",fill:"currentColor",viewBox:"0 0 20 20",children:o.jsx("path",{fillRule:"evenodd",d:"M7 4a3 3 0 616 0v4a3 3 0 11-6 0V4zm4 10.93A7.001 7.001 0 0017 8a1 1 0 10-2 0A5 5 0 715 8a1 1 0 00-2 0 7.001 7.001 0 006 6.93V17H6a1 1 0 100 2h8a1 1 0 100-2h-3v-2.07z",clipRule:"evenodd"})})})}),o.jsx("a",{href:"/profile",children:o.jsx(re,{variant:"ghost",className:"w-9 h-9 sm:w-10 sm:h-10 hover:bg-gray-100 rounded-full transition-all duration-200 flex items-center justify-center p-0 hover:scale-105",title:"Profile",children:o.jsx("div",{className:"w-7 h-7 sm:w-8 sm:h-8 bg-gradient-to-r from-blue-600 to-blue-700 rounded-full flex items-center justify-center text-white text-xs sm:text-sm font-medium shadow-lg",children:"BK"})})})]})]})}),o.jsxs("div",{className:"w-full h-full relative",children:[o.jsx(XE,{center:ce?[ce.lat,ce.lng]:[42.7,23.16],restaurants:v,onRestaurantClick:$,onLocationChange:()=>{},loading:se}),E&&o.jsxs(o.Fragment,{children:[o.jsxs("div",{className:"absolute top-4 right-4 bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg p-3 w-44 z-[998]",style:{zIndex:f?1:999,opacity:f?.7:1},children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("div",{className:"w-4 h-4 bg-green-100 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-green-600 text-xs",children:"🌱"})}),o.jsx("h3",{className:"text-xs font-bold text-gray-800",children:"Vegan Guide"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center text-xs hover:bg-green-50 rounded px-1 py-0.5 transition-colors",children:[o.jsx("div",{className:"w-2 h-2 bg-green-600 rounded-full mr-2"}),o.jsx("span",{className:"text-gray-700",children:"8.5+ Excellent"})]}),o.jsxs("div",{className:"flex items-center text-xs hover:bg-green-50 rounded px-1 py-0.5 transition-colors",children:[o.jsx("div",{className:"w-2 h-2 bg-green-400 rounded-full mr-2"}),o.jsx("span",{className:"text-gray-700",children:"7.5+ Very Good"})]}),o.jsxs("div",{className:"flex items-center text-xs hover:bg-yellow-50 rounded px-1 py-0.5 transition-colors",children:[o.jsx("div",{className:"w-2 h-2 bg-yellow-500 rounded-full mr-2"}),o.jsx("span",{className:"text-gray-700",children:"6.5+ Good"})]}),o.jsxs("div",{className:"flex items-center text-xs hover:bg-orange-50 rounded px-1 py-0.5 transition-colors",children:[o.jsx("div",{className:"w-2 h-2 bg-orange-500 rounded-full mr-2"}),o.jsx("span",{className:"text-gray-700",children:"5.5+ Fair"})]}),o.jsxs("div",{className:"flex items-center text-xs hover:bg-red-50 rounded px-1 py-0.5 transition-colors",children:[o.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full mr-2"}),o.jsx("span",{className:"text-gray-700",children:"<5.5 Poor"})]})]}),o.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:o.jsxs(re,{onClick:q,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-1.5 px-3 rounded-lg transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg text-xs font-medium active:scale-95",disabled:n,style:{touchAction:"manipulation"},children:[o.jsx("span",{className:"mr-1",children:"📍"}),n?"Loading...":"My Location"]})})]}),o.jsx("div",{className:"absolute top-72 right-4 z-[998]",children:o.jsxs("div",{className:"bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg p-3 w-44 transition-all duration-300 hover:shadow-xl",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("div",{className:"w-4 h-4 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-blue-600 text-xs",children:"🎚️"})}),o.jsx("h3",{className:"text-xs font-bold text-gray-800",children:"Filters"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:["Min Vegan Score: ",O]}),o.jsx("input",{type:"range",min:"0",max:"10",step:"0.5",value:O,onChange:F=>D(parseFloat(F.target.value)),className:"w-full h-2 bg-gradient-to-r from-red-200 via-yellow-200 to-green-200 rounded-lg appearance-none cursor-pointer",style:{touchAction:"manipulation"}}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"5"}),o.jsx("span",{children:"10"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:["Min Google Score: ",V]}),o.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:V,onChange:F=>H(parseFloat(F.target.value)),className:"w-full h-2 bg-gradient-to-r from-red-200 to-green-200 rounded-lg appearance-none cursor-pointer",style:{touchAction:"manipulation"}}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"2.5"}),o.jsx("span",{children:"5"})]})]})]})]})})]})]}),o.jsxs("div",{className:"hidden sm:block fixed top-20 right-4 bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg p-3 w-52 transition-all duration-300 hover:shadow-xl",style:{zIndex:f?1:999,opacity:f?.7:1},children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("div",{className:"w-5 h-5 bg-green-100 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-green-600 text-xs",children:"🌱"})}),o.jsx("h3",{className:"text-xs font-opensans font-bold text-gray-800",children:"Vegan Guide"})]}),o.jsxs("div",{className:"space-y-1",children:[o.jsxs("div",{className:"flex items-center text-xs hover:bg-green-50 rounded px-1 py-0.5 transition-colors",children:[o.jsx("div",{className:"w-2.5 h-2.5 bg-green-600 rounded-full mr-2"}),o.jsx("span",{className:"text-gray-700 font-medium",children:"8.5+ Excellent"})]}),o.jsxs("div",{className:"flex items-center text-xs hover:bg-green-50 rounded px-1 py-0.5 transition-colors",children:[o.jsx("div",{className:"w-2.5 h-2.5 bg-green-400 rounded-full mr-2"}),o.jsx("span",{className:"text-gray-700 font-medium",children:"7.5+ Very Good"})]}),o.jsxs("div",{className:"flex items-center text-xs hover:bg-yellow-50 rounded px-1 py-0.5 transition-colors",children:[o.jsx("div",{className:"w-2.5 h-2.5 bg-yellow-500 rounded-full mr-2"}),o.jsx("span",{className:"text-gray-700 font-medium",children:"6.5+ Good"})]}),o.jsxs("div",{className:"flex items-center text-xs hover:bg-orange-50 rounded px-1 py-0.5 transition-colors",children:[o.jsx("div",{className:"w-2.5 h-2.5 bg-orange-500 rounded-full mr-2"}),o.jsx("span",{className:"text-gray-700 font-medium",children:"5.5+ Fair"})]}),o.jsxs("div",{className:"flex items-center text-xs hover:bg-red-50 rounded px-1 py-0.5 transition-colors",children:[o.jsx("div",{className:"w-2.5 h-2.5 bg-red-500 rounded-full mr-2"}),o.jsx("span",{className:"text-gray-700 font-medium",children:"<5.5 Poor"})]})]}),o.jsx("div",{className:"mt-3 pt-2 border-t border-gray-100",children:o.jsxs(re,{onClick:q,className:"w-full bg-gradient-to-r from-blue-600 to-blue-700 hover:from-blue-700 hover:to-blue-800 text-white py-1.5 px-3 rounded-lg transition-all duration-200 flex items-center justify-center shadow-md hover:shadow-lg text-xs font-medium",disabled:n,children:[o.jsx("span",{className:"mr-1",children:"📍"}),n?"Loading...":"My Location"]})})]}),o.jsxs("div",{className:"hidden sm:block fixed bottom-4 right-2 sm:right-4 bg-white/95 backdrop-blur-sm border border-gray-200 rounded-xl shadow-lg p-3 w-52 transition-all duration-300 hover:shadow-xl",style:{zIndex:f?1:998,opacity:f?.7:1,transform:f?"translateY(10px)":"translateY(0)"},children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("div",{className:"w-5 h-5 bg-blue-100 rounded-full flex items-center justify-center mr-2",children:o.jsx("span",{className:"text-blue-600 text-xs",children:"🎚️"})}),o.jsx("h3",{className:"text-xs font-opensans font-bold text-gray-800",children:"Filters"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:["Min Vegan Score: ",O]}),o.jsx("input",{type:"range",min:"0",max:"10",step:"0.5",value:O,onChange:F=>D(parseFloat(F.target.value)),className:"w-full h-2 bg-gradient-to-r from-red-200 via-yellow-200 to-green-200 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #fecaca 0%, #fde68a 50%, #bbf7d0 100%)"}}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"5"}),o.jsx("span",{children:"10"})]})]}),o.jsxs("div",{children:[o.jsxs("label",{className:"text-xs font-medium text-gray-700 mb-1 block",children:["Min Google Score: ",V]}),o.jsx("input",{type:"range",min:"0",max:"5",step:"0.1",value:V,onChange:F=>H(parseFloat(F.target.value)),className:"w-full h-2 bg-gradient-to-r from-red-200 to-green-200 rounded-lg appearance-none cursor-pointer slider",style:{background:"linear-gradient(to right, #fecaca 0%, #bbf7d0 100%)"}}),o.jsxs("div",{className:"flex justify-between text-xs text-gray-500 mt-1",children:[o.jsx("span",{children:"0"}),o.jsx("span",{children:"2.5"}),o.jsx("span",{children:"5"})]})]})]})]}),s&&f&&o.jsx(c2,{restaurant:s,onClose:ee,onNavigate:X,onViewDetails:ue}),s&&o.jsx(l2,{restaurant:s,isOpen:u,onClose:Y}),o.jsx(y2,{isOpen:m,onClose:()=>y(!1),onApplyFilters:B,initialFilters:{minVeganScore:O,minGoogleScore:V,maxDistance:10,priceRange:[],cuisineTypes:[],allergies:[]}})]})]})}var gp="Progress",vp=100,[b2,lR]=qt(gp),[N2,C2]=b2(gp),Hw=_.forwardRef((e,t)=>{const{__scopeProgress:n,value:r=null,max:a,getValueLabel:s=S2,...c}=e;(a||a===0)&&!Ov(a)&&console.error(j2(`${a}`,"Progress"));const u=Ov(a)?a:vp;r!==null&&!Av(r,u)&&console.error(P2(`${r}`,"Progress"));const h=Av(r,u)?r:null,f=mc(h)?s(h,u):void 0;return o.jsx(N2,{scope:n,value:h,max:u,children:o.jsx(me.div,{"aria-valuemax":u,"aria-valuemin":0,"aria-valuenow":mc(h)?h:void 0,"aria-valuetext":f,role:"progressbar","data-state":Gw(h,u),"data-value":h??void 0,"data-max":u,...c,ref:t})})});Hw.displayName=gp;var Zw="ProgressIndicator",Ww=_.forwardRef((e,t)=>{const{__scopeProgress:n,...r}=e,a=C2(Zw,n);return o.jsx(me.div,{"data-state":Gw(a.value,a.max),"data-value":a.value??void 0,"data-max":a.max,...r,ref:t})});Ww.displayName=Zw;function S2(e,t){return`${Math.round(e/t*100)}%`}function Gw(e,t){return e==null?"indeterminate":e===t?"complete":"loading"}function mc(e){return typeof e=="number"}function Ov(e){return mc(e)&&!isNaN(e)&&e>0}function Av(e,t){return mc(e)&&!isNaN(e)&&e<=t&&e>=0}function j2(e,t){return`Invalid prop \`max\` of value \`${e}\` supplied to \`${t}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${vp}\`.`}function P2(e,t){return`Invalid prop \`value\` of value \`${e}\` supplied to \`${t}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${vp} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Kw=Hw,k2=Ww;const wt=_.forwardRef(({className:e,value:t,...n},r)=>o.jsx(Kw,{ref:r,className:_e("relative h-4 w-full overflow-hidden rounded-full bg-secondary",e),...n,children:o.jsx(k2,{className:"h-full w-full flex-1 bg-primary transition-all",style:{transform:`translateX(-${100-(t||0)}%)`}})}));wt.displayName=Kw.displayName;var L2=_.createContext(void 0);function Kc(e){const t=_.useContext(L2);return e||t||"ltr"}var xd="rovingFocusGroup.onEntryFocus",E2={bubbles:!1,cancelable:!0},qc="RovingFocusGroup",[Dh,qw,T2]=Wf(qc),[M2,Qc]=qt(qc,[T2]),[R2,O2]=M2(qc),Qw=_.forwardRef((e,t)=>o.jsx(Dh.Provider,{scope:e.__scopeRovingFocusGroup,children:o.jsx(Dh.Slot,{scope:e.__scopeRovingFocusGroup,children:o.jsx(A2,{...e,ref:t})})}));Qw.displayName=qc;var A2=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:a=!1,dir:s,currentTabStopId:c,defaultCurrentTabStopId:u,onCurrentTabStopIdChange:h,onEntryFocus:f,preventScrollOnEntryFocus:g=!1,...m}=e,y=_.useRef(null),b=Ae(t,y),j=Kc(s),[v=null,S]=ui({prop:c,defaultProp:u,onChange:h}),[N,w]=_.useState(!1),C=zt(f),k=qw(n),E=_.useRef(!1),[R,O]=_.useState(0);return _.useEffect(()=>{const D=y.current;if(D)return D.addEventListener(xd,C),()=>D.removeEventListener(xd,C)},[C]),o.jsx(R2,{scope:n,orientation:r,dir:j,loop:a,currentTabStopId:v,onItemFocus:_.useCallback(D=>S(D),[S]),onItemShiftTab:_.useCallback(()=>w(!0),[]),onFocusableItemAdd:_.useCallback(()=>O(D=>D+1),[]),onFocusableItemRemove:_.useCallback(()=>O(D=>D-1),[]),children:o.jsx(me.div,{tabIndex:N||R===0?-1:0,"data-orientation":r,...m,ref:b,style:{outline:"none",...e.style},onMouseDown:ae(e.onMouseDown,()=>{E.current=!0}),onFocus:ae(e.onFocus,D=>{const V=!E.current;if(D.target===D.currentTarget&&V&&!N){const H=new CustomEvent(xd,E2);if(D.currentTarget.dispatchEvent(H),!H.defaultPrevented){const Q=k().filter(G=>G.focusable),W=Q.find(G=>G.active),le=Q.find(G=>G.id===v),ce=[W,le,...Q].filter(Boolean).map(G=>G.ref.current);Jw(ce,g)}}E.current=!1}),onBlur:ae(e.onBlur,()=>w(!1))})})}),Yw="RovingFocusGroupItem",Xw=_.forwardRef((e,t)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:a=!1,tabStopId:s,...c}=e,u=Ki(),h=s||u,f=O2(Yw,n),g=f.currentTabStopId===h,m=qw(n),{onFocusableItemAdd:y,onFocusableItemRemove:b}=f;return _.useEffect(()=>{if(r)return y(),()=>b()},[r,y,b]),o.jsx(Dh.ItemSlot,{scope:n,id:h,focusable:r,active:a,children:o.jsx(me.span,{tabIndex:g?0:-1,"data-orientation":f.orientation,...c,ref:t,onMouseDown:ae(e.onMouseDown,j=>{r?f.onItemFocus(h):j.preventDefault()}),onFocus:ae(e.onFocus,()=>f.onItemFocus(h)),onKeyDown:ae(e.onKeyDown,j=>{if(j.key==="Tab"&&j.shiftKey){f.onItemShiftTab();return}if(j.target!==j.currentTarget)return;const v=z2(j,f.orientation,f.dir);if(v!==void 0){if(j.metaKey||j.ctrlKey||j.altKey||j.shiftKey)return;j.preventDefault();let N=m().filter(w=>w.focusable).map(w=>w.ref.current);if(v==="last")N.reverse();else if(v==="prev"||v==="next"){v==="prev"&&N.reverse();const w=N.indexOf(j.currentTarget);N=f.loop?F2(N,w+1):N.slice(w+1)}setTimeout(()=>Jw(N))}})})})});Xw.displayName=Yw;var I2={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function D2(e,t){return t!=="rtl"?e:e==="ArrowLeft"?"ArrowRight":e==="ArrowRight"?"ArrowLeft":e}function z2(e,t,n){const r=D2(e.key,n);if(!(t==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(t==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return I2[r]}function Jw(e,t=!1){const n=document.activeElement;for(const r of e)if(r===n||(r.focus({preventScroll:t}),document.activeElement!==n))return}function F2(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var e1=Qw,t1=Xw,xp="Radio",[B2,n1]=qt(xp),[$2,V2]=B2(xp),i1=_.forwardRef((e,t)=>{const{__scopeRadio:n,name:r,checked:a=!1,required:s,disabled:c,value:u="on",onCheck:h,form:f,...g}=e,[m,y]=_.useState(null),b=Ae(t,S=>y(S)),j=_.useRef(!1),v=m?f||!!m.closest("form"):!0;return o.jsxs($2,{scope:n,checked:a,disabled:c,children:[o.jsx(me.button,{type:"button",role:"radio","aria-checked":a,"data-state":o1(a),"data-disabled":c?"":void 0,disabled:c,value:u,...g,ref:b,onClick:ae(e.onClick,S=>{a||h==null||h(),v&&(j.current=S.isPropagationStopped(),j.current||S.stopPropagation())})}),v&&o.jsx(U2,{control:m,bubbles:!j.current,name:r,value:u,checked:a,required:s,disabled:c,form:f,style:{transform:"translateX(-100%)"}})]})});i1.displayName=xp;var r1="RadioIndicator",s1=_.forwardRef((e,t)=>{const{__scopeRadio:n,forceMount:r,...a}=e,s=V2(r1,n);return o.jsx(pi,{present:r||s.checked,children:o.jsx(me.span,{"data-state":o1(s.checked),"data-disabled":s.disabled?"":void 0,...a,ref:t})})});s1.displayName=r1;var U2=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,s=_.useRef(null),c=Gc(n),u=Vc(t);return _.useEffect(()=>{const h=s.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(h,n),h.dispatchEvent(y)}},[c,n,r]),o.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:s,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function o1(e){return e?"checked":"unchecked"}var H2=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],yp="RadioGroup",[Z2,cR]=qt(yp,[Qc,n1]),a1=Qc(),l1=n1(),[W2,G2]=Z2(yp),c1=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,name:r,defaultValue:a,value:s,required:c=!1,disabled:u=!1,orientation:h,dir:f,loop:g=!0,onValueChange:m,...y}=e,b=a1(n),j=Kc(f),[v,S]=ui({prop:s,defaultProp:a,onChange:m});return o.jsx(W2,{scope:n,name:r,required:c,disabled:u,value:v,onValueChange:S,children:o.jsx(e1,{asChild:!0,...b,orientation:h,dir:j,loop:g,children:o.jsx(me.div,{role:"radiogroup","aria-required":c,"aria-orientation":h,"data-disabled":u?"":void 0,dir:j,...y,ref:t})})})});c1.displayName=yp;var u1="RadioGroupItem",d1=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,disabled:r,...a}=e,s=G2(u1,n),c=s.disabled||r,u=a1(n),h=l1(n),f=_.useRef(null),g=Ae(t,f),m=s.value===a.value,y=_.useRef(!1);return _.useEffect(()=>{const b=v=>{H2.includes(v.key)&&(y.current=!0)},j=()=>y.current=!1;return document.addEventListener("keydown",b),document.addEventListener("keyup",j),()=>{document.removeEventListener("keydown",b),document.removeEventListener("keyup",j)}},[]),o.jsx(t1,{asChild:!0,...u,focusable:!c,active:m,children:o.jsx(i1,{disabled:c,required:s.required,checked:m,...h,...a,name:s.name,ref:g,onCheck:()=>s.onValueChange(a.value),onKeyDown:ae(b=>{b.key==="Enter"&&b.preventDefault()}),onFocus:ae(a.onFocus,()=>{var b;y.current&&((b=f.current)==null||b.click())})})})});d1.displayName=u1;var K2="RadioGroupIndicator",h1=_.forwardRef((e,t)=>{const{__scopeRadioGroup:n,...r}=e,a=l1(n);return o.jsx(s1,{...a,...r,ref:t})});h1.displayName=K2;var f1=c1,p1=d1,q2=h1;const m1=_.forwardRef(({className:e,...t},n)=>o.jsx(f1,{className:_e("grid gap-2",e),...t,ref:n}));m1.displayName=f1.displayName;const Il=_.forwardRef(({className:e,...t},n)=>o.jsx(p1,{ref:n,className:_e("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",e),...t,children:o.jsx(q2,{className:"flex items-center justify-center",children:o.jsx(kk,{className:"h-2.5 w-2.5 fill-current text-current"})})}));Il.displayName=p1.displayName;function Iv(e,[t,n]){return Math.min(n,Math.max(t,e))}var Q2=[" ","Enter","ArrowUp","ArrowDown"],Y2=[" ","Enter"],Pa="Select",[Yc,Xc,X2]=Wf(Pa),[ro,uR]=qt(Pa,[X2,Uc]),Jc=Uc(),[J2,or]=ro(Pa),[eM,tM]=ro(Pa),g1=e=>{const{__scopeSelect:t,children:n,open:r,defaultOpen:a,onOpenChange:s,value:c,defaultValue:u,onValueChange:h,dir:f,name:g,autoComplete:m,disabled:y,required:b,form:j}=e,v=Jc(t),[S,N]=_.useState(null),[w,C]=_.useState(null),[k,E]=_.useState(!1),R=Kc(f),[O=!1,D]=ui({prop:r,defaultProp:a,onChange:s}),[V,H]=ui({prop:c,defaultProp:u,onChange:h}),Q=_.useRef(null),W=S?j||!!S.closest("form"):!0,[le,Z]=_.useState(new Set),ce=Array.from(le).map(G=>G.props.value).join(";");return o.jsx(PE,{...v,children:o.jsxs(J2,{required:b,scope:t,trigger:S,onTriggerChange:N,valueNode:w,onValueNodeChange:C,valueNodeHasChildren:k,onValueNodeHasChildrenChange:E,contentId:Ki(),value:V,onValueChange:H,open:O,onOpenChange:D,dir:R,triggerPointerDownPosRef:Q,disabled:y,children:[o.jsx(Yc.Provider,{scope:t,children:o.jsx(eM,{scope:e.__scopeSelect,onNativeOptionAdd:_.useCallback(G=>{Z(se=>new Set(se).add(G))},[]),onNativeOptionRemove:_.useCallback(G=>{Z(se=>{const A=new Set(se);return A.delete(G),A})},[]),children:n})}),W?o.jsxs($1,{"aria-hidden":!0,required:b,tabIndex:-1,name:g,autoComplete:m,value:V,onChange:G=>H(G.target.value),disabled:y,form:j,children:[V===void 0?o.jsx("option",{value:""}):null,Array.from(le)]},ce):null]})})};g1.displayName=Pa;var v1="SelectTrigger",x1=_.forwardRef((e,t)=>{const{__scopeSelect:n,disabled:r=!1,...a}=e,s=Jc(n),c=or(v1,n),u=c.disabled||r,h=Ae(t,c.onTriggerChange),f=Xc(n),g=_.useRef("touch"),[m,y,b]=V1(v=>{const S=f().filter(C=>!C.disabled),N=S.find(C=>C.value===c.value),w=U1(S,v,N);w!==void 0&&c.onValueChange(w.value)}),j=v=>{u||(c.onOpenChange(!0),b()),v&&(c.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return o.jsx(Z0,{asChild:!0,...s,children:o.jsx(me.button,{type:"button",role:"combobox","aria-controls":c.contentId,"aria-expanded":c.open,"aria-required":c.required,"aria-autocomplete":"none",dir:c.dir,"data-state":c.open?"open":"closed",disabled:u,"data-disabled":u?"":void 0,"data-placeholder":B1(c.value)?"":void 0,...a,ref:h,onClick:ae(a.onClick,v=>{v.currentTarget.focus(),g.current!=="mouse"&&j(v)}),onPointerDown:ae(a.onPointerDown,v=>{g.current=v.pointerType;const S=v.target;S.hasPointerCapture(v.pointerId)&&S.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(j(v),v.preventDefault())}),onKeyDown:ae(a.onKeyDown,v=>{const S=m.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&y(v.key),!(S&&v.key===" ")&&Q2.includes(v.key)&&(j(),v.preventDefault())})})})});x1.displayName=v1;var y1="SelectValue",_1=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,children:s,placeholder:c="",...u}=e,h=or(y1,n),{onValueNodeHasChildrenChange:f}=h,g=s!==void 0,m=Ae(t,h.onValueNodeChange);return xt(()=>{f(g)},[f,g]),o.jsx(me.span,{...u,ref:m,style:{pointerEvents:"none"},children:B1(h.value)?o.jsx(o.Fragment,{children:c}):s})});_1.displayName=y1;var nM="SelectIcon",w1=_.forwardRef((e,t)=>{const{__scopeSelect:n,children:r,...a}=e;return o.jsx(me.span,{"aria-hidden":!0,...a,ref:t,children:r||"▼"})});w1.displayName=nM;var iM="SelectPortal",b1=e=>o.jsx(Oc,{asChild:!0,...e});b1.displayName=iM;var zr="SelectContent",N1=_.forwardRef((e,t)=>{const n=or(zr,e.__scopeSelect),[r,a]=_.useState();if(xt(()=>{a(new DocumentFragment)},[]),!n.open){const s=r;return s?$r.createPortal(o.jsx(C1,{scope:e.__scopeSelect,children:o.jsx(Yc.Slot,{scope:e.__scopeSelect,children:o.jsx("div",{children:e.children})})}),s):null}return o.jsx(S1,{...e,ref:t})});N1.displayName=zr;var fn=10,[C1,ar]=ro(zr),rM="SelectContentImpl",sM=Ks("SelectContent.RemoveScroll"),S1=_.forwardRef((e,t)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:a,onEscapeKeyDown:s,onPointerDownOutside:c,side:u,sideOffset:h,align:f,alignOffset:g,arrowPadding:m,collisionBoundary:y,collisionPadding:b,sticky:j,hideWhenDetached:v,avoidCollisions:S,...N}=e,w=or(zr,n),[C,k]=_.useState(null),[E,R]=_.useState(null),O=Ae(t,F=>k(F)),[D,V]=_.useState(null),[H,Q]=_.useState(null),W=Xc(n),[le,Z]=_.useState(!1),ce=_.useRef(!1);_.useEffect(()=>{if(C)return hw(C)},[C]),iw();const G=_.useCallback(F=>{const[ne,...ge]=W().map(ke=>ke.ref.current),[xe]=ge.slice(-1),Pe=document.activeElement;for(const ke of F)if(ke===Pe||(ke==null||ke.scrollIntoView({block:"nearest"}),ke===ne&&E&&(E.scrollTop=0),ke===xe&&E&&(E.scrollTop=E.scrollHeight),ke==null||ke.focus(),document.activeElement!==Pe))return},[W,E]),se=_.useCallback(()=>G([D,C]),[G,D,C]);_.useEffect(()=>{le&&se()},[le,se]);const{onOpenChange:A,triggerPointerDownPosRef:q}=w;_.useEffect(()=>{if(C){let F={x:0,y:0};const ne=xe=>{var Pe,ke;F={x:Math.abs(Math.round(xe.pageX)-(((Pe=q.current)==null?void 0:Pe.x)??0)),y:Math.abs(Math.round(xe.pageY)-(((ke=q.current)==null?void 0:ke.y)??0))}},ge=xe=>{F.x<=10&&F.y<=10?xe.preventDefault():C.contains(xe.target)||A(!1),document.removeEventListener("pointermove",ne),q.current=null};return q.current!==null&&(document.addEventListener("pointermove",ne),document.addEventListener("pointerup",ge,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",ne),document.removeEventListener("pointerup",ge,{capture:!0})}}},[C,A,q]),_.useEffect(()=>{const F=()=>A(!1);return window.addEventListener("blur",F),window.addEventListener("resize",F),()=>{window.removeEventListener("blur",F),window.removeEventListener("resize",F)}},[A]);const[$,X]=V1(F=>{const ne=W().filter(Pe=>!Pe.disabled),ge=ne.find(Pe=>Pe.ref.current===document.activeElement),xe=U1(ne,F,ge);xe&&setTimeout(()=>xe.ref.current.focus())}),ue=_.useCallback((F,ne,ge)=>{const xe=!ce.current&&!ge;(w.value!==void 0&&w.value===ne||xe)&&(V(F),xe&&(ce.current=!0))},[w.value]),Ce=_.useCallback(()=>C==null?void 0:C.focus(),[C]),B=_.useCallback((F,ne,ge)=>{const xe=!ce.current&&!ge;(w.value!==void 0&&w.value===ne||xe)&&Q(F)},[w.value]),ee=r==="popper"?zh:j1,Y=ee===zh?{side:u,sideOffset:h,align:f,alignOffset:g,arrowPadding:m,collisionBoundary:y,collisionPadding:b,sticky:j,hideWhenDetached:v,avoidCollisions:S}:{};return o.jsx(C1,{scope:n,content:C,viewport:E,onViewportChange:R,itemRefCallback:ue,selectedItem:D,onItemLeave:Ce,itemTextRefCallback:B,focusSelectedItem:se,selectedItemText:H,position:r,isPositioned:le,searchRef:$,children:o.jsx(up,{as:sM,allowPinchZoom:!0,children:o.jsx(cp,{asChild:!0,trapped:w.open,onMountAutoFocus:F=>{F.preventDefault()},onUnmountAutoFocus:ae(a,F=>{var ne;(ne=w.trigger)==null||ne.focus({preventScroll:!0}),F.preventDefault()}),children:o.jsx(Na,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:c,onFocusOutside:F=>F.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:o.jsx(ee,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:F=>F.preventDefault(),...N,...Y,onPlaced:()=>Z(!0),ref:O,style:{display:"flex",flexDirection:"column",outline:"none",...N.style},onKeyDown:ae(N.onKeyDown,F=>{const ne=F.ctrlKey||F.altKey||F.metaKey;if(F.key==="Tab"&&F.preventDefault(),!ne&&F.key.length===1&&X(F.key),["ArrowUp","ArrowDown","Home","End"].includes(F.key)){let xe=W().filter(Pe=>!Pe.disabled).map(Pe=>Pe.ref.current);if(["ArrowUp","End"].includes(F.key)&&(xe=xe.slice().reverse()),["ArrowUp","ArrowDown"].includes(F.key)){const Pe=F.target,ke=xe.indexOf(Pe);xe=xe.slice(ke+1)}setTimeout(()=>G(xe)),F.preventDefault()}})})})})})})});S1.displayName=rM;var oM="SelectItemAlignedPosition",j1=_.forwardRef((e,t)=>{const{__scopeSelect:n,onPlaced:r,...a}=e,s=or(zr,n),c=ar(zr,n),[u,h]=_.useState(null),[f,g]=_.useState(null),m=Ae(t,O=>g(O)),y=Xc(n),b=_.useRef(!1),j=_.useRef(!0),{viewport:v,selectedItem:S,selectedItemText:N,focusSelectedItem:w}=c,C=_.useCallback(()=>{if(s.trigger&&s.valueNode&&u&&f&&v&&S&&N){const O=s.trigger.getBoundingClientRect(),D=f.getBoundingClientRect(),V=s.valueNode.getBoundingClientRect(),H=N.getBoundingClientRect();if(s.dir!=="rtl"){const Pe=H.left-D.left,ke=V.left-Pe,lt=O.left-ke,Qt=O.width+lt,mi=Math.max(Qt,D.width),gi=window.innerWidth-fn,Zn=Iv(ke,[fn,Math.max(fn,gi-mi)]);u.style.minWidth=Qt+"px",u.style.left=Zn+"px"}else{const Pe=D.right-H.right,ke=window.innerWidth-V.right-Pe,lt=window.innerWidth-O.right-ke,Qt=O.width+lt,mi=Math.max(Qt,D.width),gi=window.innerWidth-fn,Zn=Iv(ke,[fn,Math.max(fn,gi-mi)]);u.style.minWidth=Qt+"px",u.style.right=Zn+"px"}const Q=y(),W=window.innerHeight-fn*2,le=v.scrollHeight,Z=window.getComputedStyle(f),ce=parseInt(Z.borderTopWidth,10),G=parseInt(Z.paddingTop,10),se=parseInt(Z.borderBottomWidth,10),A=parseInt(Z.paddingBottom,10),q=ce+G+le+A+se,$=Math.min(S.offsetHeight*5,q),X=window.getComputedStyle(v),ue=parseInt(X.paddingTop,10),Ce=parseInt(X.paddingBottom,10),B=O.top+O.height/2-fn,ee=W-B,Y=S.offsetHeight/2,F=S.offsetTop+Y,ne=ce+G+F,ge=q-ne;if(ne<=B){const Pe=Q.length>0&&S===Q[Q.length-1].ref.current;u.style.bottom="0px";const ke=f.clientHeight-v.offsetTop-v.offsetHeight,lt=Math.max(ee,Y+(Pe?Ce:0)+ke+se),Qt=ne+lt;u.style.height=Qt+"px"}else{const Pe=Q.length>0&&S===Q[0].ref.current;u.style.top="0px";const lt=Math.max(B,ce+v.offsetTop+(Pe?ue:0)+Y)+ge;u.style.height=lt+"px",v.scrollTop=ne-B+v.offsetTop}u.style.margin=`${fn}px 0`,u.style.minHeight=$+"px",u.style.maxHeight=W+"px",r==null||r(),requestAnimationFrame(()=>b.current=!0)}},[y,s.trigger,s.valueNode,u,f,v,S,N,s.dir,r]);xt(()=>C(),[C]);const[k,E]=_.useState();xt(()=>{f&&E(window.getComputedStyle(f).zIndex)},[f]);const R=_.useCallback(O=>{O&&j.current===!0&&(C(),w==null||w(),j.current=!1)},[C,w]);return o.jsx(lM,{scope:n,contentWrapper:u,shouldExpandOnScrollRef:b,onScrollButtonChange:R,children:o.jsx("div",{ref:h,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:o.jsx(me.div,{...a,ref:m,style:{boxSizing:"border-box",maxHeight:"100%",...a.style}})})})});j1.displayName=oM;var aM="SelectPopperPosition",zh=_.forwardRef((e,t)=>{const{__scopeSelect:n,align:r="start",collisionPadding:a=fn,...s}=e,c=Jc(n);return o.jsx(W0,{...c,...s,ref:t,align:r,collisionPadding:a,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});zh.displayName=aM;var[lM,_p]=ro(zr,{}),Fh="SelectViewport",P1=_.forwardRef((e,t)=>{const{__scopeSelect:n,nonce:r,...a}=e,s=ar(Fh,n),c=_p(Fh,n),u=Ae(t,s.onViewportChange),h=_.useRef(0);return o.jsxs(o.Fragment,{children:[o.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),o.jsx(Yc.Slot,{scope:n,children:o.jsx(me.div,{"data-radix-select-viewport":"",role:"presentation",...a,ref:u,style:{position:"relative",flex:1,overflow:"hidden auto",...a.style},onScroll:ae(a.onScroll,f=>{const g=f.currentTarget,{contentWrapper:m,shouldExpandOnScrollRef:y}=c;if(y!=null&&y.current&&m){const b=Math.abs(h.current-g.scrollTop);if(b>0){const j=window.innerHeight-fn*2,v=parseFloat(m.style.minHeight),S=parseFloat(m.style.height),N=Math.max(v,S);if(N<j){const w=N+b,C=Math.min(j,w),k=w-C;m.style.height=C+"px",m.style.bottom==="0px"&&(g.scrollTop=k>0?k:0,m.style.justifyContent="flex-end")}}}h.current=g.scrollTop})})})]})});P1.displayName=Fh;var k1="SelectGroup",[cM,uM]=ro(k1),dM=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Ki();return o.jsx(cM,{scope:n,id:a,children:o.jsx(me.div,{role:"group","aria-labelledby":a,...r,ref:t})})});dM.displayName=k1;var L1="SelectLabel",E1=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=uM(L1,n);return o.jsx(me.div,{id:a.id,...r,ref:t})});E1.displayName=L1;var gc="SelectItem",[hM,T1]=ro(gc),M1=_.forwardRef((e,t)=>{const{__scopeSelect:n,value:r,disabled:a=!1,textValue:s,...c}=e,u=or(gc,n),h=ar(gc,n),f=u.value===r,[g,m]=_.useState(s??""),[y,b]=_.useState(!1),j=Ae(t,w=>{var C;return(C=h.itemRefCallback)==null?void 0:C.call(h,w,r,a)}),v=Ki(),S=_.useRef("touch"),N=()=>{a||(u.onValueChange(r),u.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return o.jsx(hM,{scope:n,value:r,disabled:a,textId:v,isSelected:f,onItemTextChange:_.useCallback(w=>{m(C=>C||((w==null?void 0:w.textContent)??"").trim())},[]),children:o.jsx(Yc.ItemSlot,{scope:n,value:r,disabled:a,textValue:g,children:o.jsx(me.div,{role:"option","aria-labelledby":v,"data-highlighted":y?"":void 0,"aria-selected":f&&y,"data-state":f?"checked":"unchecked","aria-disabled":a||void 0,"data-disabled":a?"":void 0,tabIndex:a?void 0:-1,...c,ref:j,onFocus:ae(c.onFocus,()=>b(!0)),onBlur:ae(c.onBlur,()=>b(!1)),onClick:ae(c.onClick,()=>{S.current!=="mouse"&&N()}),onPointerUp:ae(c.onPointerUp,()=>{S.current==="mouse"&&N()}),onPointerDown:ae(c.onPointerDown,w=>{S.current=w.pointerType}),onPointerMove:ae(c.onPointerMove,w=>{var C;S.current=w.pointerType,a?(C=h.onItemLeave)==null||C.call(h):S.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ae(c.onPointerLeave,w=>{var C;w.currentTarget===document.activeElement&&((C=h.onItemLeave)==null||C.call(h))}),onKeyDown:ae(c.onKeyDown,w=>{var k;((k=h.searchRef)==null?void 0:k.current)!==""&&w.key===" "||(Y2.includes(w.key)&&N(),w.key===" "&&w.preventDefault())})})})})});M1.displayName=gc;var Ao="SelectItemText",R1=_.forwardRef((e,t)=>{const{__scopeSelect:n,className:r,style:a,...s}=e,c=or(Ao,n),u=ar(Ao,n),h=T1(Ao,n),f=tM(Ao,n),[g,m]=_.useState(null),y=Ae(t,N=>m(N),h.onItemTextChange,N=>{var w;return(w=u.itemTextRefCallback)==null?void 0:w.call(u,N,h.value,h.disabled)}),b=g==null?void 0:g.textContent,j=_.useMemo(()=>o.jsx("option",{value:h.value,disabled:h.disabled,children:b},h.value),[h.disabled,h.value,b]),{onNativeOptionAdd:v,onNativeOptionRemove:S}=f;return xt(()=>(v(j),()=>S(j)),[v,S,j]),o.jsxs(o.Fragment,{children:[o.jsx(me.span,{id:h.textId,...s,ref:y}),h.isSelected&&c.valueNode&&!c.valueNodeHasChildren?$r.createPortal(s.children,c.valueNode):null]})});R1.displayName=Ao;var O1="SelectItemIndicator",A1=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return T1(O1,n).isSelected?o.jsx(me.span,{"aria-hidden":!0,...r,ref:t}):null});A1.displayName=O1;var Bh="SelectScrollUpButton",I1=_.forwardRef((e,t)=>{const n=ar(Bh,e.__scopeSelect),r=_p(Bh,e.__scopeSelect),[a,s]=_.useState(!1),c=Ae(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=h.scrollTop>0;s(f)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),a?o.jsx(z1,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop-h.offsetHeight)}}):null});I1.displayName=Bh;var $h="SelectScrollDownButton",D1=_.forwardRef((e,t)=>{const n=ar($h,e.__scopeSelect),r=_p($h,e.__scopeSelect),[a,s]=_.useState(!1),c=Ae(t,r.onScrollButtonChange);return xt(()=>{if(n.viewport&&n.isPositioned){let u=function(){const f=h.scrollHeight-h.clientHeight,g=Math.ceil(h.scrollTop)<f;s(g)};const h=n.viewport;return u(),h.addEventListener("scroll",u),()=>h.removeEventListener("scroll",u)}},[n.viewport,n.isPositioned]),a?o.jsx(z1,{...e,ref:c,onAutoScroll:()=>{const{viewport:u,selectedItem:h}=n;u&&h&&(u.scrollTop=u.scrollTop+h.offsetHeight)}}):null});D1.displayName=$h;var z1=_.forwardRef((e,t)=>{const{__scopeSelect:n,onAutoScroll:r,...a}=e,s=ar("SelectScrollButton",n),c=_.useRef(null),u=Xc(n),h=_.useCallback(()=>{c.current!==null&&(window.clearInterval(c.current),c.current=null)},[]);return _.useEffect(()=>()=>h(),[h]),xt(()=>{var g;const f=u().find(m=>m.ref.current===document.activeElement);(g=f==null?void 0:f.ref.current)==null||g.scrollIntoView({block:"nearest"})},[u]),o.jsx(me.div,{"aria-hidden":!0,...a,ref:t,style:{flexShrink:0,...a.style},onPointerDown:ae(a.onPointerDown,()=>{c.current===null&&(c.current=window.setInterval(r,50))}),onPointerMove:ae(a.onPointerMove,()=>{var f;(f=s.onItemLeave)==null||f.call(s),c.current===null&&(c.current=window.setInterval(r,50))}),onPointerLeave:ae(a.onPointerLeave,()=>{h()})})}),fM="SelectSeparator",F1=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e;return o.jsx(me.div,{"aria-hidden":!0,...r,ref:t})});F1.displayName=fM;var Vh="SelectArrow",pM=_.forwardRef((e,t)=>{const{__scopeSelect:n,...r}=e,a=Jc(n),s=or(Vh,n),c=ar(Vh,n);return s.open&&c.position==="popper"?o.jsx(G0,{...a,...r,ref:t}):null});pM.displayName=Vh;function B1(e){return e===""||e===void 0}var $1=_.forwardRef((e,t)=>{const{value:n,...r}=e,a=_.useRef(null),s=Ae(t,a),c=Gc(n);return _.useEffect(()=>{const u=a.current,h=window.HTMLSelectElement.prototype,g=Object.getOwnPropertyDescriptor(h,"value").set;if(c!==n&&g){const m=new Event("change",{bubbles:!0});g.call(u,n),u.dispatchEvent(m)}},[c,n]),o.jsx(Ca,{asChild:!0,children:o.jsx("select",{...r,ref:s,defaultValue:n})})});$1.displayName="BubbleSelect";function V1(e){const t=zt(e),n=_.useRef(""),r=_.useRef(0),a=_.useCallback(c=>{const u=n.current+c;t(u),function h(f){n.current=f,window.clearTimeout(r.current),f!==""&&(r.current=window.setTimeout(()=>h(""),1e3))}(u)},[t]),s=_.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return _.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,a,s]}function U1(e,t,n){const a=t.length>1&&Array.from(t).every(f=>f===t[0])?t[0]:t,s=n?e.indexOf(n):-1;let c=mM(e,Math.max(s,0));a.length===1&&(c=c.filter(f=>f!==n));const h=c.find(f=>f.textValue.toLowerCase().startsWith(a.toLowerCase()));return h!==n?h:void 0}function mM(e,t){return e.map((n,r)=>e[(t+r)%e.length])}var gM=g1,H1=x1,vM=_1,xM=w1,yM=b1,Z1=N1,_M=P1,W1=E1,G1=M1,wM=R1,bM=A1,K1=I1,q1=D1,Q1=F1;const NM=gM,CM=vM,Y1=_.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(H1,{ref:r,className:_e("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",e),...n,children:[t,o.jsx(xM,{asChild:!0,children:o.jsx(u0,{className:"h-4 w-4 opacity-50"})})]}));Y1.displayName=H1.displayName;const X1=_.forwardRef(({className:e,...t},n)=>o.jsx(K1,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(Sk,{className:"h-4 w-4"})}));X1.displayName=K1.displayName;const J1=_.forwardRef(({className:e,...t},n)=>o.jsx(q1,{ref:n,className:_e("flex cursor-default items-center justify-center py-1",e),...t,children:o.jsx(u0,{className:"h-4 w-4"})}));J1.displayName=q1.displayName;const eb=_.forwardRef(({className:e,children:t,position:n="popper",...r},a)=>o.jsx(yM,{children:o.jsxs(Z1,{ref:a,className:_e("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",e),position:n,...r,children:[o.jsx(X1,{}),o.jsx(_M,{className:_e("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:t}),o.jsx(J1,{})]})}));eb.displayName=Z1.displayName;const SM=_.forwardRef(({className:e,...t},n)=>o.jsx(W1,{ref:n,className:_e("py-1.5 pl-8 pr-2 text-sm font-semibold",e),...t}));SM.displayName=W1.displayName;const Io=_.forwardRef(({className:e,children:t,...n},r)=>o.jsxs(G1,{ref:r,className:_e("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",e),...n,children:[o.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:o.jsx(bM,{children:o.jsx(c0,{className:"h-4 w-4"})})}),o.jsx(wM,{children:t})]}));Io.displayName=G1.displayName;const jM=_.forwardRef(({className:e,...t},n)=>o.jsx(Q1,{ref:n,className:_e("-mx-1 my-1 h-px bg-muted",e),...t}));jM.displayName=Q1.displayName;const Lo=[{id:1,title:"Dietary Style",description:"What's your dietary style?"},{id:2,title:"Allergies",description:"Do you have any allergies?"},{id:3,title:"Cuisines",description:"What cuisines do you prefer?"},{id:4,title:"Budget",description:"What's your price range?"}],PM=["Mediterranean","Asian","Italian","Mexican","Indian","Thai","Japanese","American","French","Middle Eastern","Ethiopian","Vietnamese","Korean"],kM=["Nuts","Gluten","Soy","Sesame","Corn","Citrus","Nightshades"];function LM(){const[e,t]=_.useState(1),[n,r]=_.useState({dietaryStyle:"vegan",allergies:[],preferredCuisines:[],priceRange:"$$"}),[a,s]=_.useState(""),[,c]=sr(),u=Un(),{toast:h}=Ft(),f=Dt({mutationFn:async S=>await ci("/api/profile","POST",{...S,maxDistance:2e3}),onSuccess:()=>{u.invalidateQueries({queryKey:["/api/auth/user"]}),h({title:"Profile Created",description:"Your profile has been set up successfully!"}),c("/home")},onError:S=>{h({title:"Error",description:"Failed to create profile. Please try again.",variant:"destructive"})}}),g=()=>{e<Lo.length?t(e+1):f.mutate(n)},m=()=>{f.mutate({dietaryStyle:"vegan",allergies:[],preferredCuisines:["Mediterranean"],priceRange:"$$"})},y=(S,N)=>{r(N?w=>({...w,allergies:[...w.allergies,S.toLowerCase()]}):w=>({...w,allergies:w.allergies.filter(C=>C!==S.toLowerCase())}))},b=()=>{a.trim()&&(r(S=>({...S,allergies:[...S.allergies,a.trim().toLowerCase()]})),s(""))},j=(S,N)=>{r(N?w=>({...w,preferredCuisines:[...w.preferredCuisines,S.toLowerCase()]}):w=>({...w,preferredCuisines:w.preferredCuisines.filter(C=>C!==S.toLowerCase())}))},v=e/Lo.length*100;return o.jsxs("div",{className:"min-h-screen bg-white",children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:o.jsxs("div",{className:"max-w-md mx-auto px-4 py-4",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h2",{className:"text-xl font-poppins font-semibold",children:"Profile Setup"}),o.jsx(re,{variant:"ghost",onClick:m,className:"text-vegan-green font-opensans font-medium hover:bg-vegan-light-green",children:"Skip"})]}),o.jsx(wt,{value:v,className:"h-2 mb-2"}),o.jsxs("p",{className:"text-sm text-neutral-gray",children:["Step ",e," of ",Lo.length]})]})}),o.jsxs("div",{className:"max-w-md mx-auto p-4",children:[o.jsxs("div",{className:"py-8",children:[o.jsx("h3",{className:"text-2xl font-poppins font-semibold mb-2",children:Lo[e-1].description}),o.jsx("p",{className:"text-neutral-gray mb-4",children:"This helps us recommend the best places for you"}),o.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-3 mb-6",children:o.jsxs("p",{className:"text-sm text-blue-800",children:[o.jsx("span",{className:"font-medium",children:"Skip anytime:"})," If you skip this setup, we'll create a default profile that you can modify later in your settings."]})}),e===1&&o.jsxs(m1,{value:n.dietaryStyle,onValueChange:S=>r(N=>({...N,dietaryStyle:S})),className:"space-y-3",children:[o.jsxs("div",{className:"flex items-center space-x-2 p-4 border-2 border-gray-200 rounded-xl hover:border-vegan-green transition-colors",children:[o.jsx(Il,{value:"vegan",id:"vegan",className:"border-vegan-green"}),o.jsx(Ve,{htmlFor:"vegan",className:"flex-1 cursor-pointer",children:o.jsxs("div",{children:[o.jsx("span",{className:"font-opensans font-medium text-gray-900 block",children:"Vegan"}),o.jsx("p",{className:"text-sm text-neutral-gray",children:"No animal products"})]})})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-4 border-2 border-gray-200 rounded-xl hover:border-vegan-green transition-colors",children:[o.jsx(Il,{value:"vegetarian",id:"vegetarian",className:"border-vegan-green"}),o.jsx(Ve,{htmlFor:"vegetarian",className:"flex-1 cursor-pointer",children:o.jsxs("div",{children:[o.jsx("span",{className:"font-opensans font-medium text-gray-900 block",children:"Vegetarian"}),o.jsx("p",{className:"text-sm text-neutral-gray",children:"No meat or fish"})]})})]}),o.jsxs("div",{className:"flex items-center space-x-2 p-4 border-2 border-gray-200 rounded-xl hover:border-vegan-green transition-colors",children:[o.jsx(Il,{value:"flexitarian",id:"flexitarian",className:"border-vegan-green"}),o.jsx(Ve,{htmlFor:"flexitarian",className:"flex-1 cursor-pointer",children:o.jsxs("div",{children:[o.jsx("span",{className:"font-opensans font-medium text-gray-900 block",children:"Flexitarian"}),o.jsx("p",{className:"text-sm text-neutral-gray",children:"Mostly plant-based"})]})})]})]}),e===2&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-2 gap-3",children:kM.map(S=>o.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg",children:[o.jsx(xr,{id:S,checked:n.allergies.includes(S.toLowerCase()),onCheckedChange:N=>y(S,N),className:"border-vegan-green data-[state=checked]:bg-vegan-green"}),o.jsx(Ve,{htmlFor:S,className:"text-sm font-opensans cursor-pointer",children:S})]},S))}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(In,{value:a,onChange:S=>s(S.target.value),placeholder:"Add custom allergy",className:"flex-1 border-gray-200 focus:border-vegan-green",onKeyPress:S=>S.key==="Enter"&&b()}),o.jsx(re,{onClick:b,className:"bg-vegan-green hover:bg-vegan-dark-green text-white",children:"Add"})]}),n.allergies.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm font-opensans font-medium mb-2",children:"Selected allergies:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.allergies.map(S=>o.jsxs("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-opensans cursor-pointer",onClick:()=>y(S,!1),children:[S," ×"]},S))})]})]}),e===3&&o.jsxs("div",{className:"space-y-4",children:[o.jsx("div",{className:"grid grid-cols-2 gap-3",children:PM.map(S=>o.jsxs("div",{className:"flex items-center space-x-2 p-3 border border-gray-200 rounded-lg",children:[o.jsx(xr,{id:S,checked:n.preferredCuisines.includes(S.toLowerCase()),onCheckedChange:N=>j(S,N),className:"border-vegan-green data-[state=checked]:bg-vegan-green"}),o.jsx(Ve,{htmlFor:S,className:"text-sm font-opensans cursor-pointer",children:S})]},S))}),n.preferredCuisines.length>0&&o.jsxs("div",{className:"mt-4",children:[o.jsx("p",{className:"text-sm font-opensans font-medium mb-2",children:"Selected cuisines:"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:n.preferredCuisines.map(S=>o.jsxs("span",{className:"bg-vegan-light-green text-vegan-green px-3 py-1 rounded-full text-sm font-opensans cursor-pointer",onClick:()=>j(S,!1),children:[S," ×"]},S))})]})]}),e===4&&o.jsxs("div",{className:"space-y-4",children:[o.jsxs(NM,{value:n.priceRange,onValueChange:S=>r(N=>({...N,priceRange:S})),children:[o.jsx(Y1,{className:"w-full border-gray-200 focus:border-vegan-green",children:o.jsx(CM,{placeholder:"Select price range"})}),o.jsxs(eb,{children:[o.jsx(Io,{value:"$",children:"$ - Budget friendly"}),o.jsx(Io,{value:"$$",children:"$$ - Moderate"}),o.jsx(Io,{value:"$$$",children:"$$$ - Upscale"}),o.jsx(Io,{value:"$$$$",children:"$$$$ - Fine dining"})]})]}),o.jsxs("div",{className:"space-y-3 mt-6",children:[o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"font-opensans",children:"$"}),o.jsx("span",{className:"text-sm text-neutral-gray",children:"Under $15 per person"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"font-opensans",children:"$$"}),o.jsx("span",{className:"text-sm text-neutral-gray",children:"$15-30 per person"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"font-opensans",children:"$$$"}),o.jsx("span",{className:"text-sm text-neutral-gray",children:"$30-60 per person"})]}),o.jsxs("div",{className:"flex justify-between items-center p-3 bg-gray-50 rounded-lg",children:[o.jsx("span",{className:"font-opensans",children:"$$$$"}),o.jsx("span",{className:"text-sm text-neutral-gray",children:"$60+ per person"})]})]})]})]}),o.jsx(re,{onClick:g,disabled:f.isPending,className:"w-full bg-vegan-green text-white py-4 px-6 rounded-xl font-opensans font-medium mt-8 hover:bg-vegan-dark-green transition-colors",children:f.isPending?"Creating Profile...":e===Lo.length?"Complete Setup":"Continue"})]})]})}function EM(){const[,e]=sr(),[t,n]=_.useState(""),[r,a]=_.useState([]),[s,c]=_.useState("all"),[u,h]=_.useState("vegan"),[f,g]=_.useState(3);_.useEffect(()=>{window.scrollTo(0,0)},[]);const{data:m=[],isLoading:y}=St({queryKey:["/api/restaurants/all-available"]}),b=["bakery","bar","cafe","meal_delivery","meal_takeaway","night_club","restaurant","food","pizza","fast_food","italian","chinese","japanese","indian","mexican","thai","french","greek","mediterranean","vegetarian","vegan","asian","european","american","seafood","steakhouse","sushi","buffet","barbecue","breakfast","brunch","lunch","dinner","dessert","ice_cream"],j=Array.from(new Set(m.flatMap(w=>{var C;return((C=w.cuisineTypes)==null?void 0:C.filter(k=>b.includes(k.toLowerCase())))||[]}))).slice(0,12),v=m.filter(w=>{if(t&&!w.name.toLowerCase().includes(t.toLowerCase())&&!w.address.toLowerCase().includes(t.toLowerCase())||r.length>0&&!r.some(k=>{var E;return(E=w.cuisineTypes)==null?void 0:E.includes(k)}))return!1;if(s!=="all"){const C=w.priceLevel;if(s==="budget"&&(!C||parseInt(C)>2)||s==="mid"&&(!C||parseInt(C)<2||parseInt(C)>3)||s==="expensive"&&(!C||parseInt(C)<4))return!1}return!0}).sort((w,C)=>{if(u==="vegan"){const k=w.veganScore?parseFloat(w.veganScore):0;return(C.veganScore?parseFloat(C.veganScore):0)-k}if(u==="google"){const k=w.rating?parseFloat(w.rating):0;return(C.rating?parseFloat(C.rating):0)-k}return w.name.localeCompare(C.name)}),S=w=>{a(C=>C.includes(w)?C.filter(k=>k!==w):[...C,w])},N=()=>{n(""),a([]),c("all"),h("vegan"),g(3),g(3)};return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center px-4 py-3 h-16",children:[o.jsx(re,{variant:"ghost",onClick:()=>e("/"),className:"p-2 mr-3 hover:bg-gray-100 rounded-full",children:o.jsx("span",{className:"text-xl",children:"←"})}),o.jsx("div",{className:"flex-1",children:o.jsx(In,{type:"text",placeholder:"Search restaurants by name or location...",value:t,onChange:w=>n(w.target.value),className:"w-full"})})]})}),o.jsxs("div",{className:"flex max-w-7xl mx-auto",children:[o.jsx("div",{className:"w-80 p-4 bg-white h-screen overflow-y-auto",children:o.jsxs("div",{className:"space-y-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-3",children:"Sort by"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:u==="vegan",onChange:()=>h("vegan"),className:"mr-2"}),"Vegan Score"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:u==="google",onChange:()=>h("google"),className:"mr-2"}),"Google Rating"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:u==="name",onChange:()=>h("name"),className:"mr-2"}),"Name (A-Z)"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-3",children:"Price Range"}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:s==="all",onChange:()=>c("all"),className:"mr-2"}),"All Prices"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:s==="budget",onChange:()=>c("budget"),className:"mr-2"}),"Budget (€-€€)"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:s==="mid",onChange:()=>c("mid"),className:"mr-2"}),"Mid-range (€€-€€€)"]}),o.jsxs("label",{className:"flex items-center",children:[o.jsx("input",{type:"radio",checked:s==="expensive",onChange:()=>c("expensive"),className:"mr-2"}),"Fine Dining (€€€€+)"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-medium mb-3",children:"Cuisine Types"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:j.map(w=>o.jsx(qi,{variant:r.includes(w)?"default":"outline",className:"cursor-pointer",onClick:()=>S(w),children:w.replace(/_/g," ").toLowerCase()},w))})]}),o.jsx(re,{onClick:N,variant:"outline",className:"w-full",children:"Clear All Filters"})]})}),o.jsxs("div",{className:"flex-1 p-4",children:[o.jsx("div",{className:"mb-4",children:o.jsxs("h2",{className:"text-xl font-semibold",children:[v.length," restaurants found"]})}),y?o.jsx("div",{className:"text-center py-8",children:"Loading restaurants..."}):v.length===0?o.jsx("div",{className:"text-center py-8",children:"No restaurants found matching your criteria."}):o.jsxs(o.Fragment,{children:[o.jsx("div",{className:"grid gap-4",children:v.slice(0,f).map(w=>o.jsx(he,{className:"hover:shadow-md transition-shadow",children:o.jsx(fe,{className:"p-4",children:o.jsxs("div",{className:"flex justify-between items-start",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h3",{className:"font-semibold text-lg",children:w.name}),o.jsx("p",{className:"text-gray-600 text-sm mb-2",children:w.address}),o.jsxs("div",{className:"flex items-center space-x-4 mb-2",children:[o.jsx("div",{className:"flex items-center",children:o.jsxs("span",{className:"text-sm font-medium text-green-600",children:["Vegan Score: ",w.veganScore||"N/A","/10"]})}),w.rating&&o.jsx("div",{className:"flex items-center",children:o.jsxs("span",{className:"text-sm text-yellow-600",children:["⭐ ",w.rating,"/5"]})}),w.priceLevel&&o.jsx("div",{className:"flex items-center",children:o.jsx("span",{className:"text-sm text-gray-500",children:"€".repeat(parseInt(w.priceLevel))})})]}),w.cuisineTypes&&o.jsx("div",{className:"flex flex-wrap gap-1",children:w.cuisineTypes.filter(C=>b.includes(C.toLowerCase())).slice(0,3).map(C=>o.jsx(qi,{variant:"secondary",className:"text-xs",children:C.replace(/_/g," ").toLowerCase()},C))})]}),o.jsx("div",{className:"ml-4",children:o.jsx(re,{onClick:()=>e(`/?restaurant=${w.id}`),size:"sm",children:"View on Map"})})]})})},w.id))}),f<v.length&&o.jsx("div",{className:"text-center mt-6",children:o.jsxs(re,{onClick:()=>g(w=>w+3),variant:"outline",className:"px-8 py-2",children:["Show More Results (",v.length-f," remaining)"]})})]})]})]})]})}function tb({currentTab:e}){const[,t]=sr(),n=[{id:"map",icon:"fa-map-marked-alt",label:"Map",path:"/home"},{id:"search",icon:"fa-search",label:"Search",path:"/search"},{id:"agent",icon:"fa-robot",label:"AI Agent",path:"/ai-chat"},{id:"profile",icon:"fa-user",label:"Profile",path:"/profile"}];return o.jsx("div",{className:"fixed bottom-0 left-0 right-0 bg-white border-t border-gray-200 z-30",children:o.jsx("div",{className:"flex items-center justify-around py-3",children:n.map(r=>o.jsxs(re,{variant:"ghost",onClick:()=>t(r.path),className:`flex flex-col items-center py-2 px-4 transition-colors ${e===r.id?"text-vegan-green":"text-neutral-gray hover:text-vegan-green"}`,children:[o.jsx("i",{className:`fas ${r.icon} text-xl mb-1`}),o.jsx("span",{className:"text-xs font-opensans font-medium",children:r.label})]},r.id))})})}function TM(){const e=Un(),{toast:t}=Ft();return Dt({mutationFn:async n=>(await ci("POST","/api/favorites",{restaurantId:n})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/favorites"]}),t({title:"Added to Favorites",description:"Restaurant has been added to your favorites."})},onError:n=>{t({title:"Error",description:"Failed to add restaurant to favorites.",variant:"destructive"})}})}function MM(){const e=Un(),{toast:t}=Ft();return Dt({mutationFn:async n=>(await ci("DELETE",`/api/favorites/${n}`)).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/favorites"]}),t({title:"Removed from Favorites",description:"Restaurant has been removed from your favorites."})},onError:n=>{t({title:"Error",description:"Failed to remove restaurant from favorites.",variant:"destructive"})}})}function RM(){return St({queryKey:["/api/favorites"],staleTime:2*60*1e3})}function OM(){const e=Un(),{toast:t}=Ft();return Dt({mutationFn:async({restaurantId:n,rating:r,notes:a})=>(await ci("POST","/api/visits",{restaurantId:n,rating:r,notes:a,visitDate:new Date().toISOString()})).json(),onSuccess:()=>{e.invalidateQueries({queryKey:["/api/visits"]}),e.invalidateQueries({queryKey:["/api/profile/stats"]}),t({title:"Visit Recorded",description:"Your restaurant visit has been recorded."})},onError:n=>{t({title:"Error",description:"Failed to record restaurant visit.",variant:"destructive"})}})}function AM(){var k;const{id:e}=x_(),[,t]=sr(),{toast:n}=Ft(),{data:r,isLoading:a,error:s}=St({queryKey:["/api/restaurants",e],enabled:!!e}),c=TM(),u=MM(),h=OM();if(a)return o.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-vegan-green rounded-2xl mb-4 animate-pulse",children:o.jsx("i",{className:"fas fa-utensils text-white text-2xl"})}),o.jsx("p",{className:"text-neutral-gray font-opensans",children:"Loading restaurant details..."})]})});if(s||!r)return o.jsx("div",{className:"min-h-screen bg-white flex items-center justify-center p-4",children:o.jsxs("div",{className:"text-center max-w-md",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-red-100 rounded-2xl mb-4",children:o.jsx("i",{className:"fas fa-exclamation-triangle text-red-500 text-2xl"})}),o.jsx("h2",{className:"text-xl font-poppins font-semibold mb-2",children:"Restaurant Not Found"}),o.jsx("p",{className:"text-neutral-gray font-opensans mb-6",children:"The restaurant you're looking for could not be found."}),o.jsx(re,{onClick:()=>t("/home"),className:"bg-vegan-green hover:bg-vegan-dark-green text-white",children:"Back to Map"})]})});const{restaurant:f,scoreBreakdown:g,isFavorite:m,personalMatch:y}=r,b=()=>{m?u.mutate(f.id):c.mutate(f.id)},j=()=>{h.mutate({restaurantId:f.id})},v=()=>{f.website?window.open(f.website,"_blank"):n({title:"Website Not Available",description:"This restaurant does not have a website link available.",variant:"destructive"})},S=()=>{const E=encodeURIComponent(`${f.name}, ${f.address}`);window.open(`https://www.google.com/maps/search/${E}`,"_blank")},N=E=>{const R=parseFloat(E);return R>=8?"bg-vegan-green":R>=6?"bg-warning-orange":"bg-gray-400"},w=E=>{const R=parseFloat(E);return R>=8?"Excellent":R>=6?"Good":R>=4?"Fair":"Limited"},C=E=>({menuVariety:"Menu Variety",ingredientClarity:"Ingredient Clarity",staffKnowledge:"Staff Knowledge",crossContaminationPrevention:"Cross-contamination Prevention",nutritionalInformation:"Nutritional Information",allergenManagement:"Allergen Management"})[E]||E;return o.jsxs("div",{className:"min-h-screen bg-white pb-20",children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(re,{variant:"ghost",onClick:()=>t("/home"),className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("i",{className:"fas fa-arrow-left text-neutral-gray"})}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(re,{variant:"ghost",className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("i",{className:"fas fa-share text-neutral-gray"})}),o.jsx(re,{variant:"ghost",onClick:b,disabled:c.isPending||u.isPending,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("i",{className:`${m?"fas":"far"} fa-heart ${m?"text-red-500":"text-neutral-gray"}`})})]})]})})}),o.jsxs("div",{className:"max-w-4xl mx-auto",children:[o.jsxs("div",{className:"px-4 py-6",children:[o.jsx("div",{className:"w-full h-64 bg-gradient-to-r from-vegan-light-green to-green-100 rounded-2xl mb-6 flex items-center justify-center",children:o.jsx("i",{className:"fas fa-utensils text-vegan-green text-6xl"})}),o.jsxs("div",{className:"flex items-start justify-between mb-4",children:[o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-2xl font-poppins font-bold mb-2",children:f.name}),o.jsxs("p",{className:"text-neutral-gray mb-2",children:[((k=f.cuisineTypes)==null?void 0:k.join(", "))||"Cuisine not specified"," • ",f.priceLevel||"$$"]}),o.jsx("p",{className:"text-neutral-gray",children:f.address})]}),o.jsxs("div",{className:"text-right",children:[o.jsx("div",{className:`${N(f.veganScore||"0")} text-white text-2xl font-poppins font-bold rounded-2xl px-4 py-2 mb-2`,children:f.veganScore?parseFloat(f.veganScore).toFixed(1):"N/A"}),o.jsx("p",{className:"text-sm text-vegan-green font-opensans font-medium",children:f.veganScore?w(f.veganScore):"Not Rated"})]})]}),o.jsxs("div",{className:"flex items-center space-x-6 text-sm text-neutral-gray mb-6",children:[f.rating&&o.jsxs("span",{children:[o.jsx("i",{className:"fas fa-star text-yellow-400 mr-1"}),parseFloat(f.rating).toFixed(1)," (",f.reviewCount||0," reviews)"]}),o.jsxs("span",{children:[o.jsx("i",{className:"fas fa-map-marker-alt mr-1"}),"Restaurant location"]}),o.jsxs("span",{children:[o.jsx("i",{className:"fas fa-clock mr-1"}),"Hours not available"]})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-3 mb-8",children:[o.jsxs(re,{onClick:v,className:"bg-vegan-green text-white py-4 px-6 rounded-xl font-opensans font-medium hover:bg-vegan-dark-green transition-colors h-auto",children:[o.jsx("i",{className:"fas fa-calendar mr-2"}),"Visit Website"]}),o.jsxs(re,{onClick:S,className:"bg-blue-500 text-white py-4 px-6 rounded-xl font-opensans font-medium hover:bg-blue-600 transition-colors h-auto",children:[o.jsx("i",{className:"fas fa-directions mr-2"}),"Get Directions"]})]}),o.jsxs(re,{onClick:j,disabled:h.isPending,variant:"outline",className:"w-full py-3 mb-8 border-vegan-green text-vegan-green hover:bg-vegan-light-green",children:[o.jsx("i",{className:"fas fa-check mr-2"}),h.isPending?"Recording Visit...":"Mark as Visited"]})]}),g&&o.jsxs("div",{className:"px-4 mb-8",children:[o.jsx("h2",{className:"text-xl font-poppins font-semibold mb-4",children:"Vegan Score Breakdown"}),o.jsx(he,{children:o.jsx(fe,{className:"p-6",children:o.jsx("div",{className:"space-y-4",children:Object.entries(g).filter(([E])=>!["id","restaurantId","overallScore","lastUpdated"].includes(E)).map(([E,R])=>o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-opensans font-medium",children:C(E)}),o.jsxs("div",{className:"flex items-center",children:[o.jsx("div",{className:"w-32 bg-gray-200 rounded-full h-2 mr-3",children:o.jsx("div",{className:`${N(R)} h-2 rounded-full`,style:{width:`${parseFloat(R)/10*100}%`}})}),o.jsx("span",{className:"text-sm font-opensans font-medium min-w-[30px]",children:parseFloat(R).toFixed(1)})]})]},E))})})})]}),y&&o.jsxs("div",{className:"px-4 mb-8",children:[o.jsx("h2",{className:"text-xl font-poppins font-semibold mb-4",children:"Personal Match"}),o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsx(he,{children:o.jsxs(fe,{className:"bg-vegan-light-green p-4 text-center",children:[o.jsxs("div",{className:"text-2xl font-poppins font-bold text-vegan-green mb-1",children:[y.tasteMatch,"%"]}),o.jsx("p",{className:"text-sm font-opensans text-gray-700",children:"Taste Match"})]})}),o.jsx(he,{children:o.jsxs(fe,{className:"bg-blue-50 p-4 text-center",children:[o.jsxs("div",{className:"text-2xl font-poppins font-bold text-blue-600 mb-1",children:[y.healthFit,"%"]}),o.jsx("p",{className:"text-sm font-opensans text-gray-700",children:"Health Fit"})]})})]})]}),o.jsxs("div",{className:"px-4 mb-8",children:[o.jsx("h2",{className:"text-xl font-poppins font-semibold mb-4",children:"Allergen Check"}),o.jsx(he,{children:o.jsxs(fe,{className:"bg-green-50 border border-green-200 p-4",children:[o.jsxs("div",{className:"flex items-center mb-2",children:[o.jsx("i",{className:"fas fa-check-circle text-green-500 text-xl mr-3"}),o.jsx("span",{className:"font-opensans font-medium text-green-700",children:"Based on your profile preferences"})]}),o.jsx("p",{className:"text-sm text-green-600 ml-8",children:"This restaurant's allergen management score suggests it can accommodate dietary restrictions well."})]})})]}),o.jsxs("div",{className:"px-4 mb-20",children:[o.jsx("h2",{className:"text-xl font-poppins font-semibold mb-4",children:"Restaurant Information"}),o.jsx(he,{children:o.jsxs(fe,{className:"p-6 space-y-4",children:[f.phoneNumber&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-opensans font-medium",children:"Phone"}),o.jsx("a",{href:`tel:${f.phoneNumber}`,className:"text-vegan-green font-opensans",children:f.phoneNumber})]}),f.website&&o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-opensans font-medium",children:"Website"}),o.jsx("a",{href:f.website,target:"_blank",rel:"noopener noreferrer",className:"text-vegan-green font-opensans",children:"Visit Website"})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx("span",{className:"font-opensans font-medium",children:"Verified"}),o.jsx("span",{className:`px-2 py-1 rounded text-xs font-opensans ${f.isVerified?"bg-green-100 text-green-700":"bg-gray-100 text-gray-700"}`,children:f.isVerified?"Verified":"Not Verified"})]})]})})]})]}),o.jsx(tb,{currentTab:"map"})]})}var wp="Switch",[IM,dR]=qt(wp),[DM,zM]=IM(wp),nb=_.forwardRef((e,t)=>{const{__scopeSwitch:n,name:r,checked:a,defaultChecked:s,required:c,disabled:u,value:h="on",onCheckedChange:f,form:g,...m}=e,[y,b]=_.useState(null),j=Ae(t,C=>b(C)),v=_.useRef(!1),S=y?g||!!y.closest("form"):!0,[N=!1,w]=ui({prop:a,defaultProp:s,onChange:f});return o.jsxs(DM,{scope:n,checked:N,disabled:u,children:[o.jsx(me.button,{type:"button",role:"switch","aria-checked":N,"aria-required":c,"data-state":sb(N),"data-disabled":u?"":void 0,disabled:u,value:h,...m,ref:j,onClick:ae(e.onClick,C=>{w(k=>!k),S&&(v.current=C.isPropagationStopped(),v.current||C.stopPropagation())})}),S&&o.jsx(FM,{control:y,bubbles:!v.current,name:r,value:h,checked:N,required:c,disabled:u,form:g,style:{transform:"translateX(-100%)"}})]})});nb.displayName=wp;var ib="SwitchThumb",rb=_.forwardRef((e,t)=>{const{__scopeSwitch:n,...r}=e,a=zM(ib,n);return o.jsx(me.span,{"data-state":sb(a.checked),"data-disabled":a.disabled?"":void 0,...r,ref:t})});rb.displayName=ib;var FM=e=>{const{control:t,checked:n,bubbles:r=!0,...a}=e,s=_.useRef(null),c=Gc(n),u=Vc(t);return _.useEffect(()=>{const h=s.current,f=window.HTMLInputElement.prototype,m=Object.getOwnPropertyDescriptor(f,"checked").set;if(c!==n&&m){const y=new Event("click",{bubbles:r});m.call(h,n),h.dispatchEvent(y)}},[c,n,r]),o.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:n,...a,tabIndex:-1,ref:s,style:{...e.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function sb(e){return e?"checked":"unchecked"}var ob=nb,BM=rb;const Uh=_.forwardRef(({className:e,...t},n)=>o.jsx(ob,{className:_e("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",e),...t,ref:n,children:o.jsx(BM,{className:_e("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));Uh.displayName=ob.displayName;function $M(){var C,k,E;const{user:e,isLoading:t}=ja(),{toast:n}=Ft(),[,r]=sr(),[a,s]=_.useState(!0),[c,u]=_.useState(!0),{data:h,isLoading:f}=St({queryKey:["/api/profile/stats"],staleTime:5*60*1e3}),{data:g=[],isLoading:m}=RM(),y=()=>{window.location.href="/api/logout"},b=()=>{n({title:"Coming Soon",description:"Profile editing will be available in a future update."})},j=()=>{n({title:"Data Export Requested",description:"Your data export will be sent to your email address within 24 hours."})},v=()=>{n({title:"Coming Soon",description:"Privacy settings will be available in a future update."})};if(t)return o.jsx("div",{className:"min-h-screen bg-light-gray flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-16 h-16 bg-vegan-green rounded-2xl mb-4 animate-pulse",children:o.jsx("i",{className:"fas fa-user text-white text-2xl"})}),o.jsx("p",{className:"text-neutral-gray font-opensans",children:"Loading profile..."})]})});const S=()=>e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName[0]}${e.lastName[0]}`.toUpperCase():e!=null&&e.email?e.email[0].toUpperCase():"U",N=()=>e!=null&&e.firstName&&(e!=null&&e.lastName)?`${e.firstName} ${e.lastName}`:e!=null&&e.firstName?e.firstName:"User",w=()=>{var R;return(R=e==null?void 0:e.profile)!=null&&R.dietaryStyle?e.profile.dietaryStyle.charAt(0).toUpperCase()+e.profile.dietaryStyle.slice(1):"Not set"};return o.jsxs("div",{className:"min-h-screen bg-light-gray pb-20",children:[o.jsx("div",{className:"sticky top-0 bg-white border-b border-gray-200 z-10",children:o.jsx("div",{className:"max-w-4xl mx-auto px-4 py-4",children:o.jsx("h1",{className:"text-xl font-poppins font-semibold",children:"Profile"})})}),o.jsxs("div",{className:"max-w-4xl mx-auto p-4",children:[o.jsx(he,{className:"mb-6",children:o.jsx(fe,{className:"p-6",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx("div",{className:"w-20 h-20 bg-vegan-green rounded-full flex items-center justify-center",children:e!=null&&e.profileImageUrl?o.jsx("img",{src:e.profileImageUrl,alt:"Profile",className:"w-full h-full rounded-full object-cover"}):o.jsx("span",{className:"text-2xl font-poppins font-bold text-white",children:S()})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h2",{className:"text-xl font-poppins font-semibold mb-1",children:N()}),o.jsx("p",{className:"text-neutral-gray mb-2",children:(e==null?void 0:e.email)||"No email available"}),o.jsx("span",{className:"bg-vegan-light-green text-vegan-green px-3 py-1 rounded-full text-sm font-opensans font-medium",children:w()})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(re,{variant:"ghost",onClick:b,className:"p-2 hover:bg-gray-100 rounded-lg transition-colors",children:o.jsx("i",{className:"fas fa-edit text-neutral-gray"})}),o.jsx(re,{variant:"outline",onClick:y,className:"px-3 py-1 text-sm bg-red-50 text-red-600 border-red-200 hover:bg-red-100",children:"Log Out"})]})]})})}),o.jsxs("div",{className:"grid grid-cols-3 gap-4 mb-6",children:[o.jsx(he,{children:o.jsxs(fe,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-poppins font-bold text-vegan-green mb-1",children:f?"...":(h==null?void 0:h.placesVisited)||0}),o.jsx("p",{className:"text-sm font-opensans text-neutral-gray",children:"Places Visited"})]})}),o.jsx(he,{children:o.jsxs(fe,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-poppins font-bold text-blue-600 mb-1",children:m?"...":g.length}),o.jsx("p",{className:"text-sm font-opensans text-neutral-gray",children:"Favorites"})]})}),o.jsx(he,{children:o.jsxs(fe,{className:"p-4 text-center",children:[o.jsx("div",{className:"text-2xl font-poppins font-bold text-purple-600 mb-1",children:f?"...":(h==null?void 0:h.reviews)||0}),o.jsx("p",{className:"text-sm font-opensans text-neutral-gray",children:"Reviews"})]})})]}),o.jsx(he,{className:"mb-4",children:o.jsxs(fe,{className:"p-6",children:[o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsx("h3",{className:"font-poppins font-semibold",children:"Dietary Preferences"}),o.jsx(re,{variant:"ghost",onClick:b,className:"text-vegan-green font-opensans font-medium hover:bg-vegan-light-green",children:"Edit"})]}),o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-opensans text-neutral-gray",children:"Diet Type"}),o.jsx("span",{className:"font-opensans font-medium",children:w()})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"font-opensans text-neutral-gray",children:"Price Range"}),o.jsx("span",{className:"font-opensans font-medium",children:((C=e==null?void 0:e.profile)==null?void 0:C.priceRange)||"Not set"})]}),((k=e==null?void 0:e.profile)==null?void 0:k.allergies)&&e.profile.allergies.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-opensans text-neutral-gray block mb-2",children:"Allergies"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.profile.allergies.map(R=>o.jsx("span",{className:"bg-red-100 text-red-700 px-3 py-1 rounded-full text-sm font-opensans",children:R},R))})]}),((E=e==null?void 0:e.profile)==null?void 0:E.preferredCuisines)&&e.profile.preferredCuisines.length>0&&o.jsxs("div",{children:[o.jsx("span",{className:"font-opensans text-neutral-gray block mb-2",children:"Preferred Cuisines"}),o.jsx("div",{className:"flex flex-wrap gap-2",children:e.profile.preferredCuisines.map(R=>o.jsx("span",{className:"bg-vegan-light-green text-vegan-green px-3 py-1 rounded-full text-sm font-opensans",children:R},R))})]})]})]})}),o.jsx(he,{className:"mb-4",children:o.jsxs(fe,{className:"p-6",children:[o.jsx("h3",{className:"font-poppins font-semibold mb-4",children:"Settings & Actions"}),o.jsxs("div",{className:"space-y-3",children:[o.jsx(re,{onClick:()=>r("/search"),variant:"outline",className:"w-full justify-start text-left p-4 h-auto",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Advanced Search & Filters"}),o.jsx("div",{className:"text-sm text-neutral-gray",children:"Search with price, cuisine and score filters"})]})}),o.jsx(re,{onClick:()=>r("/favorites"),variant:"outline",className:"w-full justify-start text-left p-4 h-auto",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"My Favorites"}),o.jsx("div",{className:"text-sm text-neutral-gray",children:"View and manage your saved restaurants"})]})}),o.jsx(re,{onClick:()=>r("/profile-setup"),variant:"outline",className:"w-full justify-start text-left p-4 h-auto",children:o.jsxs("div",{children:[o.jsx("div",{className:"font-medium",children:"Complete Profile Setup"}),o.jsx("div",{className:"text-sm text-neutral-gray",children:"Set your dietary preferences and restrictions"})]})})]})]})}),o.jsx(he,{className:"mb-4",children:o.jsxs(fe,{className:"p-6",children:[o.jsx("h3",{className:"font-poppins font-semibold mb-4",children:"Recent Activity"}),o.jsx("div",{className:"space-y-3",children:h!=null&&h.avgVeganScore&&h.avgVeganScore>0?o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx("div",{className:"w-2 h-2 bg-vegan-green rounded-full"}),o.jsxs("span",{className:"font-opensans text-sm text-neutral-gray",children:["Average vegan score: ",h.avgVeganScore.toFixed(1),"/10"]})]}):o.jsxs("div",{className:"text-center py-4",children:[o.jsx("i",{className:"fas fa-utensils text-neutral-gray text-2xl mb-2"}),o.jsx("p",{className:"font-opensans text-neutral-gray",children:"No activity yet. Start exploring vegan restaurants!"})]})})]})}),o.jsx(he,{className:"mb-4",children:o.jsxs(fe,{className:"p-6",children:[o.jsx("h3",{className:"font-poppins font-semibold mb-4",children:"App Settings"}),o.jsxs("div",{className:"space-y-4",children:[o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ve,{htmlFor:"notifications",className:"font-opensans",children:"Notifications"}),o.jsx(Uh,{id:"notifications",checked:a,onCheckedChange:s})]}),o.jsxs("div",{className:"flex items-center justify-between",children:[o.jsx(Ve,{htmlFor:"location",className:"font-opensans",children:"Location Services"}),o.jsx(Uh,{id:"location",checked:c,onCheckedChange:u})]}),o.jsx(re,{variant:"ghost",onClick:j,className:"w-full text-left py-3 font-opensans text-neutral-gray hover:text-gray-900 hover:bg-gray-50 transition-colors justify-start",children:"Export My Data"}),o.jsx(re,{variant:"ghost",onClick:v,className:"w-full text-left py-3 font-opensans text-neutral-gray hover:text-gray-900 hover:bg-gray-50 transition-colors justify-start",children:"Privacy Settings"})]})]})}),o.jsx(he,{className:"mb-20",children:o.jsx(fe,{className:"p-6",children:o.jsxs(re,{variant:"ghost",onClick:y,className:"w-full text-left py-3 font-opensans text-red-500 hover:text-red-600 hover:bg-red-50 transition-colors justify-start",children:[o.jsx("i",{className:"fas fa-sign-out-alt mr-3"}),"Sign Out"]})})})]}),o.jsx(tb,{currentTab:"profile"})]})}function Dv(){const{toast:e}=Ft(),[t,n]=_.useState(null),r={lat:42.6977,lng:23.3219},a=4,s=Dt({mutationFn:async()=>{const h=await fetch("/api/restaurants/calculate-all-scores",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(r)});if(!h.ok)throw new Error("Failed to calculate scores");return await h.json()},onSuccess:h=>{n(h),e({title:"Scoring Complete",description:`Calculated scores for ${h.processed} restaurants`,variant:"default"})},onError:h=>{console.error("Scoring error:",h),e({title:"Scoring Failed",description:"Failed to calculate vegan scores. Check console for details.",variant:"destructive"})}}),c=Dt({mutationFn:async()=>{const h=await fetch("/api/restaurants/populate",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({...r,radius:a*1e3})});if(!h.ok)throw new Error("Failed to populate restaurants");return await h.json()},onSuccess:h=>{e({title:"Restaurants Loaded",description:`Found ${h.count||"unknown number of"} restaurants in Sofia`,variant:"default"})},onError:h=>{console.error("Population error:",h),e({title:"Population Failed",description:"Failed to load restaurants from Google Places",variant:"destructive"})}}),u=t?Math.round(t.processed/t.total*100):0;return o.jsxs("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:[o.jsx("div",{className:"bg-white dark:bg-gray-800 shadow-sm border-b",children:o.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:o.jsx("div",{className:"flex items-center justify-between h-16",children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsx(Zj,{href:"/",children:o.jsxs(re,{variant:"ghost",size:"sm",children:[o.jsx(Qf,{className:"h-4 w-4 mr-2"}),"Back to Map"]})}),o.jsxs("div",{children:[o.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Vegan Scoring System"}),o.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Calculate authentic vegan scores for Sofia restaurants"})]})]})})})}),o.jsxs("div",{className:"max-w-4xl mx-auto p-6 space-y-6",children:[o.jsxs(he,{children:[o.jsxs(Ee,{children:[o.jsxs(Te,{className:"flex items-center space-x-2",children:[o.jsx(kr,{className:"h-5 w-5"}),o.jsx("span",{children:"Target Location"})]}),o.jsx(yn,{children:"Calculating scores for quality restaurants (rating > 3.0) in Sofia, Bulgaria"})]}),o.jsx(fe,{children:o.jsxs("div",{className:"flex items-center space-x-4",children:[o.jsxs(qi,{variant:"outline",children:["Lat: ",r.lat,"°"]}),o.jsxs(qi,{variant:"outline",children:["Lng: ",r.lng,"°"]}),o.jsxs(qi,{variant:"outline",children:["Radius: ",a,"km"]})]})})]}),o.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[o.jsxs(he,{children:[o.jsxs(Ee,{children:[o.jsx(Te,{children:"Step 1: Load Restaurants"}),o.jsx(yn,{children:"Fetch restaurant data from Google Places API"})]}),o.jsx(fe,{children:o.jsx(re,{onClick:()=>c.mutate(),disabled:c.isPending,className:"w-full",variant:"outline",children:c.isPending?o.jsx(o.Fragment,{children:"Loading Restaurants..."}):o.jsx(o.Fragment,{children:"Load Sofia Restaurants"})})})]}),o.jsxs(he,{children:[o.jsxs(Ee,{children:[o.jsxs(Te,{className:"flex items-center space-x-2",children:[o.jsx(Nk,{className:"h-5 w-5"}),o.jsx("span",{children:"Step 2: Calculate Scores"})]}),o.jsx(yn,{children:"Run AI analysis to generate vegan scores"})]}),o.jsx(fe,{children:o.jsx(re,{onClick:()=>s.mutate(),disabled:s.isPending,className:"w-full",children:s.isPending?o.jsx(o.Fragment,{children:"Calculating Scores..."}):o.jsx(o.Fragment,{children:"Calculate Vegan Scores"})})})]})]}),t&&o.jsxs(he,{children:[o.jsxs(Ee,{children:[o.jsx(Te,{children:"Scoring Results"}),o.jsx(yn,{children:"Latest scoring calculation results"})]}),o.jsxs(fe,{className:"space-y-4",children:[o.jsxs("div",{className:"grid gap-4 md:grid-cols-3",children:[o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600",children:t.processed}),o.jsx("div",{className:"text-sm text-gray-500",children:"Processed"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600",children:t.total}),o.jsx("div",{className:"text-sm text-gray-500",children:"Total"})]}),o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"text-2xl font-bold text-orange-600",children:t.remaining}),o.jsx("div",{className:"text-sm text-gray-500",children:"Remaining"})]})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[u,"%"]})]}),o.jsx(wt,{value:u,className:"w-full"})]}),o.jsx("div",{className:"p-3 bg-gray-50 dark:bg-gray-800 rounded-lg",children:o.jsx("p",{className:"text-sm text-gray-600 dark:text-gray-300",children:t.message})}),t.remaining>0&&o.jsxs(re,{onClick:()=>s.mutate(),disabled:s.isPending,variant:"outline",className:"w-full",children:["Continue Scoring (",t.remaining," remaining)"]})]})]}),o.jsxs(he,{children:[o.jsx(Ee,{children:o.jsx(Te,{children:"How Vegan Scoring Works"})}),o.jsxs(fe,{className:"space-y-3",children:[o.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sm",children:"Data Sources"}),o.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[o.jsx("li",{children:"• Google Places API reviews"}),o.jsx("li",{children:"• Restaurant website data"}),o.jsx("li",{children:"• Cuisine type analysis"}),o.jsx("li",{children:"• Photo analysis (when available)"})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium text-sm",children:"Scoring Dimensions"}),o.jsxs("ul",{className:"text-sm text-gray-600 dark:text-gray-300 space-y-1",children:[o.jsx("li",{children:"• Menu Variety (25%)"}),o.jsx("li",{children:"• Ingredient Clarity (20%)"}),o.jsx("li",{children:"• Cross-contamination Prevention (20%)"}),o.jsx("li",{children:"• Staff Knowledge (15%)"}),o.jsx("li",{children:"• Nutritional Information (10%)"}),o.jsx("li",{children:"• Allergen Management (10%)"})]})]})]}),o.jsx("div",{className:"mt-4 p-3 bg-blue-50 dark:bg-blue-900/20 rounded-lg",children:o.jsxs("p",{className:"text-sm text-blue-700 dark:text-blue-300",children:[o.jsx("strong",{children:"Note:"})," Scoring uses GPT-4o for intelligent analysis. Rate limits apply - we process 3 restaurants at a time with delays."]})})]})]})]})]})}function VM(){const{toast:e}=Ft(),[t,n]=_.useState(10),[r,a]=_.useState(!0),s=Dt({mutationFn:async({batchSize:u,onlyLowScores:h})=>{const f=await fetch("/api/admin/improve-scoring",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({batchSize:u,onlyLowScores:h}),credentials:"include"});if(!f.ok)throw new Error(`HTTP error! status: ${f.status}`);return await f.json()},onSuccess:u=>{e({title:"Scoring Improved Successfully",description:u.message})},onError:u=>{e({title:"Error",description:u.message,variant:"destructive"})}}),c=()=>{s.mutate({batchSize:t,onlyLowScores:r})};return o.jsx("div",{className:"min-h-screen bg-gray-50 py-8",children:o.jsxs("div",{className:"max-w-4xl mx-auto px-4",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:"Подобряване на AI Scoring System"}),o.jsx("p",{className:"text-gray-600",children:"Обновяване на vegan scores с подобрен алгоритъм"})]}),o.jsxs(he,{className:"mb-8",children:[o.jsx(Ee,{children:o.jsx(Te,{children:"Настройки за Scoring"})}),o.jsxs(fe,{className:"space-y-4",children:[o.jsxs("div",{children:[o.jsx("label",{className:"block text-sm font-medium mb-2",children:"Брой ресторанти за обработка:"}),o.jsx("input",{type:"number",value:t,onChange:u=>n(parseInt(u.target.value)),className:"w-full p-2 border rounded-md",min:"1",max:"50"})]}),o.jsx("div",{children:o.jsxs("label",{className:"flex items-center space-x-2",children:[o.jsx("input",{type:"checkbox",checked:r,onChange:u=>a(u.target.checked),className:"rounded"}),o.jsx("span",{className:"text-sm",children:"Само ресторанти с ниски scores (< 2.0)"})]})}),o.jsx(re,{onClick:c,disabled:s.isPending,className:"w-full",children:s.isPending?"Обработва...":"Стартирай Подобряване"})]})]}),s.data&&o.jsxs(he,{children:[o.jsx(Ee,{children:o.jsx(Te,{children:"Резултати от подобряването"})}),o.jsxs(fe,{children:[o.jsxs("div",{className:"mb-4 p-4 bg-green-50 rounded-lg",children:[o.jsx("p",{className:"text-green-800 font-medium",children:s.data.message}),o.jsxs("p",{className:"text-green-600 text-sm mt-1",children:["Обработени: ",s.data.processed," | Подобрени: ",s.data.improved]})]}),o.jsx("div",{className:"space-y-3",children:s.data.results.map((u,h)=>o.jsxs("div",{className:"p-3 border rounded-lg",children:[o.jsxs("div",{className:"flex justify-between items-start mb-2",children:[o.jsx("h4",{className:"font-medium",children:u.name}),u.error?o.jsx("span",{className:"text-red-600 text-sm",children:"Грешка"}):o.jsxs("span",{className:"text-green-600 text-sm",children:[u.oldScore.toFixed(1)," → ",u.newScore.toFixed(1)]})]}),u.reasoning&&o.jsx("p",{className:"text-gray-600 text-sm",children:u.reasoning}),u.error&&o.jsx("p",{className:"text-red-600 text-sm",children:u.error})]},h))})]})]})]})})}var bp="Tabs",[UM,hR]=qt(bp,[Qc]),ab=Qc(),[HM,Np]=UM(bp),lb=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,onValueChange:a,defaultValue:s,orientation:c="horizontal",dir:u,activationMode:h="automatic",...f}=e,g=Kc(u),[m,y]=ui({prop:r,onChange:a,defaultProp:s});return o.jsx(HM,{scope:n,baseId:Ki(),value:m,onValueChange:y,orientation:c,dir:g,activationMode:h,children:o.jsx(me.div,{dir:g,"data-orientation":c,...f,ref:t})})});lb.displayName=bp;var cb="TabsList",ub=_.forwardRef((e,t)=>{const{__scopeTabs:n,loop:r=!0,...a}=e,s=Np(cb,n),c=ab(n);return o.jsx(e1,{asChild:!0,...c,orientation:s.orientation,dir:s.dir,loop:r,children:o.jsx(me.div,{role:"tablist","aria-orientation":s.orientation,...a,ref:t})})});ub.displayName=cb;var db="TabsTrigger",hb=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,disabled:a=!1,...s}=e,c=Np(db,n),u=ab(n),h=mb(c.baseId,r),f=gb(c.baseId,r),g=r===c.value;return o.jsx(t1,{asChild:!0,...u,focusable:!a,active:g,children:o.jsx(me.button,{type:"button",role:"tab","aria-selected":g,"aria-controls":f,"data-state":g?"active":"inactive","data-disabled":a?"":void 0,disabled:a,id:h,...s,ref:t,onMouseDown:ae(e.onMouseDown,m=>{!a&&m.button===0&&m.ctrlKey===!1?c.onValueChange(r):m.preventDefault()}),onKeyDown:ae(e.onKeyDown,m=>{[" ","Enter"].includes(m.key)&&c.onValueChange(r)}),onFocus:ae(e.onFocus,()=>{const m=c.activationMode!=="manual";!g&&!a&&m&&c.onValueChange(r)})})})});hb.displayName=db;var fb="TabsContent",pb=_.forwardRef((e,t)=>{const{__scopeTabs:n,value:r,forceMount:a,children:s,...c}=e,u=Np(fb,n),h=mb(u.baseId,r),f=gb(u.baseId,r),g=r===u.value,m=_.useRef(g);return _.useEffect(()=>{const y=requestAnimationFrame(()=>m.current=!1);return()=>cancelAnimationFrame(y)},[]),o.jsx(pi,{present:a||g,children:({present:y})=>o.jsx(me.div,{"data-state":g?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!y,id:f,tabIndex:0,...c,ref:t,style:{...e.style,animationDuration:m.current?"0s":void 0},children:y&&s})})});pb.displayName=fb;function mb(e,t){return`${e}-trigger-${t}`}function gb(e,t){return`${e}-content-${t}`}var ZM=lb,vb=ub,xb=hb,yb=pb;const WM=ZM,_b=_.forwardRef(({className:e,...t},n)=>o.jsx(vb,{ref:n,className:_e("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...t}));_b.displayName=vb.displayName;const is=_.forwardRef(({className:e,...t},n)=>o.jsx(xb,{ref:n,className:_e("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...t}));is.displayName=xb.displayName;const rs=_.forwardRef(({className:e,...t},n)=>o.jsx(yb,{ref:n,className:_e("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...t}));rs.displayName=yb.displayName;function GM(){var N,w,C;const{toast:e}=Ft(),t=Un(),[n]=_.useState(3e4),[r,a]=_.useState({menuVarietyWeight:.25,ingredientClarityWeight:.2,staffKnowledgeWeight:.15,crossContaminationWeight:.2,nutritionalInformationWeight:.1,allergenManagementWeight:.1}),{data:s,isLoading:c}=St({queryKey:["/api/admin/database-stats"],refetchInterval:n}),{data:u,isLoading:h}=St({queryKey:["/api/admin/cache-stats"],refetchInterval:n}),{data:f,isLoading:g}=St({queryKey:["/api/admin/scoring-status"],refetchInterval:1e4});St({queryKey:["/api/admin/scoring-weights"],refetchInterval:n});const m=Dt({mutationFn:async k=>ci("/api/admin/scoring-weights","POST",k),onSuccess:()=>{e({title:"Success",description:"Scoring weights updated successfully"}),t.invalidateQueries({queryKey:["/api/admin/scoring-weights"]})},onError:()=>{e({title:"Error",description:"Failed to update scoring weights",variant:"destructive"})}}),y=s?Math.round(s.withScores/s.totalRestaurants*100):0,b=u?Math.round(u.cacheHitRate*100):0,j=(k,E)=>{a(R=>({...R,[k]:E}))},v=()=>{const k=Object.values(r).reduce((E,R)=>E+R,0);if(Math.abs(k-1)>.001){e({title:"Error",description:`Total weights must equal 1.0 (currently ${k.toFixed(3)})`,variant:"destructive"});return}m.mutate(r)},S=()=>{a({menuVarietyWeight:.25,ingredientClarityWeight:.2,staffKnowledgeWeight:.15,crossContaminationWeight:.2,nutritionalInformationWeight:.1,allergenManagementWeight:.1})};return o.jsx("div",{className:"min-h-screen bg-gray-50 dark:bg-gray-900",children:o.jsxs("div",{className:"container mx-auto p-6",children:[o.jsxs("div",{className:"mb-8",children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900 dark:text-white mb-2",children:"VeganMapAI Admin Panel"}),o.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Comprehensive platform management and monitoring"})]}),o.jsxs(WM,{defaultValue:"overview",className:"space-y-6",children:[o.jsxs(_b,{className:"grid w-full grid-cols-5",children:[o.jsx(is,{value:"overview",children:"Overview"}),o.jsx(is,{value:"database",children:"Database"}),o.jsx(is,{value:"scoring",children:"AI Scoring"}),o.jsx(is,{value:"weights",children:"Scoring Weights"}),o.jsx(is,{value:"cache",children:"Cache Management"})]}),o.jsxs(rs,{value:"overview",className:"space-y-6",children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-6",children:[o.jsxs(he,{children:[o.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Total Restaurants"}),o.jsx(lv,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(fe,{children:[o.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.totalRestaurants)||0}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["+",(s==null?void 0:s.recentlyAdded)||0," recently added"]})]})]}),o.jsxs(he,{children:[o.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"AI Scoring Progress"}),o.jsx(Ck,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(fe,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[y,"%"]}),o.jsx(wt,{value:y,className:"mt-2"}),o.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:[s==null?void 0:s.withScores,"/",s==null?void 0:s.totalRestaurants," completed"]})]})]}),o.jsxs(he,{children:[o.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Avg Vegan Score"}),o.jsx(cv,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(fe,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[((N=s==null?void 0:s.avgVeganScore)==null?void 0:N.toFixed(2))||"0.00","/10"]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Across all scored restaurants"})]})]}),o.jsxs(he,{children:[o.jsxs(Ee,{className:"flex flex-row items-center justify-between space-y-0 pb-2",children:[o.jsx(Te,{className:"text-sm font-medium",children:"Cache Hit Rate"}),o.jsx(Rk,{className:"h-4 w-4 text-muted-foreground"})]}),o.jsxs(fe,{children:[o.jsxs("div",{className:"text-2xl font-bold",children:[b,"%"]}),o.jsxs("p",{className:"text-xs text-muted-foreground",children:["$",((w=u==null?void 0:u.totalSavings)==null?void 0:w.toFixed(2))||"0.00"," saved"]})]})]})]}),o.jsxs(he,{children:[o.jsxs(Ee,{children:[o.jsx(Te,{children:"Vegan Friendliness Distribution"}),o.jsx(yn,{children:"Restaurant categorization by vegan score ranges"})]}),o.jsx(fe,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 rounded bg-green-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"High (7.0+ score)"}),o.jsx("p",{className:"text-2xl font-bold",children:(s==null?void 0:s.highVeganFriendly)||0})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 rounded bg-yellow-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Medium (4.0-6.9)"}),o.jsx("p",{className:"text-2xl font-bold",children:(s==null?void 0:s.mediumVeganFriendly)||0})]})]}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx("div",{className:"w-4 h-4 rounded bg-red-500"}),o.jsxs("div",{children:[o.jsx("p",{className:"text-sm font-medium",children:"Low (0.1-3.9)"}),o.jsx("p",{className:"text-2xl font-bold",children:(s==null?void 0:s.lowVeganFriendly)||0})]})]})]})})]}),f&&o.jsxs(he,{children:[o.jsx(Ee,{children:o.jsxs(Te,{className:"flex items-center space-x-2",children:[f.status==="running"&&o.jsx(d0,{className:"h-5 w-5 text-blue-500"}),f.status==="completed"&&o.jsx(Pk,{className:"h-5 w-5 text-green-500"}),o.jsx("span",{children:"Current Scoring Job"}),o.jsx(qi,{variant:f.status==="running"?"default":"secondary",children:f.status})]})}),o.jsx(fe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{children:[o.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[o.jsx("span",{children:"Progress"}),o.jsxs("span",{children:[f.completedRestaurants,"/",f.totalRestaurants]})]}),o.jsx(wt,{value:f.completedRestaurants/f.totalRestaurants*100})]}),o.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Started at"}),o.jsx("p",{className:"font-medium",children:new Date(f.startedAt).toLocaleString()})]}),o.jsxs("div",{children:[o.jsx("p",{className:"text-muted-foreground",children:"Est. completion"}),o.jsx("p",{className:"font-medium",children:f.estimatedCompletion})]})]})]})})]})]}),o.jsx(rs,{value:"database",className:"space-y-6",children:o.jsxs(he,{children:[o.jsxs(Ee,{children:[o.jsx(Te,{children:"Database Statistics"}),o.jsx(yn,{children:"Current database state and coverage metrics"})]}),o.jsx(fe,{children:o.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[o.jsxs("div",{className:"text-center p-4 border rounded",children:[o.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.totalRestaurants)||0}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Total Restaurants"})]}),o.jsxs("div",{className:"text-center p-4 border rounded",children:[o.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.withScores)||0}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"With AI Scores"})]}),o.jsxs("div",{className:"text-center p-4 border rounded",children:[o.jsx("div",{className:"text-2xl font-bold",children:(s==null?void 0:s.pendingScores)||0}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Pending Scores"})]}),o.jsxs("div",{className:"text-center p-4 border rounded",children:[o.jsxs("div",{className:"text-2xl font-bold",children:[Math.round(((s==null?void 0:s.totalRestaurants)||0)/514*100),"%"]}),o.jsx("div",{className:"text-sm text-muted-foreground",children:"Sofia Coverage"})]})]})})]})}),o.jsx(rs,{value:"scoring",className:"space-y-6",children:o.jsxs(he,{children:[o.jsxs(Ee,{children:[o.jsx(Te,{children:"AI Scoring System Status"}),o.jsx(yn,{children:"Monitor AI vegan scoring progress and performance"})]}),o.jsx(fe,{children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Scoring Progress"}),o.jsxs("div",{className:"mt-2",children:[o.jsx(wt,{value:y}),o.jsxs("p",{className:"text-sm text-muted-foreground mt-1",children:[(s==null?void 0:s.withScores)||0," of ",(s==null?void 0:s.totalRestaurants)||0," restaurants scored"]})]})]}),o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Average Score"}),o.jsxs("div",{className:"text-3xl font-bold mt-2",children:[((C=s==null?void 0:s.avgVeganScore)==null?void 0:C.toFixed(2))||"0.00","/10"]}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:["Across ",(s==null?void 0:s.withScores)||0," scored restaurants"]})]})]})})})]})}),o.jsx(rs,{value:"weights",className:"space-y-6",children:o.jsxs(he,{children:[o.jsxs(Ee,{children:[o.jsxs(Te,{className:"flex items-center space-x-2",children:[o.jsx(Ak,{className:"h-5 w-5"}),o.jsx("span",{children:"AI Scoring Weights Configuration"})]}),o.jsx(yn,{children:"Adjust the importance of each scoring dimension. Total must equal 1.0 (100%)"})]}),o.jsxs(fe,{children:[o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"menuVariety",children:"Menu Variety"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(In,{id:"menuVariety",type:"number",min:"0",max:"1",step:"0.01",value:r.menuVarietyWeight,onChange:k=>j("menuVarietyWeight",parseFloat(k.target.value)||0),className:"w-20"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.menuVarietyWeight*100),"%)"]}),o.jsx("div",{className:"flex-1",children:o.jsx(wt,{value:r.menuVarietyWeight*100})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Quality and variety of vegan menu options"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"ingredientClarity",children:"Ingredient Clarity"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(In,{id:"ingredientClarity",type:"number",min:"0",max:"1",step:"0.01",value:r.ingredientClarityWeight,onChange:k=>j("ingredientClarityWeight",parseFloat(k.target.value)||0),className:"w-20"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.ingredientClarityWeight*100),"%)"]}),o.jsx("div",{className:"flex-1",children:o.jsx(wt,{value:r.ingredientClarityWeight*100})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Clear labeling of ingredients and vegan options"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"staffKnowledge",children:"Staff Knowledge"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(In,{id:"staffKnowledge",type:"number",min:"0",max:"1",step:"0.01",value:r.staffKnowledgeWeight,onChange:k=>j("staffKnowledgeWeight",parseFloat(k.target.value)||0),className:"w-20"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.staffKnowledgeWeight*100),"%)"]}),o.jsx("div",{className:"flex-1",children:o.jsx(wt,{value:r.staffKnowledgeWeight*100})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Staff understanding of vegan dietary requirements"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"crossContamination",children:"Cross-Contamination Prevention"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(In,{id:"crossContamination",type:"number",min:"0",max:"1",step:"0.01",value:r.crossContaminationWeight,onChange:k=>j("crossContaminationWeight",parseFloat(k.target.value)||0),className:"w-20"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.crossContaminationWeight*100),"%)"]}),o.jsx("div",{className:"flex-1",children:o.jsx(wt,{value:r.crossContaminationWeight*100})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Measures to prevent cross-contamination with animal products"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"nutritionalInfo",children:"Nutritional Information"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(In,{id:"nutritionalInfo",type:"number",min:"0",max:"1",step:"0.01",value:r.nutritionalInformationWeight,onChange:k=>j("nutritionalInformationWeight",parseFloat(k.target.value)||0),className:"w-20"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.nutritionalInformationWeight*100),"%)"]}),o.jsx("div",{className:"flex-1",children:o.jsx(wt,{value:r.nutritionalInformationWeight*100})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Availability of nutritional information for vegan dishes"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsx(Ve,{htmlFor:"allergenManagement",children:"Allergen Management"}),o.jsxs("div",{className:"flex items-center space-x-2",children:[o.jsx(In,{id:"allergenManagement",type:"number",min:"0",max:"1",step:"0.01",value:r.allergenManagementWeight,onChange:k=>j("allergenManagementWeight",parseFloat(k.target.value)||0),className:"w-20"}),o.jsxs("span",{className:"text-sm text-muted-foreground",children:["(",Math.round(r.allergenManagementWeight*100),"%)"]}),o.jsx("div",{className:"flex-1",children:o.jsx(wt,{value:r.allergenManagementWeight*100})})]}),o.jsx("p",{className:"text-xs text-muted-foreground",children:"Proper handling and labeling of allergen information"})]})]}),o.jsx("div",{className:"mt-6 pt-6 border-t",children:o.jsxs("div",{className:"flex items-center justify-between mb-4",children:[o.jsxs("div",{children:[o.jsx("h4",{className:"font-medium",children:"Total Weight"}),o.jsxs("p",{className:"text-sm text-muted-foreground",children:[Object.values(r).reduce((k,E)=>k+E,0).toFixed(3)," / 1.000"]})]}),o.jsxs("div",{className:"flex space-x-2",children:[o.jsx(re,{variant:"outline",onClick:S,children:"Reset to Default"}),o.jsxs(re,{onClick:v,disabled:m.isPending,className:"bg-green-600 hover:bg-green-700",children:[o.jsx(p0,{className:"h-4 w-4 mr-2"}),m.isPending?"Saving...":"Save Configuration"]})]})]})})]})]})}),o.jsxs(rs,{value:"cache",className:"space-y-6",children:[o.jsxs(he,{children:[o.jsxs(Ee,{children:[o.jsxs(Te,{className:"flex items-center space-x-2",children:[o.jsx(cv,{className:"h-5 w-5"}),o.jsx("span",{children:"Обобщена API Статистика"})]}),o.jsx(yn,{children:"Общо използване и разходи за всички API услуги"})]}),o.jsx(fe,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-3xl font-bold text-blue-600",children:u?(u.placesSearchHits+u.placesSearchMisses+u.placeDetailsHits+u.placeDetailsMisses+u.photosHits+u.photosMisses+217).toLocaleString("fr-FR"):"0"}),o.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Общо Заявки"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsxs("div",{className:"text-3xl font-bold text-green-600",children:["$",u?(u.placesSearchMisses*.032+u.placeDetailsMisses*.017+u.photosMisses*.007+217*.12).toLocaleString("fr-FR",{minimumFractionDigits:2}):"0.00"]}),o.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Общо Разходи"})]}),o.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[o.jsxs("div",{className:"text-3xl font-bold text-purple-600",children:["$",u?u.totalSavings.toLocaleString("fr-FR",{minimumFractionDigits:2}):"0.00"]}),o.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Спестени Средства"})]}),o.jsxs("div",{className:"text-center p-4 bg-orange-50 rounded-lg",children:[o.jsx("div",{className:"text-3xl font-bold text-orange-600",children:u?`${Math.round(u.cacheHitRate*100)}%`:"0%"}),o.jsx("div",{className:"text-sm text-muted-foreground mt-1",children:"Cache Hit Rate"})]})]})})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[o.jsxs(he,{children:[o.jsx(Ee,{className:"pb-3",children:o.jsx(Te,{className:"text-base text-blue-600",children:"Google Places Search"})}),o.jsxs(fe,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Заявки:"}),o.jsx("span",{className:"font-medium",children:u?(u.placesSearchHits+u.placesSearchMisses).toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Cache Hits:"}),o.jsx("span",{className:"font-medium text-green-600",children:u?u.placesSearchHits.toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"API Calls:"}),o.jsx("span",{className:"font-medium text-orange-600",children:u?u.placesSearchMisses.toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[o.jsx("span",{children:"Разходи:"}),o.jsxs("span",{className:"font-bold",children:["$",u?(u.placesSearchMisses*.032).toLocaleString("fr-FR",{minimumFractionDigits:2}):"0,00"]})]})]})]}),o.jsxs(he,{children:[o.jsx(Ee,{className:"pb-3",children:o.jsx(Te,{className:"text-base text-green-600",children:"Google Place Details"})}),o.jsxs(fe,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Заявки:"}),o.jsx("span",{className:"font-medium",children:u?(u.placeDetailsHits+u.placeDetailsMisses).toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Cache Hits:"}),o.jsx("span",{className:"font-medium text-green-600",children:u?u.placeDetailsHits.toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"API Calls:"}),o.jsx("span",{className:"font-medium text-orange-600",children:u?u.placeDetailsMisses.toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[o.jsx("span",{children:"Разходи:"}),o.jsxs("span",{className:"font-bold",children:["$",u?(u.placeDetailsMisses*.017).toLocaleString("fr-FR",{minimumFractionDigits:2}):"0,00"]})]})]})]}),o.jsxs(he,{children:[o.jsx(Ee,{className:"pb-3",children:o.jsx(Te,{className:"text-base text-purple-600",children:"Google Photos"})}),o.jsxs(fe,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Заявки:"}),o.jsx("span",{className:"font-medium",children:u?(u.photosHits+u.photosMisses).toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Cache Hits:"}),o.jsx("span",{className:"font-medium text-green-600",children:u?u.photosHits.toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"API Calls:"}),o.jsx("span",{className:"font-medium text-orange-600",children:u?u.photosMisses.toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[o.jsx("span",{children:"Разходи:"}),o.jsxs("span",{className:"font-bold",children:["$",u?(u.photosMisses*.007).toLocaleString("fr-FR",{minimumFractionDigits:2}):"0,00"]})]})]})]}),o.jsxs(he,{children:[o.jsx(Ee,{className:"pb-3",children:o.jsx(Te,{className:"text-base text-red-600",children:"OpenAI GPT-4o"})}),o.jsxs(fe,{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"AI Scorings:"}),o.jsx("span",{className:"font-medium",children:s?s.withScores.toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"Cache Hits:"}),o.jsx("span",{className:"font-medium text-green-600",children:"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm",children:[o.jsx("span",{children:"API Calls:"}),o.jsx("span",{className:"font-medium text-orange-600",children:s?s.withScores.toLocaleString("fr-FR"):"0"})]}),o.jsxs("div",{className:"flex justify-between text-sm border-t pt-2",children:[o.jsx("span",{children:"Разходи:"}),o.jsxs("span",{className:"font-bold",children:["$",s?(s.withScores*.12).toLocaleString("fr-FR",{minimumFractionDigits:2}):"0,00"]})]})]})]})]}),o.jsxs(he,{children:[o.jsxs(Ee,{children:[o.jsxs(Te,{className:"flex items-center space-x-2",children:[o.jsx(lv,{className:"h-5 w-5"}),o.jsx("span",{children:"Cache Performance Analysis"})]}),o.jsx(yn,{children:"Детайлен анализ на ефективността на кеширането"})]}),o.jsx(fe,{children:o.jsx("div",{className:"space-y-4",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Places Search Cache"}),o.jsxs("span",{className:"text-sm font-bold",children:[u?Math.round(u.placesSearchHits/(u.placesSearchHits+u.placesSearchMisses)*100):0,"%"]})]}),o.jsx(wt,{value:u?u.placesSearchHits/(u.placesSearchHits+u.placesSearchMisses)*100:0,className:"h-2"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Place Details Cache"}),o.jsxs("span",{className:"text-sm font-bold",children:[u?Math.round(u.placeDetailsHits/(u.placeDetailsHits+u.placeDetailsMisses)*100):0,"%"]})]}),o.jsx(wt,{value:u?u.placeDetailsHits/(u.placeDetailsHits+u.placeDetailsMisses)*100:0,className:"h-2"})]}),o.jsxs("div",{className:"space-y-2",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-sm font-medium",children:"Photos Cache"}),o.jsxs("span",{className:"text-sm font-bold",children:[u?Math.round(u.photosHits/(u.photosHits+u.photosMisses)*100):0,"%"]})]}),o.jsx(wt,{value:u?u.photosHits/(u.photosHits+u.photosMisses)*100:0,className:"h-2"})]})]})})})]})]})]})]})})}function KM(){var a,s,c,u,h,f,g,m,y,b,j,v,S,N,w,C,k,E,R,O,D,V,H,Q,W,le,Z,ce,G,se,A,q,$,X,ue,Ce;const{data:e,isLoading:t,refetch:n}=St({queryKey:["/api/stats/usage"],refetchInterval:1e4}),r=async()=>{try{(await fetch("/api/stats/clear-cache",{method:"POST"})).ok&&(alert("Cache cleared successfully"),n())}catch{alert("Failed to clear cache")}};return t?o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"w-8 h-8 bg-vegan-green rounded-full animate-pulse mb-4"}),o.jsx("p",{className:"text-gray-600",children:"Loading API statistics..."})]})}):o.jsx("div",{className:"min-h-screen bg-gray-50 p-6",children:o.jsxs("div",{className:"max-w-6xl mx-auto",children:[o.jsxs("div",{className:"flex justify-between items-center mb-8",children:[o.jsxs("div",{children:[o.jsx("h1",{className:"text-3xl font-bold text-gray-900",children:"API Cost Optimization"}),o.jsx("p",{className:"text-gray-600 mt-2",children:"Monitor Google Places API usage and caching efficiency"})]}),o.jsx(re,{onClick:r,variant:"outline",children:"Clear Cache"})]}),o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs(he,{children:[o.jsx(Ee,{children:o.jsx(Te,{children:"API Calls Today"})}),o.jsx(fe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Places Search:"}),o.jsx("span",{className:"font-semibold",children:((a=e==null?void 0:e.apiCalls)==null?void 0:a.placesSearch)||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Place Details:"}),o.jsx("span",{className:"font-semibold",children:((s=e==null?void 0:e.apiCalls)==null?void 0:s.placeDetails)||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Photos:"}),o.jsx("span",{className:"font-semibold",children:((c=e==null?void 0:e.apiCalls)==null?void 0:c.photos)||0})]}),o.jsxs("div",{className:"flex justify-between border-t pt-3",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),o.jsx("span",{className:"font-bold text-blue-600",children:((u=e==null?void 0:e.apiCalls)==null?void 0:u.total)||0})]})]})})]}),o.jsxs(he,{children:[o.jsx(Ee,{children:o.jsx(Te,{children:"Cache Performance"})}),o.jsx(fe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Cache Hits:"}),o.jsx("span",{className:"font-semibold text-green-600",children:((h=e==null?void 0:e.cache)==null?void 0:h.hits)||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Cache Misses:"}),o.jsx("span",{className:"font-semibold text-red-600",children:((f=e==null?void 0:e.cache)==null?void 0:f.misses)||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Hit Rate:"}),o.jsxs("span",{className:"font-semibold",children:[((m=(g=e==null?void 0:e.cache)==null?void 0:g.hitRate)==null?void 0:m.toFixed(1))||"0.0","%"]})]}),o.jsxs("div",{className:"flex justify-between border-t pt-3",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Total Requests:"}),o.jsx("span",{className:"font-bold",children:((y=e==null?void 0:e.cache)==null?void 0:y.totalRequests)||0})]})]})})]}),o.jsxs(he,{children:[o.jsx(Ee,{children:o.jsx(Te,{children:"Cost Optimization"})}),o.jsx(fe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Potential Cost:"}),o.jsx("span",{className:"font-semibold",children:((b=e==null?void 0:e.costOptimization)==null?void 0:b.potentialCosts)||"$0.0000"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Actual Cost:"}),o.jsx("span",{className:"font-semibold",children:((j=e==null?void 0:e.costOptimization)==null?void 0:j.actualCosts)||"$0.0000"})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Estimated Savings:"}),o.jsx("span",{className:"font-semibold text-green-600",children:((v=e==null?void 0:e.costOptimization)==null?void 0:v.estimatedSavings)||"$0.0000"})]}),o.jsxs("div",{className:"flex justify-between border-t pt-3",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Savings %:"}),o.jsx("span",{className:"font-bold text-green-600",children:((S=e==null?void 0:e.costOptimization)==null?void 0:S.savingsPercentage)||"0%"})]})]})})]}),o.jsxs(he,{className:"md:col-span-2 lg:col-span-3",children:[o.jsx(Ee,{children:o.jsx(Te,{children:"Cache Storage Details"})}),o.jsx(fe,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:((C=(w=(N=e==null?void 0:e.cache)==null?void 0:N.sizes)==null?void 0:w.places)==null?void 0:C.size)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Places Cache Entries"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Geographic search results"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:((R=(E=(k=e==null?void 0:e.cache)==null?void 0:k.sizes)==null?void 0:E.details)==null?void 0:R.size)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Details Cache Entries"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Restaurant details & info"})]}),o.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:((V=(D=(O=e==null?void 0:e.cache)==null?void 0:O.sizes)==null?void 0:D.photos)==null?void 0:V.size)||0}),o.jsx("div",{className:"text-sm text-gray-600",children:"Photos Cache Entries"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Restaurant photos & images"})]})]})})]}),o.jsxs(he,{className:"md:col-span-2 lg:col-span-3",children:[o.jsx(Ee,{children:o.jsx(Te,{children:"Cost Optimization Analysis"})}),o.jsx(fe,{children:o.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Current Performance"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsxs("li",{children:["✓ ",((Q=(H=e==null?void 0:e.cache)==null?void 0:H.hitRate)==null?void 0:Q.toFixed(1))||"0.0","% cache hit rate achieved"]}),o.jsxs("li",{children:["✓ ",((W=e==null?void 0:e.costOptimization)==null?void 0:W.savingsPercentage)||"0%"," cost reduction"]}),o.jsxs("li",{children:["✓ ",((le=e==null?void 0:e.cache)==null?void 0:le.hits)||0," API calls avoided today"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Target Goals"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:"→ Target: 90% cache hit rate for Places API"}),o.jsx("li",{children:"→ Goal: 50-90% cost reduction through caching"}),o.jsx("li",{children:"→ Scale: Optimize for US expansion to 20 cities"})]})]})]})})})]})]}),e&&o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[o.jsxs(he,{children:[o.jsx(Ee,{children:o.jsx(Te,{children:"API Calls Today"})}),o.jsx(fe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Places Search:"}),o.jsx("span",{className:"font-semibold",children:((Z=e.apiCalls)==null?void 0:Z.placesSearch)||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Place Details:"}),o.jsx("span",{className:"font-semibold",children:((ce=e.apiCalls)==null?void 0:ce.placeDetails)||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Photos:"}),o.jsx("span",{className:"font-semibold",children:((G=e.apiCalls)==null?void 0:G.photos)||0})]}),o.jsxs("div",{className:"flex justify-between border-t pt-3",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Total:"}),o.jsx("span",{className:"font-bold text-blue-600",children:((se=e.apiCalls)==null?void 0:se.total)||0})]})]})})]}),o.jsxs(he,{children:[o.jsx(Ee,{children:o.jsx(Te,{children:"Cache Performance"})}),o.jsx(fe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Cache Hits:"}),o.jsx("span",{className:"font-semibold text-green-600",children:((A=e.cache)==null?void 0:A.hits)||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Cache Misses:"}),o.jsx("span",{className:"font-semibold text-red-600",children:((q=e.cache)==null?void 0:q.misses)||0})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Hit Rate:"}),o.jsxs("span",{className:"font-semibold",children:[((X=($=e.cache)==null?void 0:$.hitRate)==null?void 0:X.toFixed(1))||"0.0","%"]})]}),o.jsxs("div",{className:"flex justify-between border-t pt-3",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Total Requests:"}),o.jsx("span",{className:"font-bold",children:((ue=e.cache)==null?void 0:ue.totalRequests)||0})]})]})})]}),o.jsxs(he,{children:[o.jsx(Ee,{children:o.jsx(Te,{children:"Cost Optimization"})}),o.jsx(fe,{children:o.jsxs("div",{className:"space-y-3",children:[o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Potential Cost:"}),o.jsx("span",{className:"font-semibold",children:e.costOptimization.potentialCosts})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Actual Cost:"}),o.jsx("span",{className:"font-semibold",children:e.costOptimization.actualCosts})]}),o.jsxs("div",{className:"flex justify-between",children:[o.jsx("span",{className:"text-gray-600",children:"Estimated Savings:"}),o.jsx("span",{className:"font-semibold text-green-600",children:e.costOptimization.estimatedSavings})]}),o.jsxs("div",{className:"flex justify-between border-t pt-3",children:[o.jsx("span",{className:"font-semibold text-gray-900",children:"Savings %:"}),o.jsx("span",{className:"font-bold text-green-600",children:e.costOptimization.savingsPercentage})]})]})})]}),o.jsxs(he,{className:"md:col-span-2 lg:col-span-3",children:[o.jsx(Ee,{children:o.jsx(Te,{children:"Cache Storage Details"})}),o.jsx(fe,{children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[o.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-blue-600 mb-1",children:e.cache.sizes.places.size}),o.jsx("div",{className:"text-sm text-gray-600",children:"Places Cache Entries"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Geographic search results"})]}),o.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-green-600 mb-1",children:e.cache.sizes.details.size}),o.jsx("div",{className:"text-sm text-gray-600",children:"Details Cache Entries"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Restaurant details & info"})]}),o.jsxs("div",{className:"text-center p-4 bg-yellow-50 rounded-lg",children:[o.jsx("div",{className:"text-2xl font-bold text-yellow-600 mb-1",children:e.cache.sizes.photos.size}),o.jsx("div",{className:"text-sm text-gray-600",children:"Photos Cache Entries"}),o.jsx("div",{className:"text-xs text-gray-500 mt-1",children:"Restaurant photos & images"})]})]})})]}),o.jsxs(he,{className:"md:col-span-2 lg:col-span-3",children:[o.jsx(Ee,{children:o.jsx(Te,{children:"Cost Optimization Analysis"})}),o.jsx(fe,{children:o.jsx("div",{className:"bg-gradient-to-r from-green-50 to-blue-50 p-6 rounded-lg",children:o.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Current Performance"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsxs("li",{children:["✓ ",((Ce=e.cache.hitRate)==null?void 0:Ce.toFixed(1))||"0.0","% cache hit rate achieved"]}),o.jsxs("li",{children:["✓ ",e.costOptimization.savingsPercentage," cost reduction"]}),o.jsxs("li",{children:["✓ ",e.cache.hits," API calls avoided today"]})]})]}),o.jsxs("div",{children:[o.jsx("h3",{className:"font-semibold text-gray-900 mb-3",children:"Target Goals"}),o.jsxs("ul",{className:"space-y-2 text-sm",children:[o.jsx("li",{children:"→ Target: 90% cache hit rate for Places API"}),o.jsx("li",{children:"→ Goal: 50-90% cost reduction through caching"}),o.jsx("li",{children:"→ Scale: Optimize for US expansion to 20 cities"})]})]})]})})})]})]})]})})}function qM(){const[,e]=sr(),{isAuthenticated:t,isLoading:n}=ja(),{toast:r}=Ft();_.useEffect(()=>{if(!n&&!t){r({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500);return}},[t,n,r]);const{data:a=[],isLoading:s,error:c}=St({queryKey:["/api/favorites"],enabled:t,retry:!1});if(_.useEffect(()=>{c&&Ih(c)&&(r({title:"Unauthorized",description:"You are logged out. Logging in again...",variant:"destructive"}),setTimeout(()=>{window.location.href="/api/login"},500))},[c,r]),n||s)return o.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:o.jsx("div",{className:"text-center",children:o.jsx("div",{className:"text-gray-500",children:"Loading your favorites..."})})});const u=f=>f>=8.5?"text-green-600 bg-green-50":f>=7?"text-green-500 bg-green-50":f>=5.5?"text-yellow-600 bg-yellow-50":f>=4?"text-orange-600 bg-orange-50":"text-red-600 bg-red-50",h=f=>f>=8.5?"Excellent":f>=7?"Very Good":f>=5.5?"Good":f>=4?"Fair":"Limited";return o.jsxs("div",{className:"min-h-screen bg-gray-50",children:[o.jsx("div",{className:"bg-white border-b border-gray-200 shadow-sm",children:o.jsxs("div",{className:"flex items-center px-4 py-3 h-16",children:[o.jsx(re,{variant:"ghost",onClick:()=>e("/profile"),className:"p-2 mr-3 hover:bg-gray-100 rounded-full",children:o.jsx("span",{className:"text-xl",children:"←"})}),o.jsxs("div",{className:"flex-1",children:[o.jsx("h1",{className:"text-xl font-semibold",children:"My Favorites"}),o.jsxs("p",{className:"text-sm text-gray-600",children:[a.length," saved restaurants"]})]})]})}),o.jsx("div",{className:"max-w-4xl mx-auto p-4",children:a.length===0?o.jsxs("div",{className:"text-center py-12",children:[o.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"❤️"}),o.jsx("h2",{className:"text-xl font-semibold text-gray-700 mb-2",children:"No favorites yet"}),o.jsx("p",{className:"text-gray-500 mb-6",children:"Start exploring restaurants and save your favorites!"}),o.jsx(re,{onClick:()=>e("/"),className:"bg-green-600 hover:bg-green-700",children:"Explore Restaurants"})]}):o.jsx("div",{className:"grid gap-4",children:a.map(f=>{const g=f.veganScore?parseFloat(f.veganScore):0;return o.jsx(he,{className:"hover:shadow-md transition-shadow",children:o.jsx(fe,{className:"p-6",children:o.jsx("div",{className:"flex justify-between items-start",children:o.jsxs("div",{className:"flex-1",children:[o.jsxs("div",{className:"flex items-start justify-between mb-2",children:[o.jsx("h3",{className:"font-semibold text-xl",children:f.name}),o.jsx(Iw,{restaurantId:f.id,size:"md"})]}),o.jsxs("div",{className:"flex items-center text-gray-600 mb-3",children:[o.jsx(kr,{className:"h-4 w-4 mr-2"}),o.jsx("span",{className:"text-sm",children:f.address})]}),o.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[o.jsxs("div",{className:`inline-flex items-center px-3 py-1 rounded-full text-sm font-medium ${u(g)}`,children:["Vegan Score: ",g.toFixed(1),"/10 · ",h(g)]}),f.rating&&o.jsxs("div",{className:"flex items-center",children:[o.jsx(Yf,{className:"h-4 w-4 text-yellow-500 mr-1"}),o.jsxs("span",{className:"text-sm font-medium",children:[f.rating,"/5"]}),o.jsx("span",{className:"text-gray-500 text-sm ml-1",children:"Google"})]}),f.priceLevel&&o.jsxs("div",{className:"flex items-center",children:[o.jsx("span",{className:"text-sm text-gray-500 mr-1",children:"Price:"}),o.jsx("span",{className:"text-sm font-medium",children:"€".repeat(parseInt(f.priceLevel))})]})]}),o.jsxs("div",{className:"flex items-center space-x-4 mb-3",children:[f.phoneNumber&&o.jsxs("a",{href:`tel:${f.phoneNumber}`,className:"flex items-center text-blue-600 hover:underline text-sm",children:[o.jsx(cc,{className:"h-4 w-4 mr-1"}),f.phoneNumber]}),f.website&&o.jsxs("a",{href:f.website,target:"_blank",rel:"noopener noreferrer",className:"flex items-center text-blue-600 hover:underline text-sm",children:[o.jsx(h0,{className:"h-4 w-4 mr-1"}),"Website"]})]}),f.cuisineTypes&&f.cuisineTypes.length>0&&o.jsx("div",{className:"flex flex-wrap gap-2 mb-4",children:f.cuisineTypes.filter(m=>!["point_of_interest","establishment"].includes(m)).slice(0,4).map(m=>o.jsx(qi,{variant:"secondary",className:"text-xs",children:m.replace(/_/g," ").toLowerCase()},m))}),o.jsxs("div",{className:"flex gap-3",children:[o.jsxs(re,{onClick:()=>e(`/?restaurant=${f.id}`),className:"flex-1",children:[o.jsx(kr,{className:"h-4 w-4 mr-2"}),"View on Map"]}),o.jsxs(re,{variant:"outline",onClick:()=>{const m=encodeURIComponent(`${f.name} ${f.address}`);window.open(`https://www.google.com/maps/search/?api=1&query=${m}`,"_blank")},className:"flex-1",children:[o.jsx(kr,{className:"h-4 w-4 mr-2"}),"Directions"]}),f.phoneNumber&&o.jsxs(re,{variant:"outline",onClick:()=>window.open(`tel:${f.phoneNumber}`,"_self"),children:[o.jsx(cc,{className:"h-4 w-4 mr-2"}),"Call"]})]})]})})})},f.id)})})})]})}const wb=_.forwardRef(({className:e,...t},n)=>o.jsx("textarea",{className:_e("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:n,...t}));wb.displayName="Textarea";function QM(){const[,e]=sr(),{toast:t}=Ft(),n=Un(),[r,a]=_.useState([]),[s,c]=_.useState(""),[u,h]=_.useState(!1),[f,g]=_.useState(!1),[m,y]=_.useState(!1),[b,j]=_.useState(!1),[v,S]=_.useState(!1),[N,w]=_.useState(Date.now()),C=_.useRef(null),k=_.useRef([]),E=_.useRef(null),R=_.useRef(null),O=/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)||window.innerWidth<=768,D="webkitSpeechRecognition"in window||"SpeechRecognition"in window;console.log("🔍 Device detection:",{userAgent:navigator.userAgent,isMobile:O,windowWidth:window.innerWidth,supportsSpeechRecognition:D,hasMediaDevices:"mediaDevices"in navigator,hasGetUserMedia:navigator.mediaDevices&&"getUserMedia"in navigator.mediaDevices}),console.log("🎯 Conversation state:",{conversationActive:m,isRecording:u,isProcessing:f,isSpeaking:b});const{data:V}=St({queryKey:["/api/chat/history"],retry:!1});_.useEffect(()=>{V&&typeof V=="object"&&"messages"in V&&Array.isArray(V.messages)&&a(V.messages.map(B=>({...B,timestamp:new Date(B.timestamp)})))},[V]),_.useEffect(()=>{var B;(B=E.current)==null||B.scrollIntoView({behavior:"smooth"})},[r]);const H=Dt({mutationFn:async B=>{const ee=await fetch("/api/chat",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({message:B}),credentials:"include"});if(!ee.ok)throw new Error("Failed to send message");return await ee.json()},onSuccess:B=>{const Y={role:"assistant",content:B.message||B.response,timestamp:new Date};a(F=>[...F,Y]),n.invalidateQueries({queryKey:["/api/chat/history"]})}}),Q=Dt({mutationFn:async B=>{const ee=new FormData;ee.append("audio",B,"recording.webm");const Y=await fetch("/api/audio",{method:"POST",body:ee,credentials:"include"});if(!Y.ok)throw Y.status===401?new Error("Unauthorized access"):new Error(`HTTP ${Y.status}: ${Y.statusText}`);return await Y.json()},onSuccess:async B=>{console.log("🎉 Voice chat success data:",B),console.log("🔍 Current conversation state:",{conversationActive:m,isSpeaking:b,isRecording:u,isProcessing:f});const ee=B.text.toLowerCase().trim();if(["благодаря ви, че гледахте","абонирайте се","видеоклип","канал","нови видео"].some(xe=>ee.includes(xe))){console.log("🚫 Detected nonsensical/repetitive transcription, ignoring");return}w(Date.now()),console.log("✅ Valid user input detected, activity time updated");const ne={role:"user",content:B.text,timestamp:new Date},ge={role:"assistant",content:B.reply,timestamp:new Date};a(xe=>[...xe,ne,ge]),console.log("🔊 Starting TTS for response:",B.reply),console.log("🎯 Before TTS - conversationActive:",m),console.log("🔍 SpeechSynthesis support check:",{hasSpeechSynthesis:"speechSynthesis"in window,hasUtterance:"SpeechSynthesisUtterance"in window,voices:speechSynthesis?speechSynthesis.getVoices().length:0}),console.log("🎯 FORCE TTS TEST - About to call speakText with reply:",B.reply),console.log("🔍 speakText function exists:",typeof se),console.log("🔍 conversationActive state:",m),console.log("🔊 CALLING speakText DIRECTLY..."),se(B.reply).then(()=>console.log("✅ TTS Promise resolved")).catch(xe=>console.error("❌ TTS Promise rejected:",xe)),console.log("🔄 TTS call initiated, continuing..."),w(Date.now()),n.invalidateQueries({queryKey:["/api/chat/history"]})},onError:B=>{console.error("Voice chat error:",B),B.message==="Unauthorized access"?t({title:"Неоторизиран достъп",description:"Моля, влезте в профила си.",variant:"destructive"}):t({title:"Грешка при обработката",description:"Възникна проблем при обработката на аудиото.",variant:"destructive"})}}),W=Dt({mutationFn:async()=>{const B=await fetch("/api/chat/clear",{method:"POST",credentials:"include",headers:{"Content-Type":"application/json"}});if(!B.ok)throw new Error(`Failed to clear chat: ${B.status}`);return B.json()},onSuccess:()=>{a([]),$(),n.invalidateQueries({queryKey:["/api/chat/history"]}),t({title:"Чат изчистен",description:"Историята на разговора е изтрита."})},onError:()=>{t({title:"Грешка",description:"Неуспешно изчистване на чата.",variant:"destructive"})}}),le=async()=>{try{const B=await navigator.mediaDevices.getUserMedia({audio:!0});return S(!0),B.getTracks().forEach(ee=>ee.stop()),!0}catch(B){return console.error("Microphone permission denied:",B),t({title:"Достъп до микрофона отказан",description:"Моля, разрешете достъп до микрофона в настройките на браузъра.",variant:"destructive"}),!1}},Z=async()=>{if(!(!v&&!await le()))try{const B=await navigator.mediaDevices.getUserMedia({audio:{sampleRate:48e3,channelCount:1,echoCancellation:!0,noiseSuppression:!0}}),ee=new MediaRecorder(B,{mimeType:"audio/webm;codecs=opus"});C.current=ee,k.current=[],ee.ondataavailable=Y=>{Y.data.size>0&&k.current.push(Y.data)},ee.onstop=async()=>{const Y=new Blob(k.current,{type:"audio/webm"});if(Y.size<1500){console.log("🔇 Silent recording detected (small file), not updating activity");return}g(!0);try{await Q.mutateAsync(Y)}catch{console.log("🔇 Error processing audio, continuing...")}finally{g(!1)}B.getTracks().forEach(F=>F.stop())},ee.start(),h(!0),setTimeout(()=>{C.current&&C.current.state==="recording"&&ce()},5e3)}catch(B){console.error("Failed to start recording:",B),t({title:"Грешка при записването",description:"Не може да се достъпи микрофонът.",variant:"destructive"})}},ce=()=>{C.current&&C.current.state==="recording"&&(C.current.stop(),h(!1))},G=()=>{if(!window.speechSynthesis)return;console.log("🎵 Initializing TTS with user gesture...");const B=new SpeechSynthesisUtterance("");B.volume=0,speechSynthesis.speak(B),console.log("✅ TTS initialized with user interaction")},se=async B=>(console.log("🔊 ===== SPEAKTEXT FUNCTION CALLED ====="),console.log("🔊 Input text:",B.substring(0,50)+"..."),window.speechSynthesis?(G(),new Promise(ee=>{console.log("🎵 Creating speech utterance..."),j(!0),speechSynthesis.cancel();const Y=new SpeechSynthesisUtterance(B);Y.volume=1,Y.rate=.8,Y.pitch=1;const F=/[а-яА-Я]/.test(B);Y.lang=F?"bg-BG":"en-US",console.log("🌍 Language:",Y.lang);const ne=speechSynthesis.getVoices();if(ne.length>0){const xe=ne.find(Pe=>Pe.lang.startsWith(F?"bg":"en"))||ne[0];Y.voice=xe,console.log("🎤 Using voice:",xe.name)}Y.onstart=()=>{console.log("🎤 TTS STARTED")},Y.onend=()=>{console.log("✅ TTS COMPLETED"),j(!1),m&&(console.log("🔄 TTS finished, continuing conversation..."),setTimeout(()=>{m&&!u&&(console.log("🎙️ Starting next recording after TTS completion"),Z())},500)),ee()},Y.onerror=xe=>{console.error("❌ TTS ERROR:",xe.error),j(!1),ee()},console.log("🎯 Starting speech..."),(()=>{speechSynthesis.speak(Y),setTimeout(()=>{!speechSynthesis.speaking&&speechSynthesis.paused&&(console.log("🔄 Resuming paused speech..."),speechSynthesis.resume())},100),setTimeout(()=>{console.log("🔍 Speech status:",{speaking:speechSynthesis.speaking,pending:speechSynthesis.pending,paused:speechSynthesis.paused})},500)})(),setTimeout(()=>{b&&(console.log("⏰ TTS timeout"),j(!1),ee())},8e3)})):(console.log("❌ SpeechSynthesis not supported"),Promise.resolve())),A=()=>{if(console.log("🎤 Voice button clicked!"),window.speechSynthesis&&G(),!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){console.log("❌ MediaDevices API not supported"),t({title:"Микрофон не е достъпен",description:"Вашето устройство не поддържа запис на звук.",variant:"destructive"});return}m?(console.log("🛑 Ending conversation..."),$()):(console.log("🎙️ Starting voice conversation..."),q())},q=async()=>{if(console.log("🚀 Starting voice conversation..."),!v&&(console.log("🔐 Permission not granted, requesting..."),!await le())){console.log("❌ Permission denied");return}console.log("✅ Setting conversation active"),y(!0),w(Date.now());const B=()=>{R.current&&clearTimeout(R.current),R.current=setTimeout(()=>{Date.now()-N>=3e3&&m?(console.log("⏹️ 3 seconds of inactivity detected, ending conversation silently"),$()):m&&(Z(),B())},1e3)};B(),console.log("🎙️ Starting whisper recording..."),Z()},$=()=>{y(!1),h(!1),g(!1),j(!1),R.current&&(clearTimeout(R.current),R.current=null),"speechSynthesis"in window&&speechSynthesis.cancel(),C.current&&C.current.stop(),speechSynthesis.cancel()},X=_.useMemo(()=>(console.log("🔄 Voice button state recalculated:",{isProcessing:f,isRecording:u,conversationActive:m,isSpeaking:b}),f||b?{variant:"secondary",disabled:!0,text:f?"Обработвам...":"Говоря..."}:m?{variant:"destructive",disabled:!1,text:u?"Записвам...":"Спри разговор"}:{variant:"default",disabled:!1,text:"Започни разговор"}),[m,u,f,b]),ue=B=>{if(B.preventDefault(),!s.trim())return;const ee={role:"user",content:s,timestamp:new Date};a(Y=>[...Y,ee]),H.mutate(s),c("")},Ce=["Как се изчислява vegan score?","Намери веган ресторанти наблизо","Опции за алергии","Най-добри веган места","Обясни оценката подробно"];return o.jsxs("div",{className:"min-h-screen bg-white flex flex-col",children:[o.jsxs("div",{className:"sticky top-0 bg-white border-b border-gray-200 p-4 flex items-center justify-between",children:[o.jsxs("div",{className:"flex items-center space-x-3",children:[o.jsx(re,{variant:"ghost",size:"sm",onClick:()=>e("/"),className:"p-2",children:o.jsx(Qf,{className:"w-4 h-4"})}),o.jsx("h1",{className:"text-lg font-semibold",children:"VeganMap AI Асистент"})]}),o.jsxs(re,{variant:"outline",size:"sm",onClick:()=>W.mutate(),disabled:W.isPending||r.length===0,className:"flex items-center space-x-2",children:[o.jsx(Ik,{className:"w-4 h-4"}),o.jsx("span",{children:"Изчисти"})]})]}),o.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",children:[m&&o.jsxs("div",{className:"mb-4 p-3 bg-blue-50 border border-blue-200 rounded-lg text-center",children:[o.jsxs("p",{className:"text-sm text-blue-700 font-medium",children:["🎙️ Гласов разговор активен - ",u?"Записвам...":f?"Обработвам...":b?"Говоря...":"Готов"]}),o.jsx("p",{className:"text-xs text-blue-600 mt-1",children:"Разговорът ще продължи автоматично след всеки отговор"})]}),r.length===0&&o.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-3 mb-6",children:Ce.map((B,ee)=>o.jsx(re,{variant:"outline",className:"text-left justify-start h-auto p-3 text-sm",onClick:()=>{c(B);const Y={role:"user",content:B,timestamp:new Date};a(F=>[...F,Y]),H.mutate(B)},children:B},ee))}),r.map((B,ee)=>o.jsx("div",{className:`flex ${B.role==="user"?"justify-end":"justify-start"}`,children:o.jsxs("div",{className:`max-w-xs md:max-w-md lg:max-w-lg p-3 rounded-2xl ${B.role==="user"?"bg-blue-500 text-white rounded-br-md":"bg-gray-100 text-gray-900 rounded-bl-md"}`,children:[o.jsx("p",{className:"text-sm",children:B.content}),o.jsx("p",{className:`text-xs mt-1 ${B.role==="user"?"text-blue-100":"text-gray-500"}`,children:B.timestamp.toLocaleTimeString("bg-BG",{hour:"2-digit",minute:"2-digit"})})]})},ee)),(H.isPending||Q.isPending)&&o.jsx("div",{className:"flex justify-start",children:o.jsx("div",{className:"bg-gray-100 rounded-2xl rounded-bl-md p-3 max-w-xs",children:o.jsxs("div",{className:"flex space-x-1",children:[o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse"}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse",style:{animationDelay:"0.2s"}}),o.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-pulse",style:{animationDelay:"0.4s"}})]})})}),o.jsx("div",{ref:E})]}),o.jsxs("div",{className:"border-t border-gray-200 p-4 bg-white",children:[o.jsx("div",{className:"mb-4 flex justify-center space-x-3",children:o.jsxs("button",{onTouchStart:B=>{console.log("🎤 Voice button TOUCH START triggered!")},onTouchEnd:B=>{B.preventDefault(),B.stopPropagation(),console.log("🎤 Voice button TOUCH END triggered!"),console.log("Button state:",X),A()},onClick:B=>{B.preventDefault(),B.stopPropagation(),console.log("🎤 Voice button CLICK triggered!"),console.log("Button state:",X),A()},onPointerDown:B=>{console.log("🎤 Voice button POINTER DOWN triggered!")},disabled:X.disabled,className:`
              flex items-center space-x-2 px-4 py-2 rounded-md font-medium transition-colors
              ${X.variant==="destructive"?"bg-red-500 hover:bg-red-600 text-white":X.variant==="secondary"?"bg-gray-200 text-gray-600 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}
              ${X.disabled?"opacity-50 cursor-not-allowed":"cursor-pointer active:scale-95"}
            `,type:"button",children:[m?o.jsx(Ek,{className:"w-4 h-4"}):o.jsx(Tk,{className:"w-4 h-4"}),o.jsx("span",{children:X.text})]})}),o.jsxs("form",{onSubmit:ue,className:"flex space-x-2",children:[o.jsx(wb,{value:s,onChange:B=>c(B.target.value),placeholder:O?"Напишете съобщение...":"Напишете съобщение или използвайте гласовия асистент...",className:"flex-1 min-h-[2.5rem] max-h-32 resize-none",onKeyDown:B=>{B.key==="Enter"&&!B.shiftKey&&(B.preventDefault(),ue(B))}}),o.jsx(re,{type:"submit",disabled:!s.trim()||H.isPending,className:"px-3",children:o.jsx(Ok,{className:"w-4 h-4"})})]})]})]})}function YM(){const{isAuthenticated:e,isLoading:t,user:n}=ja();return t?o.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-vegan-light-green to-white",children:o.jsxs("div",{className:"text-center",children:[o.jsx("div",{className:"inline-flex items-center justify-center w-20 h-20 bg-vegan-green rounded-2xl mb-4 animate-pulse",children:o.jsx("i",{className:"fas fa-leaf text-white text-3xl"})}),o.jsx("p",{className:"text-neutral-gray font-opensans",children:"Loading VeganMapAI..."})]})}):o.jsxs(Wj,{children:[e?o.jsxs(o.Fragment,{children:[o.jsx(_t,{path:"/",component:Rv}),o.jsx(_t,{path:"/profile-setup",component:LM}),o.jsx(_t,{path:"/home",component:Rv}),o.jsx(_t,{path:"/search",component:EM}),o.jsx(_t,{path:"/restaurant/:id",component:AM}),o.jsx(_t,{path:"/profile",component:$M}),o.jsx(_t,{path:"/favorites",component:qM}),o.jsx(_t,{path:"/admin-scoring",component:Dv}),o.jsx(_t,{path:"/admin-improve",component:VM}),o.jsx(_t,{path:"/admin",component:GM}),o.jsx(_t,{path:"/api-stats",component:KM}),o.jsx(_t,{path:"/ai-chat",component:QM})]}):o.jsxs(o.Fragment,{children:[o.jsx(_t,{path:"/",component:QE}),o.jsx(_t,{path:"/admin-scoring",component:Dv})]}),o.jsx(_t,{component:KE})]})}function XM(){return o.jsx(hP,{client:SP,children:o.jsxs(ZE,{children:[o.jsx(yL,{}),o.jsx(YM,{})]})})}l_(document.getElementById("root")).render(o.jsx(XM,{}));
